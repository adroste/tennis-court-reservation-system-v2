{"version":3,"sources":["calendar/useTime.js","calendar/DatePicker.js","calendar/ReservationDetails.js","calendar/ReservationGroupModal.module.css","user/LoginForm.js","user/LoginForm.module.css","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js","calendar/DatePicker.module.css","calendar/DateTimeRangeSelect.module.css","calendar/ReservationDetails.module.css","calendar/ScrollRadioGroup.module.css","calendar/RepeatReservationForm.module.css","calendar/ReservationDetailsForm.module.css","user/VerifyMailModal.module.css","../node_modules/@ant-design/icons/EllipsisOutlined.js","../node_modules/@ant-design/icons/lib/icons/EllipsisOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/EllipsisOutlined.js","calendar/DateTimeRangeSelect.js","calendar/ScrollRadioGroup.js","calendar/DisableReservationGroupModal.js","user/LoginModal.js","calendar/RepeatReservationForm.js","calendar/ReservationTimeSelect.js","calendar/ReservationDetailsForm.js","calendar/ReservationGroupModal.js","user/VerifyMailModal.js","calendar/ReservationModal.js","../node_modules/rc-dropdown/es/placements.js","../node_modules/rc-dropdown/es/Dropdown.js","../node_modules/rc-dropdown/es/index.js","../node_modules/@ant-design/icons/PlusOutlined.js","../node_modules/@ant-design/icons/lib/icons/PlusOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/PlusOutlined.js","../node_modules/rc-tabs/es/hooks/useRaf.js","../node_modules/rc-tabs/es/TabNavList/TabNode.js","../node_modules/rc-tabs/es/hooks/useOffsets.js","../node_modules/rc-tabs/es/hooks/useVisibleRange.js","../node_modules/rc-tabs/es/TabNavList/AddButton.js","../node_modules/rc-tabs/es/TabNavList/OperationNode.js","../node_modules/rc-tabs/es/TabContext.js","../node_modules/rc-tabs/es/hooks/useTouchMove.js","../node_modules/rc-tabs/es/hooks/useSyncState.js","../node_modules/rc-tabs/es/TabNavList/index.js","../node_modules/rc-tabs/es/hooks/useRefs.js","../node_modules/rc-tabs/es/TabPanelList/index.js","../node_modules/rc-tabs/es/TabPanelList/TabPane.js","../node_modules/rc-tabs/es/Tabs.js","../node_modules/rc-tabs/es/index.js","../node_modules/antd/es/tabs/index.js","calendar/ReservationDetailsCard.module.css","calendar/MyReservationsPage.module.css","../node_modules/antd/es/card/Grid.js","../node_modules/antd/es/card/Meta.js","../node_modules/antd/es/card/index.js","calendar/ReservationDetailsCard.js","calendar/MyReservationsPage.js"],"names":["useTime","unit","useState","dayjs","tz","time","setTime","useEffect","interval","setInterval","newTime","isSame","clearInterval","AntDatePicker","generatePicker","dayjsGenerateConfig","DatePicker","props","inputReadOnly","size","panelRender","panel","className","styles","pickerPanel","cn","classNames","bind","ReservationDetails","court","date","inline","name","repeat","wrapper","item","title","content","module","exports","LoginForm","useContext","authContext","autoLoginState","setUser","setRememberLogin","useApi","postLoginApi","loginState","login","loading","valStatus","error","undefined","onFinish","useCallback","mail","password","rememberLogin","type","layout","Item","message","rules","required","validateStatus","autoComplete","prefix","style","color","placeholder","disabled","Password","valuePropName","noStyle","forgotLink","to","htmlType","loginButton","text","registerItem","Row","Col","obj","Object","defineProperty","value","default","_default","require","__esModule","_interopRequireDefault","_interopRequireWildcard","React","_EllipsisOutlined","_AntdIcon","EllipsisOutlined","ref","createElement","assign","icon","displayName","forwardRef","DateTimeRangeSelect","from","onFromChange","onToChange","hours","useMemo","Array","keys","updateTimes","newFrom","newTo","isAfter","tmp","add","handleFromDateChange","newFromDate","hour","handleToDateChange","newToDate","handleFromHourChange","newFromHour","handleToHourChange","newToHour","allowClear","bordered","datePicker","format","onChange","showToday","suffixIcon","DownOutlined","map","Option","ScrollRadioGroup","children","rest","innerRef","useRef","leftScroll","setLeftScroll","rightScroll","setRightScroll","updateStops","current","scrollLeft","scrollWidth","offsetWidth","handleClick","e","offsetLeft","target","parentNode","requestAnimationFrame","Math","max","outer","inner","onClick","onScroll","Group","buttonStyle","DisableReservationGroupModal","initialFrom","initialCourtId","reservation","setOuterReservations","setReservations","appContext","visibleHours","config","courts","reason","setReason","startOf","setFrom","setTo","courtId","setCourtId","prevErrorRef","postReservationGroupApi","postState","postReservationGroup","patchReservationGroupApi","patchState","patchReservationGroup","changed","unavailableReservations","uaRes","handleChangeReason","handleCourtIdChange","handleDisableCourt","checkDate","isSameOrAfter","Modal","width","centered","confirm","okText","okType","onOk","path","groupId","reservations","success","RESERVATION_TYPES","DISABLE","handleRemoveDisable","post","patch","getCourtName","visible","onCancel","footer","ErrorResult","StatusText","Button","label","changeReasonHint","LoginModal","onClose","defaultRepeatValuesMap","1","7","14","RepeatReservationForm","currentReservations","defaultAddCount","repeatValuesMap","user","reservationDaysInAdvance","now","repeatValue","setRepeatValue","visibleDates","setVisibleDates","selectedDates","_setSelectedDates","dateToReservation","checkIfTooFarAhead","checkIfNotAvailable","r1","some","r2","setSelectedDates","_selectedDates","dates","filter","d","s","length","r","sort","a","b","valueOf","Number","MAX_SAFE_INTEGER","i","diff","min","abs","toString","allowedValues","includes","first","last","count","push","addDate","handleRepeatValueChange","newRepeatValue","handleCheckedChange","checked","newSelection","newVisibleDates","pop","reserved","cr","sd","change","past","isBefore","notAvailable","tooFarAhead","dateButton","unchecked","danger","admin","LockOutlined","DeleteOutlined","PlusOutlined","extra","buttons","ReservationTimeSelect","visibleHoursToHoursArray","toHours","reduce","h","handleFromChange","handleToChange","direction","ReservationDetailsForm","onCourtIdChange","onReservationsChange","onTextChange","readOnly","editName","setEditName","handleEditName","handleCancelEditName","handleDateChange","handleTextChange","plain","nameInput","EditOutlined","ReservationGroupModal","initialTo","reservationTos","templates","changeReason","setChangeReason","setText","groupReservations","setGroupReservations","getReservationsApi","state","getGroupReservations","adminEdit","userId","canEdit","newReservations","gr","cancelReservations","changeText","query","handleChangeChangeReason","handlePostReservation","dangerouslySetInnerHTML","__html","body","NORMAL","handleChangeReservation","ExclamationCircleOutlined","heading","cancelText","handleCancelReservation","cancelType","doDelete","reqParams","cancelRadioGroup","defaultValue","Ball","spin","large","TextArea","autoSize","VerifyMailModal","history","useHistory","handleChangeMailClick","handleResendMail","status","ReservationModal","verified","autoAdjustOverflow","adjustX","adjustY","targetOffset","placements","topLeft","points","overflow","offset","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","_props$arrow","arrow","_props$prefixCls","prefixCls","transitionName","animation","align","_props$placement","placement","_props$placements","Placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","_props$trigger","trigger","otherProps","_objectWithoutProperties","_React$useState","_React$useState2","_slicedToArray","triggerVisible","setTriggerVisible","mergedVisible","triggerRef","getOverlayElement","overlay","onOverlayClick","overlayProps","getMenuElement","overlayElement","extraOverlayProps","concat","triggerHideAction","indexOf","Trigger","popupClassName","_defineProperty","popupStyle","builtinPlacements","action","popupPlacement","popupAlign","popupTransitionName","popupAnimation","popupVisible","stretch","minOverlayWidthMatchTrigger","alignPoint","getMinOverlayWidthMatchTrigger","popup","onPopupVisibleChange","onVisibleChange","childrenProps","childClassName","openClassName","getOpenClassName","renderChildren","Dropdown","_PlusOutlined","useRaf","callback","rafRef","removedRef","raf","cancel","_len","arguments","args","_key","apply","_ref","_classNames","id","active","rtl","_ref$tab","tab","key","closeIcon","tabBarGutter","tabPosition","closable","renderWrapper","removeAriaLabel","editable","onRemove","onFocus","tabPrefix","nodeStyle","marginBottom","removable","onInternalClick","node","role","tabIndex","stopPropagation","onKeyDown","KeyCode","SPACE","ENTER","which","preventDefault","event","onEdit","removeIcon","DEFAULT_SIZE","height","left","top","right","locale","showAdd","addAriaLabel","addIcon","tabs","mobile","_ref$moreIcon","moreIcon","moreTransitionName","onTabClick","_useState","_useState2","open","setOpen","_useState3","_useState4","selectedKey","setSelectedKey","popupId","dropdownPrefix","selectedItemId","dropdownAriaLabel","menu","Menu","_ref2","domEvent","selectedKeys","MenuItem","selectOffset","enabledTabs","selectedIndex","findIndex","len","ele","document","getElementById","scrollIntoView","moreStyle","visibility","order","moreNode","mouseEnterDelay","mouseLeaveDelay","UP","DOWN","ESC","AddButton","createContext","SPEED_OFF_MULTIPLE","pow","useSyncState","defaultState","stateRef","forceUpdate","updater","newValue","ExtraContent","position","assertExtra","_React$useContext","TabContext","animated","activeKey","onTabScroll","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","_useRefs","cacheRefs","Map","has","set","get","delete","useRefs","_useRefs2","getBtnRef","removeBtnRef","tabPositionTopOrBottom","_useSyncState","next","prev","_useSyncState2","transformLeft","setTransformLeft","_useSyncState3","_useSyncState4","transformTop","setTransformTop","wrapperScrollWidth","setWrapperScrollWidth","wrapperScrollHeight","setWrapperScrollHeight","_useState5","_useState6","wrapperContentWidth","setWrapperContentWidth","_useState7","_useState8","wrapperContentHeight","setWrapperContentHeight","_useState9","_useState10","wrapperWidth","setWrapperWidth","_useState11","_useState12","wrapperHeight","setWrapperHeight","_useState13","_useState14","addWidth","setAddWidth","_useState15","_useState16","addHeight","setAddHeight","_useRafState","batchRef","flushUpdate","forEach","useRafState","_useRafState2","tabSizes","setTabSizes","tabOffsets","holderScrollWidth","_tabs$","lastOffset","rightOffset","_tabs","data","entity","_objectSpread","join","useOffsets","operationsHiddenClassName","transformMin","transformMax","alignInRange","touchMovingRef","_useState17","_useState18","lockAnimation","setLockAnimation","doLockAnimation","Date","clearTouchMoving","window","clearTimeout","scrollToTab","tabOffset","newTransform","_newTransform","onOffset","touchPosition","setTouchPosition","lastTimestamp","setLastTimestamp","lastTimeDiff","setLastTimeDiff","setLastOffset","motionRef","lastWheelTimestampRef","lastWheelPreventRef","lastWheelDirectionRef","touchEventsRef","onTouchStart","_e$touches$","touches","screenX","screenY","x","y","onTouchMove","_e$touches$2","offsetX","offsetY","onTouchEnd","distanceX","distanceY","absX","absY","currentX","currentY","onWheel","deltaX","deltaY","mixed","onProxyTouchMove","onProxyTouchEnd","addEventListener","passive","removeEventListener","useTouchMove","doMove","setState","_alignInRange","_alignInRange2","needPrevent","setTimeout","_useVisibleRange","containerSize","tabContentNodeSize","addNodeSize","transformSize","basicSize","tabContentSize","addSize","mergedBasicSize","endIndex","startIndex","_i","useVisibleRange","_useVisibleRange2","visibleStart","visibleEnd","tabNodes","TabNode","scrollTop","onListHolderResize","_tabsWrapperRef$curre","_tabsWrapperRef$curre2","_innerAddButtonRef$cu","_innerAddButtonRef$cu2","_operationsRef$curren","_operationsRef$curren2","_tabListRef$current","_tabListRef$current2","_operationsRef$curren3","offsetHeight","newAddWidth","newAddHeight","newOperationWidth","newOperationHeight","newWrapperScrollWidth","newWrapperScrollHeight","isOperationHidden","newSizes","btnNode","offsetTop","startHiddenTabs","slice","endHiddenTabs","hiddenTabs","_toConsumableArray","_useState19","_useState20","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","newInkStyle","pingLeft","pingRight","pingTop","pingBottom","hasDropdown","wrapPrefix","ResizeObserver","onResize","transform","transition","inkBar","OperationNode","TabPanelList","destroyInactiveTabPane","tabPaneAnimated","tabPane","activeIndex","tabKey","TabPane","forceRender","visited","setVisited","mergedStyle","overflowY","display","uuid","ForwardTabs","mergedAnimated","_ref$prefixCls","defaultActiveKey","_ref$animated","_ref$tabPosition","tabBarStyle","tabBarExtraContent","renderTabBar","restProps","toArray","String","parseTabList","_typeof","setMobile","agent","navigator","userAgent","vendor","opera","test","substr","isMobile","_useMergedState","useMergedState","_useMergedState2","mergedActiveKey","setMergedActiveKey","setActiveIndex","_tabs$newActiveIndex","newActiveIndex","_useMergedState3","_useMergedState4","mergedId","setMergedId","mergedTabPosition","tabNavBar","sharedProps","tabNavBarProps","panes","TabNavList","Provider","Tabs","__rest","t","p","prototype","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable","_a","_onEdit","hideAdd","customizePrefixCls","ConfigContext","getPrefixCls","editType","CloseOutlined","devWarning","RcTabs","_extends","Grid","ConfigConsumer","_props$hoverable","hoverable","others","classString","Meta","avatar","description","avatarDom","titleDom","descriptionDom","MetaDetail","Card","_extends2","head","SizeContext","_props$headStyle","headStyle","_props$bodyStyle","bodyStyle","_props$bordered","customizeSize","cover","actions","tabList","activeTabKey","defaultActiveTabKey","_props$tabProps","tabProps","loadingBlockStyle","padding","block","loadingBlock","gutter","span","hasActiveTabKey","extraProps","onTabChange","coverDom","actionDom","index","getAction","divProps","omit","mergedSize","containGrid","element","isContainGrid","ReservationDetailsCard","onEditClick","handleEditClick","card","MyReservationsPage","selectedReservation","setSelectedReservation","autoFetch","start","toISOString","sortedReservations","handleReservationEditFinish","empty","cardList"],"mappings":"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","file":"static/js/11.713e976c.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nimport dayjs from 'dayjs';\n\nconst checkIntervalMs = 60000; // minute\n\nexport function useTime(unit) {\n    const [time, setTime] = useState(() => dayjs.tz());\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const newTime = dayjs.tz();\n            if (!time.isSame(newTime, unit))\n                setTime(newTime);\n        }, checkIntervalMs);\n\n        return () => clearInterval(interval);\n    }, [time, unit]);\n\n    return time;\n}","import dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\nimport generatePicker from 'antd/es/date-picker/generatePicker';\nimport styles from './DatePicker.module.css';\n\nconst AntDatePicker = generatePicker(dayjsGenerateConfig);\n\nexport function DatePicker(props) {\n    return (\n        <AntDatePicker\n            inputReadOnly\n            size=\"large\"\n            panelRender={panel => \n                <div className={styles.pickerPanel}>\n                    {panel}\n                </div>\n            }\n            {...props}\n        />\n    );\n}","import { CalendarOutlined, ClockCircleOutlined, EnvironmentOutlined, RedoOutlined, UserOutlined } from '@ant-design/icons';\n\nimport React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './ReservationDetails.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function ReservationDetails({\n    court,\n    date,\n    inline = false,\n    name,\n    repeat,\n    time,\n}) {\n    return (\n        <div className={cn({\n            wrapper: true,\n            inline\n        })}>\n            {name &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <UserOutlined />&nbsp;Name\n                    </div>\n                    <div className={styles.content}>\n                        {name}\n                    </div>\n                </div>\n            }\n\n            {date && \n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <CalendarOutlined />&nbsp;Datum\n                    </div>\n                    <div className={styles.content}>\n                        {date}\n                    </div>\n                </div>\n            }\n\n            {time &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <ClockCircleOutlined />&nbsp;Uhrzeit\n                    </div>\n                    <div className={styles.content}>\n                        {time}\n                    </div>\n                </div>\n            }\n\n            {court &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <EnvironmentOutlined />&nbsp;Platz\n                    </div>\n                    <div className={styles.content}>\n                        {court}\n                    </div>\n                </div>\n            }\n\n            {repeat &&\n                <div className={styles.item}>\n                    <div className={styles.title}>\n                        <RedoOutlined />&nbsp;Wiederholung\n                    </div>\n                    <div className={styles.content}>\n                        {repeat}\n                    </div>\n                </div>\n            }\n        </ div>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ReservationGroupModal_wrapper__2fAcz\",\"footer\":\"ReservationGroupModal_footer__1O-So\",\"heading\":\"ReservationGroupModal_heading__3HVFg\",\"changeReasonHint\":\"ReservationGroupModal_changeReasonHint__IWCAI\",\"cancelRadioGroup\":\"ReservationGroupModal_cancelRadioGroup__joJ8_\"};","import { Alert, Button, Checkbox, Form, Input } from 'antd';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { StatusText } from '../admin/StatusText';\nimport { authContext } from '../AuthContext';\nimport { postLoginApi } from '../api';\nimport styles from './LoginForm.module.css';\nimport { useApi } from '../useApi';\n\nexport function LoginForm() {\n\n    const { autoLoginState, setUser, setRememberLogin } = useContext(authContext);\n    const [loginState, login] = useApi(postLoginApi, setUser);\n\n    const loading = loginState.loading || autoLoginState.loading;\n    const valStatus = loginState.error ? 'error' : undefined;\n\n    const onFinish = useCallback(({ mail, password, rememberLogin }) => {\n        setRememberLogin(rememberLogin);\n        login(null, {\n            type: 'plain',\n            mail,\n            password,\n        });\n    }, [login, setRememberLogin]);\n\n    return (\n        <Form\n            layout=\"vertical\"\n            onFinish={onFinish}\n        >\n            {loginState.error &&\n                <Form.Item>\n                    <Alert\n                        type=\"error\"\n                        message=\"Login fehlgeschlagen.\"\n                    />\n                </Form.Item>\n            }\n\n            <Form.Item\n                name=\"mail\"\n                rules={[{ required: true, message: 'E-Mail Adresse ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input\n                    autoComplete=\"email\"\n                    prefix={<MailOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"E-Mail\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Passwort ist erforderlich' }]}\n                validateStatus={valStatus}\n            >\n                <Input.Password\n                    autoComplete=\"current-password\"\n                    prefix={<LockOutlined style={{ color: '#aaa' }} />}\n                    placeholder=\"Passwort\"\n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Form.Item name=\"rememberLogin\" valuePropName=\"checked\" noStyle>\n                    <Checkbox\n                        disabled={loading}\n                    >\n                        Angemeldet bleiben\n                    </Checkbox>\n                </Form.Item>\n\n                {/* TODO */}\n                <Link className={styles.forgotLink} to=\"/reset-password\">\n                    Password vergessen\n                </Link>\n            </Form.Item>\n\n            <Form.Item>\n                <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className={styles.loginButton}\n                    disabled={loading}\n                >\n                    <StatusText\n                        loading={loading}\n                        text={loading ? 'Anmeldung...' : 'Anmelden'}\n                    />\n                </Button>\n            </Form.Item>\n\n\n            <Form.Item className={styles.registerItem}>\n                <span>oder </span>\n                <Link to=\"/register\">Kostenlos Registrieren</Link>\n            </Form.Item>\n        </Form>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginForm_loginButton__ECun6\",\"forgotLink\":\"LoginForm_forgotLink__3TG3V\",\"registerItem\":\"LoginForm_registerItem__32Qy-\"};","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pickerPanel\":\"DatePicker_pickerPanel__jgKnn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DateTimeRangeSelect_datePicker__1Fzuj\",\"to\":\"DateTimeRangeSelect_to__3kFPy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inline\":\"ReservationDetails_inline__3Zvud\",\"wrapper\":\"ReservationDetails_wrapper__3oaB0\",\"item\":\"ReservationDetails_item__3c9da\",\"title\":\"ReservationDetails_title__30qxj\",\"content\":\"ReservationDetails_content__3o1oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"ScrollRadioGroup_outer__2bjrJ\",\"inner\":\"ScrollRadioGroup_inner__1IIQl\",\"leftScroll\":\"ScrollRadioGroup_leftScroll__sR-on\",\"rightScroll\":\"ScrollRadioGroup_rightScroll__2FgOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RepeatReservationForm_wrapper__q6uz0\",\"dates\":\"RepeatReservationForm_dates__1dD0l\",\"extra\":\"RepeatReservationForm_extra__2m-4n\",\"unchecked\":\"RepeatReservationForm_unchecked__dAyq1\",\"date\":\"RepeatReservationForm_date__3wvGK\",\"dateButton\":\"RepeatReservationForm_dateButton__2XPFl\",\"danger\":\"RepeatReservationForm_danger__3-oIh\",\"buttons\":\"RepeatReservationForm_buttons__IeXBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameInput\":\"ReservationDetailsForm_nameInput__20wfd\",\"plain\":\"ReservationDetailsForm_plain__VkUtA\",\"datePicker\":\"ReservationDetailsForm_datePicker__jvGx4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"VerifyMailModal_buttons__2ZzQz\"};","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _EllipsisOutlined = _interopRequireDefault(require('./lib/icons/EllipsisOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _EllipsisOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _EllipsisOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/EllipsisOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar EllipsisOutlined = function EllipsisOutlined(props, ref) {\n  return React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _EllipsisOutlined.default\n  }));\n};\n\nEllipsisOutlined.displayName = 'EllipsisOutlined';\n\nvar _default = React.forwardRef(EllipsisOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EllipsisOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z\" } }] }, \"name\": \"ellipsis\", \"theme\": \"outlined\" };\nexports.default = EllipsisOutlined;\n","import React, { useCallback, useMemo } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { DownOutlined } from '@ant-design/icons';\nimport { Select } from 'antd';\nimport styles from './DateTimeRangeSelect.module.css';\n\nexport function DateTimeRangeSelect({\n    disabled = false,\n    from,\n    to,\n    onFromChange,\n    onToChange,\n}) {\n    const hours = useMemo(() => [...Array(24).keys()], []);\n\n    const updateTimes = useCallback(({ newFrom = from, newTo = to }) => {\n        if (newFrom.isAfter(newTo)) {\n            const tmp = newFrom;\n            newFrom = newTo;\n            newTo = tmp;\n        } else if (newFrom.isSame(newTo)) {\n            newTo = newFrom.add(1, 'hour'); // minimal diff 1 hour\n        }\n\n        if (!newFrom.isSame(from))\n            onFromChange(newFrom);\n        if (!newTo.isSame(to))\n            onToChange(newTo);\n    }, [from, onFromChange, onToChange, to]);\n\n    const handleFromDateChange = useCallback(newFromDate => {\n        updateTimes({\n            newFrom: newFromDate.hour(from.hour())\n        });\n    }, [from, updateTimes]);\n\n    const handleToDateChange = useCallback(newToDate => {\n        updateTimes({\n            newTo: newToDate.hour(to.hour())\n        });\n    }, [to, updateTimes]);\n\n    const handleFromHourChange = useCallback(newFromHour => {\n        updateTimes({\n            newFrom: from.hour(newFromHour)\n        });\n    }, [from, updateTimes]);\n\n    const handleToHourChange = useCallback(newToHour => {\n        updateTimes({\n            newTo: to.hour(newToHour)\n        });\n    }, [to, updateTimes]);\n\n    return (\n        <div>\n            <div>\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleFromDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={from.hour()}\n                    onChange={handleFromHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n\n            </div>\n\n            <div>\n                <span className={styles.to}>bis</span>\n\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={disabled}\n                    format=\"L\"\n                    onChange={handleToDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={to}\n                />\n\n                <Select\n                    size=\"large\"\n                    bordered={false}\n                    value={to.hour()}\n                    onChange={handleToHourChange}\n                >\n                    {hours.map(hour => (\n                        <Select.Option\n                            key={hour}\n                            value={hour}\n                        >\n                            {hour % 24} Uhr\n                        </Select.Option>\n                    ))}\n                </Select>\n            </div>\n        </div>\n    );\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { Radio } from 'antd';\nimport classNames from 'classnames/bind';\nimport styles from './ScrollRadioGroup.module.css';\n\nconst cn = classNames.bind(styles);\n\nconst SCROLL_OFFSET_PX = -50;\nconst SCROLL_TRESHOLD_PX = 5; // needed for iOS overscoll\n\nexport function ScrollRadioGroup({\n    children,\n    ...rest\n}) {\n    const innerRef = useRef();\n    const [leftScroll, setLeftScroll] = useState(false);\n    const [rightScroll, setRightScroll] = useState(false);\n\n    const updateStops = useCallback(() => {\n        if (!innerRef.current)\n            return;\n        const { scrollLeft, scrollWidth, offsetWidth } = innerRef.current;\n        setLeftScroll(scrollLeft > SCROLL_TRESHOLD_PX);\n        setRightScroll((scrollWidth - offsetWidth - scrollLeft) > SCROLL_TRESHOLD_PX);\n    }, []);\n\n    useEffect(updateStops, [updateStops]);\n\n    const handleClick = useCallback(e => {\n        if (!innerRef.current)\n            return;\n        const offsetLeft = e?.target?.parentNode?.parentNode?.offsetLeft || 0;\n        requestAnimationFrame(() => {\n            innerRef.current.scrollLeft = Math.max(offsetLeft + SCROLL_OFFSET_PX, 0);\n        });\n    }, []);\n\n    return (\n        <div className={cn({\n            outer: true,\n            leftScroll,\n            rightScroll,\n        })}>\n            <div\n                className={styles.inner}\n                onClick={handleClick}\n                onScroll={updateStops}\n                ref={innerRef}\n            >\n                <Radio.Group\n                    buttonStyle=\"solid\"\n                    size=\"large\"\n                    {...rest}\n                >\n                    {children}\n                </Radio.Group>\n            </div>\n        </div>\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { DateTimeRangeSelect } from './DateTimeRangeSelect';\nimport { ErrorResult } from '../ErrorResult';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nexport function DisableReservationGroupModal({\n    initialFrom,\n    initialCourtId,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { config: { visibleHours }, courts } = useContext(appContext);\n\n    const [reason, setReason] = useState(reservation?.text || '');\n    const [from, setFrom] = useState(() => reservation?.from || initialFrom.startOf('day'));\n    const [to, setTo] = useState(() => reservation?.to || initialFrom.add(1, 'day').startOf('day'));\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = postState.loading || patchState.loading;\n    const changed = reservation && (\n        reservation.from !== from\n        || reservation.to !== to\n        || reservation.text !== reason\n        || reservation.courtId !== courtId\n    );\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    const handleChangeReason = useCallback(e => {\n        setReason(e.target.value);\n    }, []);\n\n    const handleCourtIdChange = useCallback(e => {\n        setCourtId(e.target.value);\n    }, []);\n\n    const handleDisableCourt = useCallback(() => {\n        const doDisable = () => {\n            if (!reservation) {\n                postReservationGroup(null, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                    type: RESERVATION_TYPES.DISABLE,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            } else {\n                patchReservationGroup({\n                    path: {\n                        groupId: reservation.groupId\n                    }\n                }, {\n                    reservations: [{ courtId, from, to }],\n                    text: reason,\n                }, () => {\n                    message.success(\"Sperren erfolgreich\");\n                    onFinish();\n                });\n            }\n        };\n\n        let checkDate;\n        if (from.hour() <= visibleHours[0])\n            checkDate = from.hour(visibleHours[0]);\n        else if (from.hour() >= visibleHours[1])\n            checkDate = from.add(1, 'day').hour(visibleHours[0]);\n\n        if (checkDate?.isSameOrAfter(to, 'hour')) {\n            Modal.error({\n                icon: false,\n                title: 'Sperrung unzulssig',\n                width: 530,\n                centered: true,\n                content: 'Die Sperrung liegt auerhalb des angezeigten Zeitraums.',\n            });\n        } else {\n            Modal.confirm({\n                icon: false,\n                title: 'Wirklich sperren?',\n                okText: 'Sperren',\n                okType: 'danger',\n                width: 530,\n                centered: true,\n                content: 'Bestehende Reservierungen, die mit der Sperrung in Konflikt stehen, werden automatisch storniert. Die Inhaber der Reservierungen werden darber per E-Mail informiert.',\n                onOk: doDisable,\n            });\n        }\n    }, [courtId, from, onFinish, patchReservationGroup, postReservationGroup, reason, reservation, to, visibleHours]);\n\n    const handleRemoveDisable = useCallback(() => {\n        patchReservationGroup({\n            path: {\n                groupId: reservation.groupId\n            }\n        }, {\n            reservations: [],\n        }, () => {\n            message.success(\"Sperrung aufgehoben\");\n            onFinish();\n        });\n    }, [onFinish, patchReservationGroup, reservation?.groupId]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Sperren fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Fr folgende Zeitrume liegt bereits eine Sperrung vor:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')} bis {to.format('dd[\\xa0]L,[\\xa0]H[\\xa0][Uhr]')}, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        }\n    }, [courts, patchState.error, postState.error, unavailableReservations])\n\n    if (\n        (postState.error && !postState.error.unavailableReservations)\n        || (patchState.error && !patchState.error.unavailableReservations)\n    ) {\n        return (\n            <Modal\n                title=\"Sperren fehlgeschlagen\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            title=\"Platz Sperren\"\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                        {reservation &&\n                            <Button\n                                type=\"primary\"\n                                onClick={handleRemoveDisable}\n                            >\n                                Sperrung Aufheben\n                            </Button>\n                        }\n                        <Button\n                            disabled={reservation && !changed}\n                            type=\"danger\"\n                            onClick={handleDisableCourt}\n                        >\n                            Sperren\n                        </Button>\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                <ReservationDetails\n                    court={\n                        <ScrollRadioGroup\n                            disabled={loading}\n                            onChange={handleCourtIdChange}\n                            value={courtId}\n                        >\n                            {courts.map(({ courtId, name }) => (\n                                <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                            ))}\n                        </ScrollRadioGroup>\n                    }\n                    date={\n                        <DateTimeRangeSelect\n                            disabled={loading}\n                            from={from}\n                            to={to}\n                            onFromChange={setFrom}\n                            onToChange={setTo}\n                        />\n                    }\n                />\n\n                <Form layout=\"vertical\">\n                    <Form.Item\n                        label=\"Grund der Sperrung\"\n                    >\n                        <Input\n                            disabled={loading}\n                            onChange={handleChangeReason}\n                            placeholder=\"Kein Grund\"\n                            value={reason}\n                        />\n                        <div className={styles.changeReasonHint}>\n                            Bestehende Reservierungen werden storniert.\n                        </div>\n                    </Form.Item>\n                </Form>\n            </div>\n        </Modal>\n    );\n}","import { LoginForm } from './LoginForm';\nimport { Modal } from 'antd';\nimport React from 'react';\n\nexport function LoginModal({\n    onClose\n}) {\n    return (\n        <Modal\n            title=\"Anmeldung erforderlich\"\n            visible={true}\n            width={400}\n            centered\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <LoginForm />\n        </Modal>\n    );\n}","import { Button, Radio } from 'antd';\nimport { DeleteOutlined, LockOutlined, PlusOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './RepeatReservationForm.module.css';\nimport { useTime } from './useTime';\n\nconst cn = classNames.bind(styles);\n\nconst defaultRepeatValuesMap = {\n    1: 'Tglich',\n    7: 'Wchentlich',\n    14: '2-Wchentlich',\n};\n\nexport function RepeatReservationForm({\n    courtId,\n    currentReservations,\n    defaultAddCount = 2,\n    disabled = false,\n    from,\n    onChange,\n    repeatValuesMap = defaultRepeatValuesMap,\n    to,\n    unavailableReservations,\n}) {\n    const { user } = useContext(authContext);\n    const { config: { reservationDaysInAdvance } } = useContext(appContext);\n\n    const now = useTime('hour');\n\n    const [repeatValue, setRepeatValue] = useState(0);\n    const [visibleDates, setVisibleDates] = useState([]);\n    const [selectedDates, _setSelectedDates] = useState([]);\n\n    const dateToReservation = useCallback(from => ({\n        courtId,\n        from,\n        to: from.hour(to.hour() || 24),\n    }), [courtId, to]);\n\n    const checkIfTooFarAhead = useCallback(date => (\n        date.isAfter(now.add(reservationDaysInAdvance, 'day'), 'day')\n    ), [now, reservationDaysInAdvance]);\n\n    const checkIfNotAvailable = useCallback(date => {\n        if (!unavailableReservations)\n            return false;\n        const r1 = dateToReservation(date);\n        return unavailableReservations.some(r2 => (\n            r1.courtId === r2.courtId\n            && r1.from.isSame(r2.from, 'hour')\n            && r1.to.isSame(r2.to, 'hour')\n        ));\n    }, [unavailableReservations, dateToReservation]);\n\n    const setSelectedDates = useCallback(selectedDates => {\n        _setSelectedDates(_selectedDates => {\n            let dates = selectedDates;\n            if (typeof selectedDates === 'function')\n                dates = selectedDates(_selectedDates);\n            return dates.filter(d => !checkIfNotAvailable(d));\n        });\n    }, [checkIfNotAvailable]);\n\n    useEffect(() => {\n        onChange(selectedDates.map(dateToReservation));\n    }, [selectedDates, onChange, dateToReservation]);\n\n    // automatically unchecks unavailable dates if unavailableDates changes\n    useEffect(() => setSelectedDates(s => s), [setSelectedDates]);\n\n    useEffect(() => {\n        let selectedDates = [];\n        let visibleDates = [];\n\n        if (currentReservations?.length > 1) {\n            selectedDates = currentReservations.map(r => r.from.hour(from.hour()));\n            selectedDates.sort((a, b) => a.valueOf() - b.valueOf());\n            let repeatValue = Number.MAX_SAFE_INTEGER;\n\n            if (selectedDates.length > 1) {\n                for (let i = 1; i < selectedDates.length; ++i) {\n                    const diff = selectedDates[i - 1].diff(selectedDates[i], 'day');\n                    repeatValue = Math.min(repeatValue, Math.abs(diff));\n                }\n            }\n\n            repeatValue = repeatValue.toString();\n            const allowedValues = Object.keys(repeatValuesMap);\n            if (!allowedValues.includes(repeatValue))\n                repeatValue = allowedValues[0];\n            setRepeatValue(repeatValue);\n\n            const first = selectedDates[0];\n            const last = selectedDates[selectedDates.length - 1];\n            const count = Math.abs(first.diff(last, 'day') / repeatValue);\n            visibleDates = [];\n            for (let i = 0; i <= count; ++i)\n                visibleDates.push(first.add(i * repeatValue, 'day'));\n        } else if (repeatValue > 0) {\n            for (let i = 0; i <= defaultAddCount; ++i) {\n                const date = from.add(i * repeatValue, 'day');\n                visibleDates.push(date);\n                if (!checkIfNotAvailable(date))\n                    selectedDates.push(date);\n            }\n        } else {\n            selectedDates = [from];\n            visibleDates = [from];\n        }\n\n        setVisibleDates(visibleDates);\n        _setSelectedDates(selectedDates);\n    }, [\n        checkIfNotAvailable,\n        courtId, \n        currentReservations, \n        defaultAddCount, \n        from, \n        repeatValue, \n        repeatValuesMap, \n        to, \n    ]);\n\n    const addDate = useCallback(() => {\n        setVisibleDates(visibleDates => {\n            const last = visibleDates[visibleDates.length - 1];\n            const add = last.add(repeatValue, 'day');\n            if (!checkIfTooFarAhead(add))\n                setSelectedDates(selectedDates => [...selectedDates, add]);\n            return [...visibleDates, add];\n        });\n    }, [repeatValue, setSelectedDates, checkIfTooFarAhead]);\n\n    const handleRepeatValueChange = useCallback(e => {\n        const newRepeatValue = e.target.value;\n        setRepeatValue(newRepeatValue);\n    }, []);\n\n    const handleCheckedChange = useCallback((date, checked) => {\n        setSelectedDates(selectedDates => {\n            // change checked state\n            const newSelection = selectedDates.filter(d => !d.isSame(date, 'day'));\n            if (checked)\n                newSelection.push(date);\n            newSelection.sort((a, b) => a.valueOf() - b.valueOf());\n\n            // remove unchecked visible dates at end\n            setVisibleDates(visibleDates => {\n                const newVisibleDates = [...visibleDates];\n                // i > 0: make sure at least one item is visible\n                for (let i = newVisibleDates.length - 1; i > 0; --i) {\n                    if (\n                        currentReservations?.some(r => r.from.isSame(newVisibleDates[i], 'day'))\n                        || newSelection.some(d => d.isSame(newVisibleDates[i], 'day'))\n                    ) {\n                        break;\n                    }\n                    newVisibleDates.pop();\n                }\n                return newVisibleDates;\n            });\n\n            return newSelection;\n        });\n    }, [currentReservations, setSelectedDates]);\n\n    const dates = useMemo(() => {\n        return visibleDates.map(d => {\n            const r = dateToReservation(d);\n            const reserved = currentReservations?.some(cr => \n                cr.from.isSame(r.from, 'hour') && cr.to.isSame(r.to, 'hour'));\n            const checked = selectedDates.some(sd => sd.isSame(d, 'day'));\n            return {\n                date: d,\n                checked,\n                change: !reserved && currentReservations?.some(r => r.from.isSame(d, 'day')),\n                reserved,\n                past: d.isBefore(now, 'hour'),\n                notAvailable: checkIfNotAvailable(d),\n                tooFarAhead: checkIfTooFarAhead(d),\n                onClick: () => handleCheckedChange(d, !checked),\n            };\n        });\n    }, [\n        checkIfNotAvailable, \n        checkIfTooFarAhead, \n        currentReservations, \n        dateToReservation, \n        handleCheckedChange,\n        now, \n        selectedDates, \n        visibleDates, \n    ]);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <div>\n                <ScrollRadioGroup\n                    disabled={currentReservations?.length > 1 || disabled}\n                    onChange={handleRepeatValueChange}\n                    value={repeatValue}\n                >\n                    <Radio.Button key={0} value={0}>Einzeltermin</Radio.Button>\n                    {Object.keys(repeatValuesMap).map(value => (\n                        <Radio.Button key={value} value={value}>{repeatValuesMap[value]}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            </div>\n\n            {repeatValue > 0 &&\n                <>\n                    <div className={styles.dates}>\n                        {dates.map(({ date, checked, change, reserved, past, notAvailable, tooFarAhead, onClick }) => (\n                            <Button\n                                key={date}\n                                className={cn({\n                                    dateButton: true,\n                                    unchecked: !checked,\n                                    danger: (reserved && !checked) || notAvailable,\n                                })}\n                                disabled={(!user?.admin && (past || tooFarAhead)) || notAvailable || disabled}\n                                onClick={onClick}\n                                type=\"link\"\n                                icon={\n                                    ((!user?.admin && (past || tooFarAhead)) || notAvailable || disabled) \n                                        ? <LockOutlined />\n                                        : checked ? <DeleteOutlined /> : <PlusOutlined />\n                                }\n                            >\n                                <span className={styles.date}>{date.format('dd[\\xa0]L')}</span>\n                                {!past && reserved && checked && <span className={styles.extra}>Aktuell reserviert</span>}\n                                {!past && reserved && !checked && <span className={styles.extra}>Wird storniert</span>}\n                                {!notAvailable && past && <span className={styles.extra}>Bereits vergangen</span>}\n                                {!notAvailable && tooFarAhead && <span className={styles.extra}>Zu weit in der Zukunft</span>}\n                                {!notAvailable && change && <span className={styles.extra}>Wird gendert</span>}\n                                {notAvailable && <span className={styles.extra}>Nicht verfgbar</span>}\n                            </Button>\n                        ))}\n                    </div>\n                    <div className={styles.buttons}>\n                        <Button\n                            disabled={disabled}\n                            icon={<PlusOutlined />}\n                            onClick={addDate}\n                            type=\"dashed\"\n                        />\n                    </div>\n                </>\n            }\n        </div>\n    );\n}","import React, { useCallback, useContext, useEffect, useMemo } from 'react';\nimport { Select, Space } from 'antd';\n\nimport { appContext } from '../AppContext';\nimport { visibleHoursToHoursArray } from '../helper';\n\nexport function ReservationTimeSelect({\n    disabled = false,\n    from,\n    to, // don't use to.hour() to set new hour, as it can be bubbled to the next day\n    onFromChange,\n    onToChange,\n}) {\n    const { config: { visibleHours } } = useContext(appContext);\n\n    const hours = useMemo(() => visibleHoursToHoursArray(visibleHours), [visibleHours]);\n\n    const toHours = useMemo(() => hours.reduce((toHours, h) => {\n        if (h >= from.hour())\n            toHours.push(h + 1);\n        return toHours;\n    }, []), [from, hours]);\n\n    useEffect(() => {\n        if (from.isSame(to, 'hour'))\n            onToChange(from.add(1, 'hour'));\n    }, [from, to, onToChange]);\n\n    const handleFromChange = useCallback(newFromHour => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        let newToHour = newFromHour + diff;\n        if (!hours.includes(newToHour))\n            newToHour = hours[hours.length - 1] + 1;\n        onFromChange(from.hour(newFromHour));\n        onToChange(from.hour(newToHour));\n    }, [from, to, onFromChange, onToChange, hours]);\n\n    const handleToChange = useCallback(newToHour => {\n        onToChange(from.hour(newToHour));\n    }, [from, onToChange]);\n\n    return (\n        <Space direction=\"horizontal\" size=\"middle\">\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleFromChange}\n                size=\"large\"\n                value={from.hour()}\n            >\n                {hours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n\n            <span>bis</span>\n\n            <Select\n                bordered={false}\n                disabled={disabled}\n                onChange={handleToChange}\n                size=\"large\"\n                value={to.hour() === 0 ? 24 : to.hour()}\n            >\n                {toHours.map(hour => (\n                    <Select.Option\n                        key={hour}\n                        value={hour}\n                    >\n                        {hour % 24} Uhr\n                    </Select.Option>\n                ))}\n            </Select>\n        </Space>\n    );\n}","import { Button, Input, Radio } from 'antd';\nimport { DownOutlined, EditOutlined } from '@ant-design/icons';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { DatePicker } from './DatePicker';\nimport { RepeatReservationForm } from './RepeatReservationForm';\nimport { ReservationDetails } from './ReservationDetails';\nimport { ReservationTimeSelect } from './ReservationTimeSelect';\nimport { ScrollRadioGroup } from './ScrollRadioGroup';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationDetailsForm.module.css';\n\nexport function ReservationDetailsForm({\n    courtId,\n    currentReservations,\n    disabled,\n    from,\n    onCourtIdChange,\n    onFromChange,\n    onReservationsChange,\n    onTextChange,\n    onToChange,\n    readOnly,\n    text,\n    to,\n    unavailableReservations,\n}) {\n    const { courts } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [editName, setEditName] = useState(false);\n    const handleEditName = useCallback(() => {\n        setEditName(true);\n    }, []);\n\n    const handleCancelEditName = useCallback(() => {\n        setEditName(false);\n        onTextChange(null);\n    }, [onTextChange]);\n\n    const handleDateChange = useCallback(date => {\n        const diff = Math.abs(to.diff(from, 'hour'));\n        const newFrom = date.hour(from.hour());\n        const newTo = newFrom.add(diff, 'hour');\n        onFromChange(newFrom);\n        onToChange(newTo);\n    }, [from, to, onFromChange, onToChange]);\n\n    const handleTextChange = useCallback(e => {\n        onTextChange(e.target.value);\n    }, [onTextChange]);\n\n    const handleCourtIdChange = useCallback(e => {\n        onCourtIdChange(e.target.value);\n    }, [onCourtIdChange]);\n\n    if (readOnly)\n        return (\n            <ReservationDetails\n                court={\n                    <div className={styles.plain}>\n                        {getCourtName(courts, courtId)}\n                    </div>\n                }\n                date={\n                    <div className={styles.plain}>\n                        {from.format('dd[\\xa0]L')}\n                    </div>\n                }\n                time={\n                    <div className={styles.plain}>\n                        {from.format('H')} Uhr bis {to.format('H')} Uhr\n                    </div>\n                }\n                name={\n                    <div className={styles.plain}>\n                        {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                    </div>\n                }\n            />\n\n        );\n\n    return (\n        <ReservationDetails\n            court={\n                <ScrollRadioGroup\n                    disabled={disabled}\n                    onChange={handleCourtIdChange}\n                    value={courtId}\n                >\n                    {courts.map(({ courtId, name }) => (\n                        <Radio.Button key={courtId} value={courtId}>{name}</Radio.Button>\n                    ))}\n                </ScrollRadioGroup>\n            }\n            date={\n                <DatePicker\n                    allowClear={false}\n                    bordered={false}\n                    className={styles.datePicker}\n                    disabled={currentReservations?.length > 1 || disabled}\n                    format=\"L\"\n                    onChange={handleDateChange}\n                    showToday={false}\n                    suffixIcon={<DownOutlined />}\n                    value={from}\n                />\n            }\n            time={\n                <ReservationTimeSelect\n                    disabled={disabled}\n                    from={from}\n                    to={to}\n                    onFromChange={onFromChange}\n                    onToChange={onToChange}\n                />\n            }\n            name={editName ?\n                (\n                    <>\n                        <Input\n                            className={styles.nameInput}\n                            disabled={disabled}\n                            onChange={handleTextChange}\n                            placeholder=\"z.B. Training, ...\"\n                            value={text}\n                            size=\"large\"\n                        />\n                        <Button\n                            disabled={disabled}\n                            onClick={handleCancelEditName}\n                            type='link'\n                        >\n                            abbrechen\n                        </Button>\n                    </>\n                ) : (\n                    <>\n                        <div className={styles.plain}>\n                            <span>\n                                {currentReservations?.[0]?.text || currentReservations?.[0]?.name || user.name}\n                            </span>\n                        </div>\n                        {user.admin &&\n                            <Button\n                                disabled={disabled}\n                                onClick={handleEditName}\n                                type='link'\n                            >\n                                <EditOutlined /> bearbeiten\n                            </Button>\n                        }\n                    </>\n                )\n            }\n            repeat={\n                <RepeatReservationForm\n                    courtId={courtId}\n                    currentReservations={currentReservations}\n                    disabled={disabled}\n                    from={from}\n                    onChange={onReservationsChange}\n                    to={to}\n                    unavailableReservations={unavailableReservations}\n                />\n            }\n        />\n    );\n}","import { Button, Form, Input, Modal, Radio, message } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { getReservationsApi, patchReservationGroupApi, postReservationGroupApi } from '../api';\n\nimport { Ball } from '../Ball';\nimport { ErrorResult } from '../ErrorResult';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationDetailsForm } from './ReservationDetailsForm';\nimport { StatusText } from '../admin/StatusText';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport dayjs from 'dayjs';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationGroupModal.module.css';\nimport { useApi } from '../useApi';\n\nexport function ReservationGroupModal({\n    initialCourtId,\n    initialFrom,\n    initialTo,\n    reservation,\n    onFinish,\n    setReservations: setOuterReservations,\n}) {\n    const { courts, templates: { reservationTos } } = useContext(appContext);\n    const { user } = useContext(authContext);\n\n    const [changeReason, setChangeReason] = useState('');\n    const [text, setText] = useState(null);\n    const [reservations, setReservations] = useState(null);\n    const [from, setFrom] = useState(reservation?.from || initialFrom);\n    const [to, setTo] = useState(reservation?.to || initialTo);\n    const [courtId, setCourtId] = useState(reservation?.courtId || initialCourtId);\n    const prevErrorRef = useRef({});\n\n    const [groupReservations, setGroupReservations] = useState([]);\n    const [state, getGroupReservations] = useApi(getReservationsApi, setGroupReservations);\n\n    const [postState, postReservationGroup] = useApi(postReservationGroupApi, setOuterReservations);\n    const [patchState, patchReservationGroup] = useApi(patchReservationGroupApi, setOuterReservations);\n\n    const loading = state.loading || postState.loading || patchState.loading;\n\n    const adminEdit = reservation && user.admin && reservation?.userId !== user.userId;\n    const canEdit = user.admin || !reservation || reservation.userId === user.userId;\n\n    const newReservations = useMemo(() => reservations?.filter(\n        r => !groupReservations.some(gr => gr.from.isSame(r.from, 'hour') && gr.to.isSame(r.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const cancelReservations = useMemo(() => reservations && groupReservations.filter(\n        gr => !reservations.some(r => r.from.isSame(gr.from, 'hour') && r.to.isSame(gr.to, 'hour'))\n    ), [reservations, groupReservations]);\n    const changeText = !!(groupReservations && text);\n\n    const unavailableReservations = useMemo(() => {\n        let uaRes = postState.error?.unavailableReservations || patchState.error?.unavailableReservations;\n        if (uaRes)\n            uaRes = uaRes.map(({ courtId, from, to }) => ({\n                courtId,\n                from: dayjs(from),\n                to: dayjs(to),\n            }));\n        return uaRes;\n    }, [patchState.error?.unavailableReservations, postState.error?.unavailableReservations]);\n\n    useEffect(() => {\n        if (reservation?.groupId)\n            getGroupReservations({ query: { 'group-id': reservation?.groupId } });\n    }, [reservation, getGroupReservations]);\n\n    const handleChangeChangeReason = useCallback(e => {\n        setChangeReason(e.target.value);\n    }, []);\n\n    const handlePostReservation = useCallback(() => {\n        const doPost = () => {\n            postReservationGroup(null, {\n                reservations,\n                text,\n                type: RESERVATION_TYPES.NORMAL,\n            }, () => {\n                message.success(\"Reservierung erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            icon: false,\n            okText: 'Akzeptieren',\n            width: 530,\n            centered: true,\n            content: (\n                <div dangerouslySetInnerHTML={{ __html: reservationTos.body }} />\n            ),\n            onOk: doPost,\n        });\n    }, [\n        onFinish,\n        postReservationGroup,\n        reservations,\n        reservationTos,\n        text,\n    ]);\n\n    const handleChangeReservation = useCallback(() => {\n        const doChange = () => {\n            patchReservationGroup({\n                path: {\n                    groupId: reservation.groupId\n                }\n            }, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n                text,\n            }, () => {\n                message.success(\"Speichern erfolgreich\");\n                onFinish();\n            });\n        };\n\n        Modal.confirm({\n            title: 'Wirklich speichern?',\n            icon: <ExclamationCircleOutlined />,\n            centered: true,\n            content: (\n                <div className={styles.wrapper}>\n\n                    {newReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Neue Termine</div>\n                            <ul>\n                                {newReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {cancelReservations.length > 0 &&\n                        <>\n                            <div className={styles.heading}>Zu Stornieren</div>\n                            <ul>\n                                {cancelReservations.map(({ courtId, from, to }) => (\n                                    <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                ))}\n                            </ul>\n                        </>\n                    }\n\n                    {changeText &&\n                        <>\n                            <div className={styles.heading}>nderungen</div>\n                            <ul>\n                                <li>Name: <strong>{text}</strong></li>\n                            </ul>\n                        </>\n                    }\n\n                </div>\n            ),\n            okText: 'Besttigen',\n            okType: 'danger',\n            cancelText: 'Abbrechen',\n            onOk: doChange\n        });\n    }, [\n        adminEdit,\n        cancelReservations,\n        changeReason,\n        changeText,\n        courts,\n        newReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        reservations,\n        text,\n    ]);\n\n\n    const handleCancelReservation = useCallback(() => {\n        let cancelType = 'single';\n\n        const handleCancelTypeChange = e => (cancelType = e.target.value);\n\n        const doDelete = () => {\n            const reqParams = {\n                path: {\n                    groupId: reservation.groupId\n                }\n            };\n            const cb = () => {\n                message.success(\"Stornierung erfolgreich\");\n                onFinish();\n            }\n\n            let reservations;\n            if (cancelType === 'single') {\n                reservations = groupReservations.filter(r => !r.from.isSame(reservation.from, 'day'));\n            } else if (cancelType === 'allActive') {\n                reservations = groupReservations.filter(r => r.from.isBefore(dayjs(), 'hour'));\n            } else {\n                reservations = [];\n            }\n\n            patchReservationGroup(reqParams, {\n                reason: adminEdit ? changeReason : undefined,\n                reservations,\n            }, cb);\n        };\n\n        if (groupReservations.length <= 1) {\n            doDelete();\n        } else {\n            Modal.confirm({\n                title: 'Termine stornieren',\n                icon: <ExclamationCircleOutlined />,\n                centered: true,\n                content: (\n                    <Radio.Group \n                        className={styles.cancelRadioGroup}\n                        onChange={handleCancelTypeChange}\n                        defaultValue={cancelType}\n                    >\n                        <Radio value=\"single\">Nur diesen Termin</Radio>\n                        <ul>\n                            <li key={reservation.from}>{reservation.from.format('dd[\\xa0]L')}, {reservation.from.hour()}&nbsp;bis&nbsp;{reservation.to.hour()}&nbsp;Uhr, {getCourtName(courts, reservation.courtId)}</li>\n                        </ul>\n                        <Radio value=\"allActive\">Alle offenen Termine</Radio>\n                        <ul>\n                            {groupReservations.filter(r => !r.from.isBefore(dayjs(), 'hour')).map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                        {user?.admin &&\n                            <>\n                                <Radio value=\"all\">Alle Termine</Radio>\n                                <ul>\n                                    {groupReservations.map(({ courtId, from, to }) => (\n                                        <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                                    ))}\n                                </ul>\n                            </>\n                        }\n                    </Radio.Group>\n                ),\n                okText: 'Stornieren',\n                okType: 'danger',\n                cancelText: 'Abbrechen',\n                onOk: doDelete,\n            });\n        }\n    }, [\n        adminEdit,\n        changeReason,\n        courts,\n        groupReservations,\n        onFinish,\n        patchReservationGroup,\n        reservation,\n        user?.admin,\n    ]);\n\n    useEffect(() => {\n        if (prevErrorRef.current.post === postState.error\n            && prevErrorRef.current.patch === patchState.error)\n            return;\n        prevErrorRef.current.post = postState.error;\n        prevErrorRef.current.patch = patchState.error;\n\n        const message = postState.error?.message || patchState.error?.message;\n        if (unavailableReservations) {\n            Modal.error({\n                centered: true,\n                title: 'Reservierung fehlgeschlagen',\n                content: (\n                    <div>\n                        <div>\n                            Folgende Termine sind nicht verfgbar:\n                        </div>\n                        <ul>\n                            {unavailableReservations.map(({ courtId, from, to }) => (\n                                <li key={from}>{from.format('dd[\\xa0]L')}, {from.hour()}&nbsp;bis&nbsp;{to.hour()}&nbsp;Uhr, {getCourtName(courts, courtId)}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )\n            });\n        } else if (message === 'too many active reservations') {\n            const value = postState.error?.value || patchState.error?.value;\n            const max = postState.error?.max || patchState.error?.max;\n            const diff = Math.abs(value - max);\n            Modal.error({\n                centered: true,\n                title: 'Reservierungslimit erreicht',\n                content: (\n                    <div>\n                        {reservations?.length > diff ?\n                            (\n                                <p>\n                                    Bitte entfernen Sie mindestens <strong>{diff}</strong> Termine.\n                                </p>\n                            ) : (\n                                <p>\n                                    Sie knnen aktuell keine weiteren Termine reservieren.\n                                </p>\n                            )\n                        }\n                        <p>\n                            Es knnen maximal {max} Reservierungen im voraus gettigt werden. Bereits vergangene Termine werden dabei nicht angerechnet.\n                        </p>\n                    </div>\n                )\n            });\n        }\n    }, [courts, reservations?.length, postState.error, patchState.error, unavailableReservations])\n\n    if (\n        state.error\n        || (postState.error && !postState.error.unavailableReservations && postState.error.message !== 'too many active reservations')\n        || (patchState.error && !patchState.error.unavailableReservations && patchState.error.message !== 'too many active reservations')\n    ) {\n        return (\n            <Modal\n                title=\"Reservierung\"\n                visible={true}\n                centered\n                onCancel={onFinish}\n                onOk={onFinish}\n                footer={\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            Abbrechen\n                        </Button>\n                    </div>\n                }\n            >\n                <div className={styles.wrapper}>\n                    <ErrorResult />\n                </div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            visible={true}\n            width={530}\n            centered\n            onCancel={onFinish}\n            onOk={onFinish}\n            footer={loading ?\n                (\n                    <StatusText\n                        loading\n                        text=\"Bitte warten...\"\n                    />\n                ) : (\n                    <div className={styles.footer}>\n                        <Button onClick={onFinish}>\n                            {canEdit ? 'Abbrechen' : 'Schlieen'}\n                        </Button>\n                        {canEdit && (reservation ?\n                            (\n                                <>\n                                    <Button\n                                        type=\"danger\"\n                                        onClick={handleCancelReservation}\n                                        disabled={adminEdit && !changeReason}\n                                    >\n                                        Stornieren\n                                    </Button>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={handleChangeReservation}\n                                        disabled={\n                                            !(newReservations?.length || cancelReservations?.length || changeText)\n                                            || (adminEdit && !changeReason)\n                                        }\n                                    >\n                                        Speichern\n                                    </Button>\n                                </>\n                            ) : (\n                                <Button\n                                    disabled={!newReservations?.length}\n                                    type=\"primary\"\n                                    onClick={handlePostReservation}\n                                >\n                                    Reservieren\n                                </Button>\n                            )\n                        )}\n                    </div>\n                )\n            }\n        >\n            <div className={styles.wrapper}>\n                {state.loading ?\n                    (\n                        <Ball visible spin centered large />\n                    ) : (\n\n                        <ReservationDetailsForm\n                            courtId={courtId}\n                            currentReservations={groupReservations}\n                            disabled={loading}\n                            from={from}\n                            onCourtIdChange={setCourtId}\n                            onFromChange={setFrom}\n                            onReservationsChange={setReservations}\n                            onTextChange={setText}\n                            onToChange={setTo}\n                            readOnly={!canEdit}\n                            text={text}\n                            to={to}\n                            unavailableReservations={unavailableReservations}\n                        />\n                    )\n                }\n\n                {adminEdit &&\n                    <Form layout=\"vertical\">\n                        <Form.Item \n                            label=\"Grund der nderung\"\n                            required\n                        >\n                            <Input.TextArea\n                                autoSize\n                                disabled={loading}\n                                onChange={handleChangeChangeReason}\n                                placeholder=\"Erforderlich\"\n                                required\n                                value={changeReason}\n                            />\n                            <div className={styles.changeReasonHint}>\n                                Der Inhaber der Reservierung wird ber die nderungen sowie dessen Grund per E-Mail informiert.\n                            </div>\n                        </Form.Item>\n                    </Form>\n                }\n            </div>\n        </Modal>\n    );\n}","import { Button, Modal, Result } from 'antd';\nimport React, { useCallback, useContext } from 'react';\n\nimport { authContext } from '../AuthContext';\nimport styles from './VerifyMailModal.module.css';\nimport { useHistory } from 'react-router-dom';\n\nexport function VerifyMailModal({\n    onClose\n}) {\n    const { user } = useContext(authContext);\n    const history = useHistory();\n\n    const handleChangeMailClick = useCallback(() => {\n        history.push('/profile');\n    }, [history]);\n    \n    const handleResendMail = useCallback(() => {\n        history.push('/verify-mail/send');\n    }, [history]);\n\n    return (\n        <Modal\n            title=\"E-Mail nicht verifiziert\"\n            visible={true}\n            centered\n            width={580}\n            onCancel={onClose}\n            onOk={onClose}\n            footer={null}\n        >\n            <Result\n                status=\"warning\"\n                title=\"Bitte besttigen Sie Ihre E-Mail Adresse\"\n                extra={\n                    <div>\n                        <div>\n                            Klicken Sie auf den Besttigungslink, den Sie bei Ihrer Registrierung an <strong>{user?.mail}</strong> erhalten haben.\n                        </div>\n                        <div className={styles.buttons}>\n                            <Button type=\"primary\" onClick={handleResendMail}>\n                                Besttigungslink erneut senden\n                            </Button>\n                            <Button type=\"link\" onClick={handleChangeMailClick}>\n                                E-Mail Adresse ndern\n                            </Button>\n                        </div>\n                    </div>\n                }\n            />\n        </Modal>\n    );\n}","import React, { useContext } from 'react';\n\nimport { DisableReservationGroupModal } from './DisableReservationGroupModal';\nimport { LoginModal } from '../user/LoginModal';\nimport { RESERVATION_TYPES } from '../ReservationTypes';\nimport { ReservationGroupModal } from './ReservationGroupModal';\nimport { VerifyMailModal } from '../user/VerifyMailModal';\nimport { authContext } from '../AuthContext';\n\nexport function ReservationModal(props) {\n    \n    const { user } = useContext(authContext);\n    const { onFinish, reservation, type } = props;\n\n    if (!user)\n        return <LoginModal onClose={onFinish} />\n\n    if (!user.verified)\n        return <VerifyMailModal onClose={onFinish} />\n\n    if (reservation?.type === RESERVATION_TYPES.DISABLE || type === RESERVATION_TYPES.DISABLE)\n        return <DisableReservationGroupModal {...props} />;\n\n    return <ReservationGroupModal {...props} />;\n}","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nvar placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topCenter: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomCenter: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\nimport Placements from './placements';\n\nfunction Dropdown(props, ref) {\n  var _props$arrow = props.arrow,\n      arrow = _props$arrow === void 0 ? false : _props$arrow,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-dropdown' : _props$prefixCls,\n      transitionName = props.transitionName,\n      animation = props.animation,\n      align = props.align,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomLeft' : _props$placement,\n      _props$placements = props.placements,\n      placements = _props$placements === void 0 ? Placements : _props$placements,\n      getPopupContainer = props.getPopupContainer,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      overlayClassName = props.overlayClassName,\n      overlayStyle = props.overlayStyle,\n      visible = props.visible,\n      _props$trigger = props.trigger,\n      trigger = _props$trigger === void 0 ? ['hover'] : _props$trigger,\n      otherProps = _objectWithoutProperties(props, [\"arrow\", \"prefixCls\", \"transitionName\", \"animation\", \"align\", \"placement\", \"placements\", \"getPopupContainer\", \"showAction\", \"hideAction\", \"overlayClassName\", \"overlayStyle\", \"visible\", \"trigger\"]);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      triggerVisible = _React$useState2[0],\n      setTriggerVisible = _React$useState2[1];\n\n  var mergedVisible = 'visible' in props ? visible : triggerVisible;\n  var triggerRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return triggerRef.current;\n  });\n\n  var getOverlayElement = function getOverlayElement() {\n    var overlay = props.overlay;\n    var overlayElement;\n\n    if (typeof overlay === 'function') {\n      overlayElement = overlay();\n    } else {\n      overlayElement = overlay;\n    }\n\n    return overlayElement;\n  };\n\n  var onClick = function onClick(e) {\n    var onOverlayClick = props.onOverlayClick;\n    var overlayProps = getOverlayElement().props;\n    setTriggerVisible(false);\n\n    if (onOverlayClick) {\n      onOverlayClick(e);\n    }\n\n    if (overlayProps.onClick) {\n      overlayProps.onClick(e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(visible) {\n    var onVisibleChange = props.onVisibleChange;\n    setTriggerVisible(visible);\n\n    if (typeof onVisibleChange === 'function') {\n      onVisibleChange(visible);\n    }\n  };\n\n  var getMenuElement = function getMenuElement() {\n    var overlayElement = getOverlayElement();\n    var extraOverlayProps = {\n      prefixCls: \"\".concat(prefixCls, \"-menu\"),\n      onClick: onClick\n    };\n\n    if (typeof overlayElement.type === 'string') {\n      delete extraOverlayProps.prefixCls;\n    }\n\n    return React.createElement(React.Fragment, null, arrow && React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-arrow\")\n    }), React.cloneElement(overlayElement, extraOverlayProps));\n  };\n\n  var getMenuElementOrLambda = function getMenuElementOrLambda() {\n    var overlay = props.overlay;\n\n    if (typeof overlay === 'function') {\n      return getMenuElement;\n    }\n\n    return getMenuElement();\n  };\n\n  var getMinOverlayWidthMatchTrigger = function getMinOverlayWidthMatchTrigger() {\n    var minOverlayWidthMatchTrigger = props.minOverlayWidthMatchTrigger,\n        alignPoint = props.alignPoint;\n\n    if ('minOverlayWidthMatchTrigger' in props) {\n      return minOverlayWidthMatchTrigger;\n    }\n\n    return !alignPoint;\n  };\n\n  var getOpenClassName = function getOpenClassName() {\n    var openClassName = props.openClassName;\n\n    if (openClassName !== undefined) {\n      return openClassName;\n    }\n\n    return \"\".concat(prefixCls, \"-open\");\n  };\n\n  var renderChildren = function renderChildren() {\n    var children = props.children;\n    var childrenProps = children.props ? children.props : {};\n    var childClassName = classNames(childrenProps.className, getOpenClassName());\n    return triggerVisible && children ? React.cloneElement(children, {\n      className: childClassName\n    }) : children;\n  };\n\n  var triggerHideAction = hideAction;\n\n  if (!triggerHideAction && trigger.indexOf('contextMenu') !== -1) {\n    triggerHideAction = ['click'];\n  }\n\n  return React.createElement(Trigger, Object.assign({}, otherProps, {\n    prefixCls: prefixCls,\n    ref: triggerRef,\n    popupClassName: classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-show-arrow\"), arrow)),\n    popupStyle: overlayStyle,\n    builtinPlacements: placements,\n    action: trigger,\n    showAction: showAction,\n    hideAction: triggerHideAction || [],\n    popupPlacement: placement,\n    popupAlign: align,\n    popupTransitionName: transitionName,\n    popupAnimation: animation,\n    popupVisible: mergedVisible,\n    stretch: getMinOverlayWidthMatchTrigger() ? 'minWidth' : '',\n    popup: getMenuElementOrLambda(),\n    onPopupVisibleChange: onVisibleChange,\n    getPopupContainer: getPopupContainer\n  }), renderChildren());\n}\n\nexport default React.forwardRef(Dropdown);","import Dropdown from './Dropdown';\nexport default Dropdown;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _PlusOutlined = _interopRequireDefault(require('./lib/icons/PlusOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _PlusOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _PlusOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/PlusOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _PlusOutlined.default\n  }));\n};\n\nPlusOutlined.displayName = 'PlusOutlined';\n\nvar _default = React.forwardRef(PlusOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexports.default = PlusOutlined;\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useRef, useState, useEffect } from 'react';\nimport raf from 'raf';\nexport default function useRaf(callback) {\n  var rafRef = useRef();\n  var removedRef = useRef(false);\n\n  function trigger() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!removedRef.current) {\n      raf.cancel(rafRef.current);\n      rafRef.current = raf(function () {\n        callback.apply(void 0, args);\n      });\n    }\n  }\n\n  useEffect(function () {\n    return function () {\n      removedRef.current = true;\n      raf.cancel(rafRef.current);\n    };\n  }, []);\n  return trigger;\n}\nexport function useRafState(defaultState) {\n  var batchRef = useRef([]);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var state = useRef(typeof defaultState === 'function' ? defaultState() : defaultState);\n  var flushUpdate = useRaf(function () {\n    var current = state.current;\n    batchRef.current.forEach(function (callback) {\n      current = callback(current);\n    });\n    batchRef.current = [];\n    state.current = current;\n    forceUpdate({});\n  });\n\n  function updater(callback) {\n    batchRef.current.push(callback);\n    flushUpdate();\n  }\n\n  return [state.current, updater];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\n\nfunction TabNode(_ref, ref) {\n  var _classNames;\n\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      active = _ref.active,\n      rtl = _ref.rtl,\n      _ref$tab = _ref.tab,\n      key = _ref$tab.key,\n      tab = _ref$tab.tab,\n      disabled = _ref$tab.disabled,\n      closeIcon = _ref$tab.closeIcon,\n      tabBarGutter = _ref.tabBarGutter,\n      tabPosition = _ref.tabPosition,\n      closable = _ref.closable,\n      renderWrapper = _ref.renderWrapper,\n      removeAriaLabel = _ref.removeAriaLabel,\n      editable = _ref.editable,\n      onClick = _ref.onClick,\n      onRemove = _ref.onRemove,\n      onFocus = _ref.onFocus;\n  var tabPrefix = \"\".concat(prefixCls, \"-tab\");\n  React.useEffect(function () {\n    return onRemove;\n  }, []);\n  var nodeStyle = {};\n\n  if (tabPosition === 'top' || tabPosition === 'bottom') {\n    nodeStyle[rtl ? 'marginLeft' : 'marginRight'] = tabBarGutter;\n  } else {\n    nodeStyle.marginBottom = tabBarGutter;\n  }\n\n  var removable = editable && closable !== false && !disabled;\n\n  function onInternalClick(e) {\n    if (disabled) return;\n    onClick(e);\n  }\n\n  function onRemoveTab(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    editable.onEdit('remove', {\n      key: key,\n      event: event\n    });\n  }\n\n  var node = React.createElement(\"div\", {\n    key: key,\n    ref: ref,\n    className: classNames(tabPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(tabPrefix, \"-with-remove\"), removable), _defineProperty(_classNames, \"\".concat(tabPrefix, \"-active\"), active), _defineProperty(_classNames, \"\".concat(tabPrefix, \"-disabled\"), disabled), _classNames)),\n    style: nodeStyle,\n    onClick: onInternalClick\n  }, React.createElement(\"div\", {\n    role: \"tab\",\n    \"aria-selected\": active,\n    id: id && \"\".concat(id, \"-tab-\").concat(key),\n    className: \"\".concat(tabPrefix, \"-btn\"),\n    \"aria-controls\": id && \"\".concat(id, \"-panel-\").concat(key),\n    \"aria-disabled\": disabled,\n    tabIndex: disabled ? null : 0,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      onInternalClick(e);\n    },\n    onKeyDown: function onKeyDown(e) {\n      if ([KeyCode.SPACE, KeyCode.ENTER].includes(e.which)) {\n        e.preventDefault();\n        onInternalClick(e);\n      }\n    },\n    onFocus: onFocus\n  }, tab), removable && React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": removeAriaLabel || 'remove',\n    tabIndex: 0,\n    className: \"\".concat(tabPrefix, \"-remove\"),\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      onRemoveTab(e);\n    }\n  }, closeIcon || editable.removeIcon || ''));\n\n  if (renderWrapper) {\n    node = renderWrapper(node);\n  }\n\n  return node;\n}\n\nexport default React.forwardRef(TabNode);","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useMemo } from 'react';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0\n};\nexport default function useOffsets(tabs, tabSizes, holderScrollWidth) {\n  return useMemo(function () {\n    var _tabs$;\n\n    var map = new Map();\n    var lastOffset = tabSizes.get((_tabs$ = tabs[0]) === null || _tabs$ === void 0 ? void 0 : _tabs$.key) || DEFAULT_SIZE;\n    var rightOffset = lastOffset.left + lastOffset.width;\n\n    for (var i = 0; i < tabs.length; i += 1) {\n      var key = tabs[i].key;\n      var data = tabSizes.get(key); // Reuse last one when not exist yet\n\n      if (!data) {\n        var _tabs;\n\n        data = tabSizes.get((_tabs = tabs[i - 1]) === null || _tabs === void 0 ? void 0 : _tabs.key) || DEFAULT_SIZE;\n      }\n\n      var entity = map.get(key) || _objectSpread({}, data); // Right\n\n\n      entity.right = rightOffset - entity.left - entity.width; // Update entity\n\n      map.set(key, entity);\n    }\n\n    return map;\n  }, [tabs.map(function (tab) {\n    return tab.key;\n  }).join('_'), tabSizes, holderScrollWidth]);\n}","import { useMemo } from 'react';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport default function useVisibleRange(tabOffsets, containerSize, tabContentNodeSize, addNodeSize, _ref) {\n  var tabs = _ref.tabs,\n      tabPosition = _ref.tabPosition,\n      rtl = _ref.rtl;\n  var unit;\n  var position;\n  var transformSize;\n\n  if (['top', 'bottom'].includes(tabPosition)) {\n    unit = 'width';\n    position = rtl ? 'right' : 'left';\n    transformSize = Math.abs(containerSize.left);\n  } else {\n    unit = 'height';\n    position = 'top';\n    transformSize = -containerSize.top;\n  }\n\n  var basicSize = containerSize[unit];\n  var tabContentSize = tabContentNodeSize[unit];\n  var addSize = addNodeSize[unit];\n  var mergedBasicSize = basicSize;\n\n  if (tabContentSize + addSize > basicSize) {\n    mergedBasicSize = basicSize - addSize;\n  }\n\n  return useMemo(function () {\n    if (!tabs.length) {\n      return [0, 0];\n    }\n\n    var len = tabs.length;\n    var endIndex = len;\n\n    for (var i = 0; i < len; i += 1) {\n      var offset = tabOffsets.get(tabs[i].key) || DEFAULT_SIZE;\n\n      if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n        endIndex = i - 1;\n        break;\n      }\n    }\n\n    var startIndex = 0;\n\n    for (var _i = len - 1; _i >= 0; _i -= 1) {\n      var _offset = tabOffsets.get(tabs[_i].key) || DEFAULT_SIZE;\n\n      if (_offset[position] < transformSize) {\n        startIndex = _i + 1;\n        break;\n      }\n    }\n\n    return [startIndex, endIndex];\n  }, [tabOffsets, transformSize, mergedBasicSize, tabPosition, tabs.map(function (tab) {\n    return tab.key;\n  }).join('_'), rtl]);\n}","import * as React from 'react';\n\nfunction AddButton(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      editable = _ref.editable,\n      locale = _ref.locale,\n      style = _ref.style;\n\n  if (!editable || editable.showAdd === false) {\n    return null;\n  }\n\n  return React.createElement(\"button\", {\n    ref: ref,\n    type: \"button\",\n    className: \"\".concat(prefixCls, \"-nav-add\"),\n    style: style,\n    \"aria-label\": (locale === null || locale === void 0 ? void 0 : locale.addAriaLabel) || 'Add tab',\n    onClick: function onClick(event) {\n      editable.onEdit('add', {\n        event: event\n      });\n    }\n  }, editable.addIcon || '+');\n}\n\nexport default React.forwardRef(AddButton);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useState, useEffect } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport Menu, { MenuItem } from 'rc-menu';\nimport Dropdown from 'rc-dropdown';\nimport AddButton from './AddButton';\n\nfunction OperationNode(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      tabs = _ref.tabs,\n      locale = _ref.locale,\n      mobile = _ref.mobile,\n      _ref$moreIcon = _ref.moreIcon,\n      moreIcon = _ref$moreIcon === void 0 ? 'More' : _ref$moreIcon,\n      moreTransitionName = _ref.moreTransitionName,\n      style = _ref.style,\n      className = _ref.className,\n      editable = _ref.editable,\n      tabBarGutter = _ref.tabBarGutter,\n      rtl = _ref.rtl,\n      onTabClick = _ref.onTabClick;\n\n  // ======================== Dropdown ========================\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedKey = _useState4[0],\n      setSelectedKey = _useState4[1];\n\n  var popupId = \"\".concat(id, \"-more-popup\");\n  var dropdownPrefix = \"\".concat(prefixCls, \"-dropdown\");\n  var selectedItemId = selectedKey !== null ? \"\".concat(popupId, \"-\").concat(selectedKey) : null;\n  var dropdownAriaLabel = locale === null || locale === void 0 ? void 0 : locale.dropdownAriaLabel;\n  var menu = React.createElement(Menu, {\n    onClick: function onClick(_ref2) {\n      var key = _ref2.key,\n          domEvent = _ref2.domEvent;\n      onTabClick(key, domEvent);\n      setOpen(false);\n    },\n    id: popupId,\n    tabIndex: -1,\n    role: \"listbox\",\n    \"aria-activedescendant\": selectedItemId,\n    selectedKeys: [selectedKey],\n    \"aria-label\": dropdownAriaLabel !== undefined ? dropdownAriaLabel : 'expanded dropdown'\n  }, tabs.map(function (tab) {\n    return React.createElement(MenuItem, {\n      key: tab.key,\n      id: \"\".concat(popupId, \"-\").concat(tab.key),\n      role: \"option\",\n      \"aria-controls\": id && \"\".concat(id, \"-panel-\").concat(tab.key),\n      disabled: tab.disabled\n    }, tab.tab);\n  }));\n\n  function selectOffset(offset) {\n    var enabledTabs = tabs.filter(function (tab) {\n      return !tab.disabled;\n    });\n    var selectedIndex = enabledTabs.findIndex(function (tab) {\n      return tab.key === selectedKey;\n    }) || 0;\n    var len = enabledTabs.length;\n\n    for (var i = 0; i < len; i += 1) {\n      selectedIndex = (selectedIndex + offset + len) % len;\n      var tab = enabledTabs[selectedIndex];\n\n      if (!tab.disabled) {\n        setSelectedKey(tab.key);\n        return;\n      }\n    }\n  }\n\n  function onKeyDown(e) {\n    var which = e.which;\n\n    if (!open) {\n      if ([KeyCode.DOWN, KeyCode.SPACE, KeyCode.ENTER].includes(which)) {\n        setOpen(true);\n        e.preventDefault();\n      }\n\n      return;\n    }\n\n    switch (which) {\n      case KeyCode.UP:\n        selectOffset(-1);\n        e.preventDefault();\n        break;\n\n      case KeyCode.DOWN:\n        selectOffset(1);\n        e.preventDefault();\n        break;\n\n      case KeyCode.ESC:\n        setOpen(false);\n        break;\n\n      case KeyCode.SPACE:\n      case KeyCode.ENTER:\n        if (selectedKey !== null) onTabClick(selectedKey, e);\n        break;\n    }\n  } // ========================= Effect =========================\n\n\n  useEffect(function () {\n    // We use query element here to avoid React strict warning\n    var ele = document.getElementById(selectedItemId);\n\n    if (ele && ele.scrollIntoView) {\n      ele.scrollIntoView(false);\n    }\n  }, [selectedKey]);\n  useEffect(function () {\n    if (!open) {\n      setSelectedKey(null);\n    }\n  }, [open]); // ========================= Render =========================\n\n  var moreStyle = _defineProperty({}, rtl ? 'marginLeft' : 'marginRight', tabBarGutter);\n\n  if (!tabs.length) {\n    moreStyle.visibility = 'hidden';\n    moreStyle.order = 1;\n  }\n\n  var overlayClassName = classNames(_defineProperty({}, \"\".concat(dropdownPrefix, \"-rtl\"), rtl));\n  var moreNode = mobile ? null : React.createElement(Dropdown, {\n    prefixCls: dropdownPrefix,\n    overlay: menu,\n    trigger: ['hover'],\n    visible: open,\n    transitionName: moreTransitionName,\n    onVisibleChange: setOpen,\n    overlayClassName: overlayClassName,\n    mouseEnterDelay: 0.1,\n    mouseLeaveDelay: 0.1\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"\".concat(prefixCls, \"-nav-more\"),\n    style: moreStyle,\n    tabIndex: -1,\n    \"aria-hidden\": \"true\",\n    \"aria-haspopup\": \"listbox\",\n    \"aria-controls\": popupId,\n    id: \"\".concat(id, \"-more\"),\n    \"aria-expanded\": open,\n    onKeyDown: onKeyDown\n  }, moreIcon));\n  return React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-nav-operations\"), className),\n    style: style,\n    ref: ref\n  }, moreNode, React.createElement(AddButton, {\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable\n  }));\n}\n\nexport default React.forwardRef(OperationNode);","import { createContext } from 'react';\nexport default createContext(null);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef } from 'react';\nvar MIN_SWIPE_DISTANCE = 0.1;\nvar STOP_SWIPE_DISTANCE = 0.01;\nvar REFRESH_INTERVAL = 20;\nvar SPEED_OFF_MULTIPLE = Math.pow(0.995, REFRESH_INTERVAL); // ========================= Check if is a mobile =========================\n\nexport function isMobile() {\n  var agent = navigator.userAgent || navigator.vendor || window.opera;\n\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent.substr(0, 4))) {\n    return true;\n  }\n\n  return false;\n} // ================================= Hook =================================\n\nexport default function useTouchMove(ref, onOffset) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      touchPosition = _useState2[0],\n      setTouchPosition = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastTimestamp = _useState4[0],\n      setLastTimestamp = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastTimeDiff = _useState6[0],\n      setLastTimeDiff = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastOffset = _useState8[0],\n      setLastOffset = _useState8[1];\n\n  var motionRef = useRef(); // ========================= Events =========================\n  // >>> Touch events\n\n  function onTouchStart(e) {\n    var _e$touches$ = e.touches[0],\n        screenX = _e$touches$.screenX,\n        screenY = _e$touches$.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    window.clearInterval(motionRef.current);\n  }\n\n  function onTouchMove(e) {\n    if (!touchPosition) return;\n    e.preventDefault();\n    var _e$touches$2 = e.touches[0],\n        screenX = _e$touches$2.screenX,\n        screenY = _e$touches$2.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    var offsetX = screenX - touchPosition.x;\n    var offsetY = screenY - touchPosition.y;\n    onOffset(offsetX, offsetY);\n    var now = Date.now();\n    setLastTimestamp(now);\n    setLastTimeDiff(now - lastTimestamp);\n    setLastOffset({\n      x: offsetX,\n      y: offsetY\n    });\n  }\n\n  function onTouchEnd() {\n    if (!touchPosition) return;\n    setTouchPosition(null);\n    setLastOffset(null); // Swipe if needed\n\n    if (lastOffset) {\n      var distanceX = lastOffset.x / lastTimeDiff;\n      var distanceY = lastOffset.y / lastTimeDiff;\n      var absX = Math.abs(distanceX);\n      var absY = Math.abs(distanceY); // Skip swipe if low distance\n\n      if (Math.max(absX, absY) < MIN_SWIPE_DISTANCE) return;\n      var currentX = distanceX;\n      var currentY = distanceY;\n      motionRef.current = window.setInterval(function () {\n        if (Math.abs(currentX) < STOP_SWIPE_DISTANCE && Math.abs(currentY) < STOP_SWIPE_DISTANCE) {\n          window.clearInterval(motionRef.current);\n          return;\n        }\n\n        currentX *= SPEED_OFF_MULTIPLE;\n        currentY *= SPEED_OFF_MULTIPLE;\n        onOffset(currentX * REFRESH_INTERVAL, currentY * REFRESH_INTERVAL);\n      }, REFRESH_INTERVAL);\n    }\n  } // >>> Wheel event\n\n\n  var lastWheelTimestampRef = useRef(0);\n  var lastWheelPreventRef = useRef(false);\n  var lastWheelDirectionRef = useRef();\n\n  function onWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY; // Convert both to x & y since wheel only happened on PC\n\n    var mixed = 0;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n\n    if (absX === absY) {\n      mixed = lastWheelDirectionRef.current === 'x' ? deltaX : deltaY;\n    } else if (absX > absY) {\n      mixed = deltaX;\n      lastWheelDirectionRef.current = 'x';\n    } else {\n      mixed = deltaY;\n      lastWheelDirectionRef.current = 'y';\n    } // Optimize mac touch scroll\n\n\n    var now = Date.now();\n\n    if (now - lastWheelTimestampRef.current > 100) {\n      lastWheelPreventRef.current = false;\n    }\n\n    if (onOffset(-mixed, -mixed) || lastWheelPreventRef.current) {\n      e.preventDefault();\n      lastWheelPreventRef.current = true;\n    }\n\n    lastWheelTimestampRef.current = now;\n  } // ========================= Effect =========================\n\n\n  var touchEventsRef = useRef(null);\n  touchEventsRef.current = {\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd,\n    onWheel: onWheel\n  };\n  React.useEffect(function () {\n    function onProxyTouchStart(e) {\n      touchEventsRef.current.onTouchStart(e);\n    }\n\n    function onProxyTouchMove(e) {\n      touchEventsRef.current.onTouchMove(e);\n    }\n\n    function onProxyTouchEnd(e) {\n      touchEventsRef.current.onTouchEnd(e);\n    }\n\n    function onProxyWheel(e) {\n      touchEventsRef.current.onWheel(e);\n    }\n\n    document.addEventListener('touchmove', onProxyTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', onProxyTouchEnd, {\n      passive: false\n    }); // No need to clean up since element removed\n\n    ref.current.addEventListener('touchstart', onProxyTouchStart, {\n      passive: false\n    });\n    ref.current.addEventListener('wheel', onProxyWheel);\n    return function () {\n      document.removeEventListener('touchmove', onProxyTouchMove);\n      document.removeEventListener('touchend', onProxyTouchEnd);\n    };\n  }, []);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useSyncState(defaultState, onChange) {\n  var stateRef = React.useRef(defaultState);\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  function setState(updater) {\n    var newValue = typeof updater === 'function' ? updater(stateRef.current) : updater;\n\n    if (newValue !== stateRef.current) {\n      onChange(newValue, stateRef.current);\n    }\n\n    stateRef.current = newValue;\n    forceUpdate({});\n  }\n\n  return [stateRef.current, setState];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport raf from 'raf';\nimport ResizeObserver from 'rc-resize-observer';\nimport useRaf, { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport useVisibleRange from '../hooks/useVisibleRange';\nimport OperationNode from './OperationNode';\nimport TabContext from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport useRefs from '../hooks/useRefs';\nimport AddButton from './AddButton';\nimport useSyncState from '../hooks/useSyncState';\n\nvar ExtraContent = function ExtraContent(_ref) {\n  var position = _ref.position,\n      prefixCls = _ref.prefixCls,\n      extra = _ref.extra;\n  if (!extra) return null;\n  var content;\n  var assertExtra = extra;\n\n  if (position === 'right') {\n    content = assertExtra.right || !assertExtra.left && assertExtra || null;\n  }\n\n  if (position === 'left') {\n    content = assertExtra.left || null;\n  }\n\n  return content ? React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-extra-content\")\n  }, content) : null;\n};\n\nfunction TabNavList(props, ref) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(TabContext),\n      prefixCls = _React$useContext.prefixCls,\n      tabs = _React$useContext.tabs;\n\n  var className = props.className,\n      style = props.style,\n      id = props.id,\n      animated = props.animated,\n      activeKey = props.activeKey,\n      rtl = props.rtl,\n      extra = props.extra,\n      editable = props.editable,\n      locale = props.locale,\n      tabPosition = props.tabPosition,\n      tabBarGutter = props.tabBarGutter,\n      children = props.children,\n      onTabClick = props.onTabClick,\n      onTabScroll = props.onTabScroll;\n  var tabsWrapperRef = useRef();\n  var tabListRef = useRef();\n  var operationsRef = useRef();\n  var innerAddButtonRef = useRef();\n\n  var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      getBtnRef = _useRefs2[0],\n      removeBtnRef = _useRefs2[1];\n\n  var tabPositionTopOrBottom = tabPosition === 'top' || tabPosition === 'bottom';\n\n  var _useSyncState = useSyncState(0, function (next, prev) {\n    if (tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'left' : 'right'\n      });\n    }\n  }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n\n  var _useSyncState3 = useSyncState(0, function (next, prev) {\n    if (!tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'top' : 'bottom'\n      });\n    }\n  }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperScrollWidth = _useState2[0],\n      setWrapperScrollWidth = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wrapperScrollHeight = _useState4[0],\n      setWrapperScrollHeight = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrapperContentWidth = _useState6[0],\n      setWrapperContentWidth = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperContentHeight = _useState8[0],\n      setWrapperContentHeight = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      wrapperWidth = _useState10[0],\n      setWrapperWidth = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      wrapperHeight = _useState12[0],\n      setWrapperHeight = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      addWidth = _useState14[0],\n      setAddWidth = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      addHeight = _useState16[0],\n      setAddHeight = _useState16[1];\n\n  var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n\n  var tabOffsets = useOffsets(tabs, tabSizes, wrapperScrollWidth); // ========================== Util =========================\n\n  var operationsHiddenClassName = \"\".concat(prefixCls, \"-nav-operations-hidden\");\n  var transformMin = 0;\n  var transformMax = 0;\n\n  if (!tabPositionTopOrBottom) {\n    transformMin = Math.min(0, wrapperHeight - wrapperScrollHeight);\n    transformMax = 0;\n  } else if (rtl) {\n    transformMin = 0;\n    transformMax = Math.max(0, wrapperScrollWidth - wrapperWidth);\n  } else {\n    transformMin = Math.min(0, wrapperWidth - wrapperScrollWidth);\n    transformMax = 0;\n  }\n\n  function alignInRange(value) {\n    if (value < transformMin) {\n      return [transformMin, false];\n    }\n\n    if (value > transformMax) {\n      return [transformMax, false];\n    }\n\n    return [value, true];\n  } // ========================= Mobile ========================\n\n\n  var touchMovingRef = useRef();\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      lockAnimation = _useState18[0],\n      setLockAnimation = _useState18[1];\n\n  function doLockAnimation() {\n    setLockAnimation(Date.now());\n  }\n\n  function clearTouchMoving() {\n    window.clearTimeout(touchMovingRef.current);\n  }\n\n  useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n    var preventDefault = false;\n\n    function doMove(setState, offset) {\n      setState(function (value) {\n        var _alignInRange = alignInRange(value + offset),\n            _alignInRange2 = _slicedToArray(_alignInRange, 2),\n            newValue = _alignInRange2[0],\n            needPrevent = _alignInRange2[1];\n\n        preventDefault = needPrevent;\n        return newValue;\n      });\n    }\n\n    if (tabPositionTopOrBottom) {\n      // Skip scroll if place is enough\n      if (wrapperWidth >= wrapperScrollWidth) {\n        return preventDefault;\n      }\n\n      doMove(setTransformLeft, offsetX);\n    } else {\n      if (wrapperHeight >= wrapperScrollHeight) {\n        return preventDefault;\n      }\n\n      doMove(setTransformTop, offsetY);\n    }\n\n    clearTouchMoving();\n    doLockAnimation();\n    return preventDefault;\n  });\n  useEffect(function () {\n    clearTouchMoving();\n\n    if (lockAnimation) {\n      touchMovingRef.current = window.setTimeout(function () {\n        setLockAnimation(0);\n      }, 100);\n    }\n\n    return clearTouchMoving;\n  }, [lockAnimation]); // ========================= Scroll ========================\n\n  function scrollToTab() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : activeKey;\n    var tabOffset = tabOffsets.get(key);\n    if (!tabOffset) return;\n\n    if (tabPositionTopOrBottom) {\n      // ============ Align with top & bottom ============\n      var newTransform = transformLeft; // RTL\n\n      if (rtl) {\n        if (tabOffset.right < transformLeft) {\n          newTransform = tabOffset.right;\n        } else if (tabOffset.right + tabOffset.width > transformLeft + wrapperWidth) {\n          newTransform = tabOffset.right + tabOffset.width - wrapperWidth;\n        }\n      } // LTR\n      else if (tabOffset.left < -transformLeft) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft + wrapperWidth) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth);\n        }\n\n      setTransformTop(0);\n      setTransformLeft(alignInRange(newTransform)[0]);\n    } else {\n      // ============ Align with left & right ============\n      var _newTransform = transformTop;\n\n      if (tabOffset.top < -transformTop) {\n        _newTransform = -tabOffset.top;\n      } else if (tabOffset.top + tabOffset.height > -transformTop + wrapperHeight) {\n        _newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight);\n      }\n\n      setTransformLeft(0);\n      setTransformTop(alignInRange(_newTransform)[0]);\n    }\n  } // ========================== Tab ==========================\n  // Render tab node & collect tab offset\n\n\n  var _useVisibleRange = useVisibleRange(tabOffsets, {\n    width: wrapperWidth,\n    height: wrapperHeight,\n    left: transformLeft,\n    top: transformTop\n  }, {\n    width: wrapperContentWidth,\n    height: wrapperContentHeight\n  }, {\n    width: addWidth,\n    height: addHeight\n  }, _objectSpread(_objectSpread({}, props), {}, {\n    tabs: tabs\n  })),\n      _useVisibleRange2 = _slicedToArray(_useVisibleRange, 2),\n      visibleStart = _useVisibleRange2[0],\n      visibleEnd = _useVisibleRange2[1];\n\n  var tabNodes = tabs.map(function (tab) {\n    var key = tab.key;\n    return React.createElement(TabNode, {\n      id: id,\n      prefixCls: prefixCls,\n      key: key,\n      rtl: rtl,\n      tab: tab,\n      closable: tab.closable,\n      editable: editable,\n      active: key === activeKey,\n      tabPosition: tabPosition,\n      tabBarGutter: tabBarGutter,\n      renderWrapper: children,\n      removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n      ref: getBtnRef(key),\n      onClick: function onClick(e) {\n        onTabClick(key, e);\n      },\n      onRemove: function onRemove() {\n        removeBtnRef(key);\n      },\n      onFocus: function onFocus() {\n        scrollToTab(key);\n        doLockAnimation(); // Focus element will make scrollLeft change which we should reset back\n\n        if (!rtl) {\n          tabsWrapperRef.current.scrollLeft = 0;\n        }\n\n        tabsWrapperRef.current.scrollTop = 0;\n      }\n    });\n  });\n  var onListHolderResize = useRaf(function () {\n    var _tabsWrapperRef$curre, _tabsWrapperRef$curre2, _innerAddButtonRef$cu, _innerAddButtonRef$cu2, _operationsRef$curren, _operationsRef$curren2, _tabListRef$current, _tabListRef$current2, _operationsRef$curren3;\n\n    // Update wrapper records\n    var offsetWidth = ((_tabsWrapperRef$curre = tabsWrapperRef.current) === null || _tabsWrapperRef$curre === void 0 ? void 0 : _tabsWrapperRef$curre.offsetWidth) || 0;\n    var offsetHeight = ((_tabsWrapperRef$curre2 = tabsWrapperRef.current) === null || _tabsWrapperRef$curre2 === void 0 ? void 0 : _tabsWrapperRef$curre2.offsetHeight) || 0;\n    var newAddWidth = ((_innerAddButtonRef$cu = innerAddButtonRef.current) === null || _innerAddButtonRef$cu === void 0 ? void 0 : _innerAddButtonRef$cu.offsetWidth) || 0;\n    var newAddHeight = ((_innerAddButtonRef$cu2 = innerAddButtonRef.current) === null || _innerAddButtonRef$cu2 === void 0 ? void 0 : _innerAddButtonRef$cu2.offsetHeight) || 0;\n    var newOperationWidth = ((_operationsRef$curren = operationsRef.current) === null || _operationsRef$curren === void 0 ? void 0 : _operationsRef$curren.offsetWidth) || 0;\n    var newOperationHeight = ((_operationsRef$curren2 = operationsRef.current) === null || _operationsRef$curren2 === void 0 ? void 0 : _operationsRef$curren2.offsetHeight) || 0;\n    setWrapperWidth(offsetWidth);\n    setWrapperHeight(offsetHeight);\n    setAddWidth(newAddWidth);\n    setAddHeight(newAddHeight);\n    var newWrapperScrollWidth = (((_tabListRef$current = tabListRef.current) === null || _tabListRef$current === void 0 ? void 0 : _tabListRef$current.offsetWidth) || 0) - newAddWidth;\n    var newWrapperScrollHeight = (((_tabListRef$current2 = tabListRef.current) === null || _tabListRef$current2 === void 0 ? void 0 : _tabListRef$current2.offsetHeight) || 0) - newAddHeight;\n    setWrapperScrollWidth(newWrapperScrollWidth);\n    setWrapperScrollHeight(newWrapperScrollHeight);\n    var isOperationHidden = (_operationsRef$curren3 = operationsRef.current) === null || _operationsRef$curren3 === void 0 ? void 0 : _operationsRef$curren3.className.includes(operationsHiddenClassName);\n    setWrapperContentWidth(newWrapperScrollWidth - (isOperationHidden ? 0 : newOperationWidth));\n    setWrapperContentHeight(newWrapperScrollHeight - (isOperationHidden ? 0 : newOperationHeight)); // Update buttons records\n\n    setTabSizes(function () {\n      var newSizes = new Map();\n      tabs.forEach(function (_ref2) {\n        var key = _ref2.key;\n        var btnNode = getBtnRef(key).current;\n\n        if (btnNode) {\n          newSizes.set(key, {\n            width: btnNode.offsetWidth,\n            height: btnNode.offsetHeight,\n            left: btnNode.offsetLeft,\n            top: btnNode.offsetTop\n          });\n        }\n      });\n      return newSizes;\n    });\n  }); // ======================== Dropdown =======================\n\n  var startHiddenTabs = tabs.slice(0, visibleStart);\n  var endHiddenTabs = tabs.slice(visibleEnd + 1);\n  var hiddenTabs = [].concat(_toConsumableArray(startHiddenTabs), _toConsumableArray(endHiddenTabs)); // =================== Link & Operations ===================\n\n  var _useState19 = useState(),\n      _useState20 = _slicedToArray(_useState19, 2),\n      inkStyle = _useState20[0],\n      setInkStyle = _useState20[1];\n\n  var activeTabOffset = tabOffsets.get(activeKey); // Delay set ink style to avoid remove tab blink\n\n  var inkBarRafRef = useRef();\n\n  function cleanInkBarRaf() {\n    raf.cancel(inkBarRafRef.current);\n  }\n\n  useEffect(function () {\n    var newInkStyle = {};\n\n    if (activeTabOffset) {\n      if (tabPositionTopOrBottom) {\n        if (rtl) {\n          newInkStyle.right = activeTabOffset.right;\n        } else {\n          newInkStyle.left = activeTabOffset.left;\n        }\n\n        newInkStyle.width = activeTabOffset.width;\n      } else {\n        newInkStyle.top = activeTabOffset.top;\n        newInkStyle.height = activeTabOffset.height;\n      }\n    }\n\n    cleanInkBarRaf();\n    inkBarRafRef.current = raf(function () {\n      setInkStyle(newInkStyle);\n    });\n    return cleanInkBarRaf;\n  }, [activeTabOffset, tabPositionTopOrBottom, rtl]); // ========================= Effect ========================\n\n  useEffect(function () {\n    scrollToTab();\n  }, [activeKey, activeTabOffset, tabOffsets, tabPositionTopOrBottom]); // Should recalculate when rtl changed\n\n  useEffect(function () {\n    onListHolderResize();\n  }, [rtl, tabBarGutter, activeKey, tabs.map(function (tab) {\n    return tab.key;\n  }).join('_')]); // ========================= Render ========================\n\n  var hasDropdown = !!hiddenTabs.length;\n  var wrapPrefix = \"\".concat(prefixCls, \"-nav-wrap\");\n  var pingLeft;\n  var pingRight;\n  var pingTop;\n  var pingBottom;\n\n  if (tabPositionTopOrBottom) {\n    if (rtl) {\n      pingRight = transformLeft > 0;\n      pingLeft = transformLeft + wrapperWidth < wrapperScrollWidth;\n    } else {\n      pingLeft = transformLeft < 0;\n      pingRight = -transformLeft + wrapperWidth < wrapperScrollWidth;\n    }\n  } else {\n    pingTop = transformTop < 0;\n    pingBottom = -transformTop + wrapperHeight < wrapperScrollHeight;\n  }\n  /* eslint-disable jsx-a11y/interactive-supports-focus */\n\n\n  return React.createElement(\"div\", {\n    ref: ref,\n    role: \"tablist\",\n    className: classNames(\"\".concat(prefixCls, \"-nav\"), className),\n    style: style,\n    onKeyDown: function onKeyDown() {\n      // No need animation when use keyboard\n      doLockAnimation();\n    }\n  }, React.createElement(ExtraContent, {\n    position: \"left\",\n    extra: extra,\n    prefixCls: prefixCls\n  }), React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, React.createElement(\"div\", {\n    className: classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n    ref: tabsWrapperRef\n  }, React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, React.createElement(\"div\", {\n    ref: tabListRef,\n    className: \"\".concat(prefixCls, \"-nav-list\"),\n    style: {\n      transform: \"translate(\".concat(transformLeft, \"px, \").concat(transformTop, \"px)\"),\n      transition: lockAnimation ? 'none' : undefined\n    }\n  }, tabNodes, React.createElement(AddButton, {\n    ref: innerAddButtonRef,\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable,\n    style: {\n      visibility: hasDropdown ? 'hidden' : null\n    }\n  }), React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-ink-bar\"), _defineProperty({}, \"\".concat(prefixCls, \"-ink-bar-animated\"), animated.inkBar)),\n    style: inkStyle\n  }))))), React.createElement(OperationNode, Object.assign({}, props, {\n    ref: operationsRef,\n    prefixCls: prefixCls,\n    tabs: hiddenTabs,\n    className: !hasDropdown && operationsHiddenClassName\n  })), React.createElement(ExtraContent, {\n    position: \"right\",\n    extra: extra,\n    prefixCls: prefixCls\n  }));\n  /* eslint-enable */\n}\n\nexport default React.forwardRef(TabNavList);","import * as React from 'react';\nimport { useRef } from 'react';\nexport default function useRefs() {\n  var cacheRefs = useRef(new Map());\n\n  function getRef(key) {\n    if (!cacheRefs.current.has(key)) {\n      cacheRefs.current.set(key, React.createRef());\n    }\n\n    return cacheRefs.current.get(key);\n  }\n\n  function removeRef(key) {\n    cacheRefs.current.delete(key);\n  }\n\n  return [getRef, removeRef];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TabContext from '../TabContext';\nexport default function TabPanelList(_ref) {\n  var id = _ref.id,\n      activeKey = _ref.activeKey,\n      animated = _ref.animated,\n      tabPosition = _ref.tabPosition,\n      rtl = _ref.rtl,\n      destroyInactiveTabPane = _ref.destroyInactiveTabPane;\n\n  var _React$useContext = React.useContext(TabContext),\n      prefixCls = _React$useContext.prefixCls,\n      tabs = _React$useContext.tabs;\n\n  var tabPaneAnimated = animated.tabPane;\n  var activeIndex = tabs.findIndex(function (tab) {\n    return tab.key === activeKey;\n  });\n  return React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-content-holder\"))\n  }, React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-content\"), \"\".concat(prefixCls, \"-content-\").concat(tabPosition), _defineProperty({}, \"\".concat(prefixCls, \"-content-animated\"), tabPaneAnimated)),\n    style: activeIndex && tabPaneAnimated ? _defineProperty({}, rtl ? 'marginRight' : 'marginLeft', \"-\".concat(activeIndex, \"00%\")) : null\n  }, tabs.map(function (tab) {\n    return React.cloneElement(tab.node, {\n      key: tab.key,\n      prefixCls: prefixCls,\n      tabKey: tab.key,\n      id: id,\n      animated: tabPaneAnimated,\n      active: tab.key === activeKey,\n      destroyInactiveTabPane: destroyInactiveTabPane\n    });\n  })));\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nexport default function TabPane(_ref) {\n  var prefixCls = _ref.prefixCls,\n      forceRender = _ref.forceRender,\n      className = _ref.className,\n      style = _ref.style,\n      id = _ref.id,\n      active = _ref.active,\n      animated = _ref.animated,\n      destroyInactiveTabPane = _ref.destroyInactiveTabPane,\n      tabKey = _ref.tabKey,\n      children = _ref.children;\n\n  var _React$useState = React.useState(forceRender),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visited = _React$useState2[0],\n      setVisited = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (active) {\n      setVisited(true);\n    } else if (destroyInactiveTabPane) {\n      setVisited(false);\n    }\n  }, [active, destroyInactiveTabPane]);\n  var mergedStyle = {};\n\n  if (!active) {\n    if (animated) {\n      mergedStyle.visibility = 'hidden';\n      mergedStyle.height = 0;\n      mergedStyle.overflowY = 'hidden';\n    } else {\n      mergedStyle.display = 'none';\n    }\n  }\n\n  return React.createElement(\"div\", {\n    id: id && \"\".concat(id, \"-panel-\").concat(tabKey),\n    role: \"tabpanel\",\n    tabIndex: active ? 0 : -1,\n    \"aria-labelledby\": id && \"\".concat(id, \"-tab-\").concat(tabKey),\n    \"aria-hidden\": !active,\n    style: _objectSpread(_objectSpread({}, mergedStyle), style),\n    className: classNames(\"\".concat(prefixCls, \"-tabpane\"), active && \"\".concat(prefixCls, \"-tabpane-active\"), className)\n  }, (active || visited || forceRender) && children);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// Accessibility https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Tab_Role\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport TabNavList from './TabNavList';\nimport TabPanelList from './TabPanelList';\nimport TabPane from './TabPanelList/TabPane';\nimport TabContext from './TabContext';\nimport { isMobile } from './hooks/useTouchMove';\n/**\n * Should added antd:\n * - type\n *\n * Removed:\n * - onNextClick\n * - onPrevClick\n * - keyboard\n */\n// Used for accessibility\n\nvar uuid = 0;\n\nfunction parseTabList(children) {\n  return toArray(children).map(function (node) {\n    if (React.isValidElement(node)) {\n      var key = node.key !== undefined ? String(node.key) : undefined;\n      return _objectSpread(_objectSpread({\n        key: key\n      }, node.props), {}, {\n        node: node\n      });\n    }\n\n    return null;\n  }).filter(function (tab) {\n    return tab;\n  });\n}\n\nfunction Tabs(_ref, ref) {\n  var _classNames;\n\n  var id = _ref.id,\n      _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-tabs' : _ref$prefixCls,\n      className = _ref.className,\n      children = _ref.children,\n      direction = _ref.direction,\n      activeKey = _ref.activeKey,\n      defaultActiveKey = _ref.defaultActiveKey,\n      editable = _ref.editable,\n      _ref$animated = _ref.animated,\n      animated = _ref$animated === void 0 ? {\n    inkBar: true,\n    tabPane: false\n  } : _ref$animated,\n      _ref$tabPosition = _ref.tabPosition,\n      tabPosition = _ref$tabPosition === void 0 ? 'top' : _ref$tabPosition,\n      tabBarGutter = _ref.tabBarGutter,\n      tabBarStyle = _ref.tabBarStyle,\n      tabBarExtraContent = _ref.tabBarExtraContent,\n      locale = _ref.locale,\n      moreIcon = _ref.moreIcon,\n      moreTransitionName = _ref.moreTransitionName,\n      destroyInactiveTabPane = _ref.destroyInactiveTabPane,\n      renderTabBar = _ref.renderTabBar,\n      onChange = _ref.onChange,\n      onTabClick = _ref.onTabClick,\n      onTabScroll = _ref.onTabScroll,\n      restProps = _objectWithoutProperties(_ref, [\"id\", \"prefixCls\", \"className\", \"children\", \"direction\", \"activeKey\", \"defaultActiveKey\", \"editable\", \"animated\", \"tabPosition\", \"tabBarGutter\", \"tabBarStyle\", \"tabBarExtraContent\", \"locale\", \"moreIcon\", \"moreTransitionName\", \"destroyInactiveTabPane\", \"renderTabBar\", \"onChange\", \"onTabClick\", \"onTabScroll\"]);\n\n  var tabs = parseTabList(children);\n  var rtl = direction === 'rtl';\n  var mergedAnimated;\n\n  if (animated === false) {\n    mergedAnimated = {\n      inkBar: false,\n      tabPane: false\n    };\n  } else if (animated === true) {\n    mergedAnimated = {\n      inkBar: true,\n      tabPane: true\n    };\n  } else {\n    mergedAnimated = _objectSpread({\n      inkBar: true,\n      tabPane: false\n    }, _typeof(animated) === 'object' ? animated : {});\n  } // ======================== Mobile ========================\n\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      mobile = _useState2[0],\n      setMobile = _useState2[1];\n\n  useEffect(function () {\n    // Only update on the client side\n    setMobile(isMobile());\n  }, []); // ====================== Active Key ======================\n\n  var _useMergedState = useMergedState(function () {\n    var _tabs$;\n\n    return (_tabs$ = tabs[0]) === null || _tabs$ === void 0 ? void 0 : _tabs$.key;\n  }, {\n    value: activeKey,\n    defaultValue: defaultActiveKey\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedActiveKey = _useMergedState2[0],\n      setMergedActiveKey = _useMergedState2[1];\n\n  var _useState3 = useState(function () {\n    return tabs.findIndex(function (tab) {\n      return tab.key === mergedActiveKey;\n    });\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeIndex = _useState4[0],\n      setActiveIndex = _useState4[1]; // Reset active key if not exist anymore\n\n\n  useEffect(function () {\n    var newActiveIndex = tabs.findIndex(function (tab) {\n      return tab.key === mergedActiveKey;\n    });\n\n    if (newActiveIndex === -1) {\n      var _tabs$newActiveIndex;\n\n      newActiveIndex = Math.max(0, Math.min(activeIndex, tabs.length - 1));\n      setMergedActiveKey((_tabs$newActiveIndex = tabs[newActiveIndex]) === null || _tabs$newActiveIndex === void 0 ? void 0 : _tabs$newActiveIndex.key);\n    }\n\n    setActiveIndex(newActiveIndex);\n  }, [tabs.map(function (tab) {\n    return tab.key;\n  }).join('_'), mergedActiveKey, activeIndex]); // ===================== Accessibility ====================\n\n  var _useMergedState3 = useMergedState(null, {\n    value: id\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedId = _useMergedState4[0],\n      setMergedId = _useMergedState4[1];\n\n  var mergedTabPosition = tabPosition;\n\n  if (mobile && !['left', 'right'].includes(tabPosition)) {\n    mergedTabPosition = 'top';\n  } // Async generate id to avoid ssr mapping failed\n\n\n  useEffect(function () {\n    if (!id) {\n      setMergedId(\"rc-tabs-\".concat(process.env.NODE_ENV === 'test' ? 'test' : uuid));\n      uuid += 1;\n    }\n  }, []); // ======================== Events ========================\n\n  function onInternalTabClick(key, e) {\n    onTabClick === null || onTabClick === void 0 ? void 0 : onTabClick(key, e);\n    setMergedActiveKey(key);\n    onChange === null || onChange === void 0 ? void 0 : onChange(key);\n  } // ======================== Render ========================\n\n\n  var sharedProps = {\n    id: mergedId,\n    activeKey: mergedActiveKey,\n    animated: mergedAnimated,\n    tabPosition: mergedTabPosition,\n    rtl: rtl,\n    mobile: mobile\n  };\n  var tabNavBar;\n\n  var tabNavBarProps = _objectSpread(_objectSpread({}, sharedProps), {}, {\n    editable: editable,\n    locale: locale,\n    moreIcon: moreIcon,\n    moreTransitionName: moreTransitionName,\n    tabBarGutter: tabBarGutter,\n    onTabClick: onInternalTabClick,\n    onTabScroll: onTabScroll,\n    extra: tabBarExtraContent,\n    style: tabBarStyle,\n    panes: children\n  });\n\n  if (renderTabBar) {\n    tabNavBar = renderTabBar(tabNavBarProps, TabNavList);\n  } else {\n    tabNavBar = React.createElement(TabNavList, Object.assign({}, tabNavBarProps));\n  }\n\n  return React.createElement(TabContext.Provider, {\n    value: {\n      tabs: tabs,\n      prefixCls: prefixCls\n    }\n  }, React.createElement(\"div\", Object.assign({\n    ref: ref,\n    id: id,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(mergedTabPosition), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-mobile\"), mobile), _defineProperty(_classNames, \"\".concat(prefixCls, \"-editable\"), editable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), rtl), _classNames), className)\n  }, restProps), tabNavBar, React.createElement(TabPanelList, Object.assign({\n    destroyInactiveTabPane: destroyInactiveTabPane\n  }, sharedProps, {\n    animated: mergedAnimated\n  }))));\n}\n\nvar ForwardTabs = React.forwardRef(Tabs);\nForwardTabs.TabPane = TabPane;\nexport default ForwardTabs;","import Tabs from './Tabs';\nimport TabPane from './TabPanelList/TabPane';\nexport { TabPane };\nexport default Tabs;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcTabs, { TabPane } from 'rc-tabs';\nimport classNames from 'classnames';\nimport EllipsisOutlined from '@ant-design/icons/EllipsisOutlined';\nimport PlusOutlined from '@ant-design/icons/PlusOutlined';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport devWarning from '../_util/devWarning';\nimport { ConfigContext } from '../config-provider';\n\nfunction Tabs(_a) {\n  var _classNames;\n\n  var type = _a.type,\n      className = _a.className,\n      size = _a.size,\n      _onEdit = _a.onEdit,\n      hideAdd = _a.hideAdd,\n      centered = _a.centered,\n      addIcon = _a.addIcon,\n      props = __rest(_a, [\"type\", \"className\", \"size\", \"onEdit\", \"hideAdd\", \"centered\", \"addIcon\"]);\n\n  var customizePrefixCls = props.prefixCls;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('tabs', customizePrefixCls);\n  var editable;\n\n  if (type === 'editable-card') {\n    editable = {\n      onEdit: function onEdit(editType, _ref) {\n        var key = _ref.key,\n            event = _ref.event;\n        _onEdit === null || _onEdit === void 0 ? void 0 : _onEdit(editType === 'add' ? event : key, editType);\n      },\n      removeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null),\n      addIcon: addIcon || /*#__PURE__*/React.createElement(PlusOutlined, null),\n      showAdd: hideAdd !== true\n    };\n  }\n\n  devWarning(!('onPrevClick' in props) && !('onNextClick' in props), 'Tabs', '`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead.');\n  return /*#__PURE__*/React.createElement(RcTabs, _extends({\n    direction: direction\n  }, props, {\n    moreTransitionName: \"slide-up\",\n    className: classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classNames, \"\".concat(prefixCls, \"-card\"), ['card', 'editable-card'].includes(type)), _defineProperty(_classNames, \"\".concat(prefixCls, \"-editable-card\"), type === 'editable-card'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-centered\"), centered), _classNames), className),\n    editable: editable,\n    moreIcon: /*#__PURE__*/React.createElement(EllipsisOutlined, null),\n    prefixCls: prefixCls\n  }));\n}\n\nTabs.TabPane = TabPane;\nexport default Tabs;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ReservationDetailsCard_card__2E3HH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyReservationsPage_wrapper__CITu_\",\"content\":\"MyReservationsPage_content__3mWtJ\",\"cardList\":\"MyReservationsPage_cardList__2qY8i\",\"empty\":\"MyReservationsPage_empty__10Nkp\"};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        _props$hoverable = props.hoverable,\n        hoverable = _props$hoverable === void 0 ? true : _props$hoverable,\n        others = __rest(props, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-grid\"), className, _defineProperty({}, \"\".concat(prefixCls, \"-grid-hoverable\"), hoverable));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","import _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, /*#__PURE__*/React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card = function Card(props) {\n  var _extends2, _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var onTabChange = function onTabChange(key) {\n    if (props.onTabChange) {\n      props.onTabChange(key);\n    }\n  };\n\n  var isContainGrid = function isContainGrid() {\n    var containGrid;\n    React.Children.forEach(props.children, function (element) {\n      if (element && element.type && element.type === Grid) {\n        containGrid = true;\n      }\n    });\n    return containGrid;\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      extra = props.extra,\n      _props$headStyle = props.headStyle,\n      headStyle = _props$headStyle === void 0 ? {} : _props$headStyle,\n      _props$bodyStyle = props.bodyStyle,\n      bodyStyle = _props$bodyStyle === void 0 ? {} : _props$bodyStyle,\n      title = props.title,\n      loading = props.loading,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      customizeSize = props.size,\n      type = props.type,\n      cover = props.cover,\n      actions = props.actions,\n      tabList = props.tabList,\n      children = props.children,\n      activeTabKey = props.activeTabKey,\n      defaultActiveTabKey = props.defaultActiveTabKey,\n      tabBarExtraContent = props.tabBarExtraContent,\n      hoverable = props.hoverable,\n      _props$tabProps = props.tabProps,\n      tabProps = _props$tabProps === void 0 ? {} : _props$tabProps,\n      others = __rest(props, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\", \"hoverable\", \"tabProps\"]);\n\n  var prefixCls = getPrefixCls('card', customizePrefixCls);\n  var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n    padding: 24\n  } : undefined;\n  var block = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-block\")\n  });\n  var loadingBlock = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\"),\n    style: loadingBlockStyle\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 22\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 15\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 18\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 13\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 9\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 4\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 3\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 16\n  }, block)));\n  var hasActiveTabKey = activeTabKey !== undefined;\n\n  var extraProps = _extends(_extends({}, tabProps), (_extends2 = {}, _defineProperty(_extends2, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extends2, \"tabBarExtraContent\", tabBarExtraContent), _extends2));\n\n  var head;\n  var tabs = tabList && tabList.length ? /*#__PURE__*/React.createElement(Tabs, _extends({\n    size: \"large\"\n  }, extraProps, {\n    className: \"\".concat(prefixCls, \"-head-tabs\"),\n    onChange: onTabChange\n  }), tabList.map(function (item) {\n    return /*#__PURE__*/React.createElement(Tabs.TabPane, {\n      tab: item.tab,\n      disabled: item.disabled,\n      key: item.key\n    });\n  })) : null;\n\n  if (title || extra || tabs) {\n    head = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head\"),\n      style: headStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-wrapper\")\n    }, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-title\")\n    }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra)), tabs);\n  }\n\n  var coverDom = cover ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-cover\")\n  }, cover) : null;\n  var body = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\"),\n    style: bodyStyle\n  }, loading ? loadingBlock : children);\n  var actionDom = actions && actions.length ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-actions\")\n  }, getAction(actions)) : null;\n  var divProps = omit(others, ['onTabChange']);\n  var mergedSize = customizeSize || size;\n  var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), hoverable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    className: classString\n  }), head, coverDom, body, actionDom);\n};\n\nCard.Grid = Grid;\nCard.Meta = Meta;\nexport default Card;","import React, { useCallback, useContext } from 'react';\n\nimport { Card } from 'antd';\nimport { EditOutlined } from '@ant-design/icons';\nimport { ReservationDetails } from './ReservationDetails';\nimport { appContext } from '../AppContext';\nimport { authContext } from '../AuthContext';\nimport { getCourtName } from '../helper';\nimport styles from './ReservationDetailsCard.module.css';\n\nexport function ReservationDetailsCard({\n    reservation,\n    onEditClick,\n}) {\n    const { user } = useContext(authContext);\n    const { courts } = useContext(appContext);\n\n    const { from, to, courtId, name, text } = reservation;\n\n\n    const handleEditClick = useCallback(() => {\n        onEditClick(reservation);\n    }, [reservation, onEditClick]);\n\n    return (\n        <Card\n            className={styles.card}\n            actions={[\n                <div onClick={handleEditClick}>\n                    <EditOutlined /> Bearbeiten\n                </div>\n            ]}\n        >\n            <ReservationDetails\n                court={getCourtName(courts, courtId)}\n                date={from.format('dd[\\xa0]L')}\n                inline\n                name={text || (user?.name !== name && name)}\n                time={`${from.format('H')} Uhr bis ${to.format('H')} Uhr`}\n            />\n        </Card>\n    );\n}","import { Empty, Space } from 'antd';\nimport React, { useCallback, useContext, useMemo, useState } from 'react';\n\nimport { Ball } from '../Ball';\nimport { ErrorResult } from '../ErrorResult';\nimport { ReservationDetailsCard } from './ReservationDetailsCard';\nimport { ReservationModal } from './ReservationModal';\nimport { authContext } from '../AuthContext';\nimport { getReservationsApi } from '../api';\nimport styles from './MyReservationsPage.module.css';\nimport { useApi } from '../useApi';\nimport { useTime } from './useTime';\n\nexport function MyReservationsPage() {\n\n    const { user: { userId } } = useContext(authContext);\n\n    const time = useTime('hour');\n    const [selectedReservation, setSelectedReservation] = useState();\n\n    const autoFetch = useMemo(() => ({\n        reqParams: {\n            query: {\n                'user-id': userId,\n                start: time.startOf('hour').toISOString(),\n            }\n        }\n    }), [time, userId]);\n\n    const [reservations, setReservations] = useState([]);\n    const [state,] = useApi(getReservationsApi, setReservations, autoFetch); \n\n    const sortedReservations = useMemo(() => {\n        const s = [...reservations];\n        s.sort((a, b) => a.from - b.from);\n        return s;\n    }, [reservations]);\n\n    const handleEditClick = useCallback(reservation => {\n        setSelectedReservation(reservation);\n    }, []);\n\n    const handleReservationEditFinish = useCallback(() => {\n        setSelectedReservation(null);\n    }, []);\n\n    if (state.error)\n        return (\n            <div className={styles.wrapper}>\n                <ErrorResult />\n            </div>\n        );\n    \n    // length check prevents flickering when refetch\n    if (state.loading && !sortedReservations?.length)\n        return (\n            <div className={styles.wrapper}>\n                <Ball visible spin large centered />\n            </div>\n        );\n\n    return (\n        <div className={styles.wrapper}>\n            {!sortedReservations?.length &&\n                <div className={styles.content}>\n                    <Empty\n                        className={styles.empty}\n                        description=\"Keine Reservierungen\"\n                    />\n                </div>\n            }\n\n            {sortedReservations?.length > 0 &&\n                <>\n                    <h1>Nchste Reservierung</h1>\n                    <div className={styles.content}>\n                        <ReservationDetailsCard\n                            reservation={sortedReservations[0]}\n                            onEditClick={handleEditClick}\n                        />\n                    </div>\n                </>\n            }\n\n            {sortedReservations?.length > 1 &&\n                <>\n                    <h1>Weitere Reservierungen</h1>\n\n                    <div className={styles.content}>\n                        <Space className={styles.cardList} direction=\"vertical\">\n                            {sortedReservations.map((reservation, i) => {\n                                if (i === 0)\n                                    return null;\n                                return (\n                                    <ReservationDetailsCard\n                                        key={reservation.id}\n                                        reservation={reservation}\n                                        onEditClick={handleEditClick}\n                                    />\n                                );\n                            })}\n                        </Space>\n                    </div>\n                </>\n            }\n\n            {selectedReservation &&\n                <ReservationModal\n                    reservation={selectedReservation}\n                    onFinish={handleReservationEditFinish}\n                    setReservations={setReservations}\n                />\n            }\n        </div>\n    );\n}"],"sourceRoot":""}