(this["webpackJsonpreservierungssystem-tennis"]=this["webpackJsonpreservierungssystem-tennis"]||[]).push([[11,5],{266:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(32),r=n(0),c=n(34),i=n.n(c);function o(e){var t=Object(r.useState)((function(){return i()()})),n=Object(a.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){var t=setInterval((function(){var t=i()();c.isSame(t,e)||o(t)}),6e4);return function(){return clearInterval(t)}}),[c,e]),c}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(18),r=n(3),c=n(314),i=n.n(c),o=n(341),l=n(285),s=n.n(l),u=Object(o.b)(i.a);function d(e){return Object(r.jsx)(u,Object(a.a)({inputReadOnly:!0,size:"large",panelRender:function(e){return Object(r.jsx)("div",{className:s.a.pickerPanel,children:e})}},e))}},271:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),r=n(264),c=n(260),i=n(558),o=n(559),l=n(560),s=(n(0),n(100)),u=n.n(s),d=n(291),b=n.n(d),v=u.a.bind(b.a);function f(e){var t=e.court,n=e.date,s=e.inline,u=void 0!==s&&s,d=e.name,f=e.repeat,j=e.time;return Object(a.jsxs)("div",{className:v({wrapper:!0,inline:u}),children:[d&&Object(a.jsxs)("div",{className:b.a.item,children:[Object(a.jsxs)("div",{className:b.a.title,children:[Object(a.jsx)(r.a,{}),"\xa0Name"]}),Object(a.jsx)("div",{className:b.a.content,children:d})]}),n&&Object(a.jsxs)("div",{className:b.a.item,children:[Object(a.jsxs)("div",{className:b.a.title,children:[Object(a.jsx)(c.a,{}),"\xa0Datum"]}),Object(a.jsx)("div",{className:b.a.content,children:n})]}),j&&Object(a.jsxs)("div",{className:b.a.item,children:[Object(a.jsxs)("div",{className:b.a.title,children:[Object(a.jsx)(i.a,{}),"\xa0Uhrzeit"]}),Object(a.jsx)("div",{className:b.a.content,children:j})]}),t&&Object(a.jsxs)("div",{className:b.a.item,children:[Object(a.jsxs)("div",{className:b.a.title,children:[Object(a.jsx)(o.a,{}),"\xa0Platz"]}),Object(a.jsx)("div",{className:b.a.content,children:t})]}),f&&Object(a.jsxs)("div",{className:b.a.item,children:[Object(a.jsxs)("div",{className:b.a.title,children:[Object(a.jsx)(l.a,{}),"\xa0Wiederholung"]}),Object(a.jsx)("div",{className:b.a.content,children:f})]})]})}},273:function(e,t,n){e.exports={wrapper:"ReservationGroupModal_wrapper__2fAcz",footer:"ReservationGroupModal_footer__1O-So",heading:"ReservationGroupModal_heading__3HVFg",changeReasonHint:"ReservationGroupModal_changeReasonHint__IWCAI",cancelRadioGroup:"ReservationGroupModal_cancelRadioGroup__joJ8_"}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(32),r=n(3),c=n(547),i=n(344),o=n(530),l=n(375),s=n(72),u=n(377),d=n(532),b=n(0),v=n(62),f=n(133),j=n(57),m=n(86),h=n(279),O=n.n(h),p=n(87);function g(){var e=Object(b.useContext)(j.b),t=e.autoLoginState,n=e.setUser,h=e.setRememberLogin,g=Object(p.a)(m.i,n),x=Object(a.a)(g,2),y=x[0],k=x[1],C=y.loading||t.loading,w=y.error?"error":void 0,E=Object(b.useCallback)((function(e){var t=e.mail,n=e.password,a=e.rememberLogin;h(a),k(null,{type:"plain",mail:t,password:n})}),[k,h]);return Object(r.jsxs)(c.a,{layout:"vertical",onFinish:E,children:[y.error&&Object(r.jsx)(c.a.Item,{children:Object(r.jsx)(i.a,{type:"error",message:"Login fehlgeschlagen."})}),Object(r.jsx)(c.a.Item,{name:"mail",rules:[{required:!0,message:"E-Mail Adresse ist erforderlich"}],validateStatus:w,children:Object(r.jsx)(o.a,{autoComplete:"email",prefix:Object(r.jsx)(u.a,{style:{color:"#aaa"}}),placeholder:"E-Mail",disabled:C})}),Object(r.jsx)(c.a.Item,{name:"password",rules:[{required:!0,message:"Passwort ist erforderlich"}],validateStatus:w,children:Object(r.jsx)(o.a.Password,{autoComplete:"current-password",prefix:Object(r.jsx)(d.a,{style:{color:"#aaa"}}),placeholder:"Passwort",disabled:C})}),Object(r.jsxs)(c.a.Item,{children:[Object(r.jsx)(c.a.Item,{name:"rememberLogin",valuePropName:"checked",noStyle:!0,children:Object(r.jsx)(l.a,{disabled:C,children:"Angemeldet bleiben"})}),Object(r.jsx)(v.b,{className:O.a.forgotLink,to:"/reset-password",children:"Password vergessen"})]}),Object(r.jsx)(c.a.Item,{children:Object(r.jsx)(s.a,{type:"primary",htmlType:"submit",className:O.a.loginButton,disabled:C,children:Object(r.jsx)(f.a,{loading:C,text:C?"Anmeldung...":"Anmelden"})})}),Object(r.jsxs)(c.a.Item,{className:O.a.registerItem,children:[Object(r.jsx)("span",{children:"oder "}),Object(r.jsx)(v.b,{to:"/register",children:"Kostenlos Registrieren"})]})]})}},279:function(e,t,n){e.exports={loginButton:"LoginForm_loginButton__ECun6",forgotLink:"LoginForm_forgotLink__3TG3V",registerItem:"LoginForm_registerItem__32Qy-"}},283:function(e,t,n){"use strict";var a=n(323);t.a=a.a},284:function(e,t,n){"use strict";var a=n(310);t.a=a.a},285:function(e,t,n){e.exports={pickerPanel:"DatePicker_pickerPanel__jgKnn"}},287:function(e,t,n){e.exports={datePicker:"DateTimeRangeSelect_datePicker__1Fzuj",to:"DateTimeRangeSelect_to__3kFPy"}},291:function(e,t,n){e.exports={inline:"ReservationDetails_inline__3Zvud",wrapper:"ReservationDetails_wrapper__3oaB0",item:"ReservationDetails_item__3c9da",title:"ReservationDetails_title__30qxj",content:"ReservationDetails_content__3o1oW"}},292:function(e,t,n){e.exports={outer:"ScrollRadioGroup_outer__2bjrJ",inner:"ScrollRadioGroup_inner__1IIQl",leftScroll:"ScrollRadioGroup_leftScroll__sR-on",rightScroll:"ScrollRadioGroup_rightScroll__2FgOg"}},295:function(e,t,n){e.exports={wrapper:"RepeatReservationForm_wrapper__q6uz0",dates:"RepeatReservationForm_dates__1dD0l",extra:"RepeatReservationForm_extra__2m-4n",unchecked:"RepeatReservationForm_unchecked__dAyq1",date:"RepeatReservationForm_date__3wvGK",dateButton:"RepeatReservationForm_dateButton__2XPFl",danger:"RepeatReservationForm_danger__3-oIh",buttons:"RepeatReservationForm_buttons__IeXBV"}},296:function(e,t,n){e.exports={nameInput:"ReservationDetailsForm_nameInput__20wfd",plain:"ReservationDetailsForm_plain__VkUtA",datePicker:"ReservationDetailsForm_datePicker__jvGx4"}},297:function(e,t,n){e.exports={buttons:"VerifyMailModal_buttons__2ZzQz"}},298:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(a=n(299))&&a.__esModule?a:{default:a};t.default=r,e.exports=r},299:function(e,t,n){"use strict";var a=n(21),r=n(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),i=a(n(300)),o=a(n(33)),l=function(e,t){return c.createElement(o.default,Object.assign({},e,{ref:t,icon:i.default}))};l.displayName="EllipsisOutlined";var s=c.forwardRef(l);t.default=s},300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var a=n(18),r=n(3),c=n(0),i=n(32),o=n(179),l=n(258),s=n(72),u=n(373),d=n(547),b=n(530),v=n(86),f=n(63),j=n(269),m=n(557),h=n(371),O=n(287),p=n.n(O);function g(e){var t=e.disabled,n=void 0!==t&&t,a=e.from,i=e.to,o=e.onFromChange,l=e.onToChange,s=Object(c.useMemo)((function(){return Object(f.a)(Array(24).keys())}),[]),u=Object(c.useCallback)((function(e){var t=e.newFrom,n=void 0===t?a:t,r=e.newTo,c=void 0===r?i:r;if(n.isAfter(c)){var s=n;n=c,c=s}else n.isSame(c)&&(c=n.add(1,"hour"));n.isSame(a)||o(n),c.isSame(i)||l(c)}),[a,o,l,i]),d=Object(c.useCallback)((function(e){u({newFrom:e.hour(a.hour())})}),[a,u]),b=Object(c.useCallback)((function(e){u({newTo:e.hour(i.hour())})}),[i,u]),v=Object(c.useCallback)((function(e){u({newFrom:a.hour(e)})}),[a,u]),O=Object(c.useCallback)((function(e){u({newTo:i.hour(e)})}),[i,u]);return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(j.a,{allowClear:!1,bordered:!1,className:p.a.datePicker,disabled:n,format:"L",onChange:d,showToday:!1,suffixIcon:Object(r.jsx)(m.a,{}),value:a}),Object(r.jsx)(h.a,{size:"large",bordered:!1,value:a.hour(),onChange:v,children:s.map((function(e){return Object(r.jsxs)(h.a.Option,{value:e,children:[e," Uhr"]},e)}))})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:p.a.to,children:"bis"}),Object(r.jsx)(j.a,{allowClear:!1,bordered:!1,className:p.a.datePicker,disabled:n,format:"L",onChange:b,showToday:!1,suffixIcon:Object(r.jsx)(m.a,{}),value:i}),Object(r.jsx)(h.a,{size:"large",bordered:!1,value:i.hour(),onChange:O,children:s.map((function(e){return Object(r.jsxs)(h.a.Option,{value:e,children:[e%24," Uhr"]},e)}))})]})]})}var x=n(134),y=n(118),k=n(271),C=n(137),w=n(100),E=n.n(w),N=n(292),S=n.n(N),_=E.a.bind(S.a);function R(e){var t=e.children,n=Object(C.a)(e,["children"]),o=Object(c.useRef)(),l=Object(c.useState)(!1),s=Object(i.a)(l,2),d=s[0],b=s[1],v=Object(c.useState)(!1),f=Object(i.a)(v,2),j=f[0],m=f[1],h=Object(c.useCallback)((function(){if(o.current){var e=o.current,t=e.scrollLeft,n=e.scrollWidth,a=e.offsetWidth;b(t>5),m(n-a-t>5)}}),[]);Object(c.useEffect)(h,[h]);var O=Object(c.useCallback)((function(e){var t,n,a;if(o.current){var r=(null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.parentNode)||void 0===n||null===(a=n.parentNode)||void 0===a?void 0:a.offsetLeft)||0;requestAnimationFrame((function(){o.current.scrollLeft=Math.max(r+-50,0)}))}}),[]);return Object(r.jsx)("div",{className:_({outer:!0,leftScroll:d,rightScroll:j}),children:Object(r.jsx)("div",{className:S.a.inner,onClick:O,onScroll:h,ref:o,children:Object(r.jsx)(u.a.Group,Object(a.a)(Object(a.a)({buttonStyle:"solid",size:"large"},n),{},{children:t}))})})}var I=n(133),T=n(58),P=n(34),M=n.n(P),A=n(117),L=n(273),B=n.n(L),F=n(87);function z(e){var t,n,a=e.initialFrom,f=e.initialCourtId,j=e.reservation,m=e.onFinish,h=e.setReservations,O=Object(c.useContext)(T.b),p=O.config.visibleHours,C=O.courts,w=Object(c.useState)((null===j||void 0===j?void 0:j.text)||""),E=Object(i.a)(w,2),N=E[0],S=E[1],_=Object(c.useState)((function(){return(null===j||void 0===j?void 0:j.from)||a.startOf("day")})),P=Object(i.a)(_,2),L=P[0],z=P[1],D=Object(c.useState)((function(){return(null===j||void 0===j?void 0:j.to)||a.add(1,"day").startOf("day")})),G=Object(i.a)(D,2),W=G[0],K=G[1],q=Object(c.useState)((null===j||void 0===j?void 0:j.courtId)||f),H=Object(i.a)(q,2),U=H[0],V=H[1],X=Object(c.useRef)({}),Z=Object(F.a)(v.l,h),Y=Object(i.a)(Z,2),J=Y[0],Q=Y[1],$=Object(F.a)(v.g,h),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ae=J.loading||te.loading,re=j&&(j.from!==L||j.to!==W||j.text!==N||j.courtId!==U),ce=Object(c.useMemo)((function(){var e,t,n=(null===(e=J.error)||void 0===e?void 0:e.unavailableReservations)||(null===(t=te.error)||void 0===t?void 0:t.unavailableReservations);return n&&(n=n.map((function(e){var t=e.courtId,n=e.from,a=e.to;return{courtId:t,from:M()(n),to:M()(a)}}))),n}),[null===(t=te.error)||void 0===t?void 0:t.unavailableReservations,null===(n=J.error)||void 0===n?void 0:n.unavailableReservations]),ie=Object(c.useCallback)((function(e){S(e.target.value)}),[]),oe=Object(c.useCallback)((function(e){V(e.target.value)}),[]),le=Object(c.useCallback)((function(){var e,t;L.hour()<=p[0]?t=L.hour(p[0]):L.hour()>=p[1]&&(t=L.add(1,"day").hour(p[0])),(null===(e=t)||void 0===e?void 0:e.isSameOrAfter(W,"hour"))?l.a.error({icon:!1,title:"Sperrung unzul\xe4ssig",width:530,centered:!0,content:"Die Sperrung liegt au\xdferhalb des angezeigten Zeitraums."}):l.a.confirm({icon:!1,title:"Wirklich sperren?",okText:"Sperren",okType:"danger",width:530,centered:!0,content:"Bestehende Reservierungen, die mit der Sperrung in Konflikt stehen, werden automatisch storniert. Die Inhaber der Reservierungen werden dar\xfcber per E-Mail informiert.",onOk:function(){j?ne({path:{groupId:j.groupId}},{reservations:[{courtId:U,from:L,to:W}],text:N},(function(){o.b.success("Sperren erfolgreich"),m()})):Q(null,{reservations:[{courtId:U,from:L,to:W}],text:N,type:y.a.DISABLE},(function(){o.b.success("Sperren erfolgreich"),m()}))}})}),[U,L,m,ne,Q,N,j,W,p]),se=Object(c.useCallback)((function(){ne({path:{groupId:j.groupId}},{reservations:[]},(function(){o.b.success("Sperrung aufgehoben"),m()}))}),[m,ne,null===j||void 0===j?void 0:j.groupId]);return Object(c.useEffect)((function(){X.current.post===J.error&&X.current.patch===te.error||(X.current.post=J.error,X.current.patch=te.error,ce&&l.a.error({centered:!0,title:"Sperren fehlgeschlagen",content:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"F\xfcr folgende Zeitr\xe4ume liegt bereits eine Sperrung vor:"}),Object(r.jsx)("ul",{children:ce.map((function(e){var t=e.courtId,n=e.from,a=e.to;return Object(r.jsxs)("li",{children:[n.format("dd[\xa0]L,[\xa0]H[\xa0][Uhr]")," bis ",a.format("dd[\xa0]L,[\xa0]H[\xa0][Uhr]"),", ",Object(A.b)(C,t)]},n)}))})]})}))}),[C,te.error,J.error,ce]),J.error&&!J.error.unavailableReservations||te.error&&!te.error.unavailableReservations?Object(r.jsx)(l.a,{title:"Sperren fehlgeschlagen",visible:!0,centered:!0,onCancel:m,onOk:m,footer:Object(r.jsx)("div",{className:B.a.footer,children:Object(r.jsx)(s.a,{onClick:m,children:"Abbrechen"})}),children:Object(r.jsx)("div",{className:B.a.wrapper,children:Object(r.jsx)(x.a,{})})}):Object(r.jsx)(l.a,{title:"Platz Sperren",visible:!0,width:530,centered:!0,onCancel:m,onOk:m,footer:ae?Object(r.jsx)(I.a,{loading:!0,text:"Bitte warten..."}):Object(r.jsxs)("div",{className:B.a.footer,children:[Object(r.jsx)(s.a,{onClick:m,children:"Abbrechen"}),j&&Object(r.jsx)(s.a,{type:"primary",onClick:se,children:"Sperrung Aufheben"}),Object(r.jsx)(s.a,{disabled:j&&!re,type:"danger",onClick:le,children:"Sperren"})]}),children:Object(r.jsxs)("div",{className:B.a.wrapper,children:[Object(r.jsx)(k.a,{court:Object(r.jsx)(R,{disabled:ae,onChange:oe,value:U,children:C.map((function(e){var t=e.courtId,n=e.name;return Object(r.jsx)(u.a.Button,{value:t,children:n},t)}))}),date:Object(r.jsx)(g,{disabled:ae,from:L,to:W,onFromChange:z,onToChange:K})}),Object(r.jsx)(d.a,{layout:"vertical",children:Object(r.jsxs)(d.a.Item,{label:"Grund der Sperrung",children:[Object(r.jsx)(b.a,{disabled:ae,onChange:ie,placeholder:"Kein Grund",value:N}),Object(r.jsx)("div",{className:B.a.changeReasonHint,children:"Bestehende Reservierungen werden storniert."})]})})]})})}var D=n(278);function G(e){var t=e.onClose;return Object(r.jsx)(l.a,{title:"Anmeldung erforderlich",visible:!0,width:400,centered:!0,onCancel:t,onOk:t,footer:null,children:Object(r.jsx)(D.a,{})})}var W=n(64),K=n(379),q=n(534),H=n(532),U=n(378),V=n(533),X=n(57),Z=n(295),Y=n.n(Z),J=n(266),Q=E.a.bind(Y.a),$={1:"T\xe4glich",7:"W\xf6chentlich",14:"2-W\xf6chentlich"};function ee(e){var t=e.courtId,n=e.currentReservations,a=e.defaultAddCount,o=void 0===a?2:a,l=e.disabled,d=void 0!==l&&l,b=e.from,v=e.onChange,j=e.repeatValuesMap,m=void 0===j?$:j,h=e.to,O=e.unavailableReservations,p=Object(c.useContext)(X.b).user,g=Object(c.useContext)(T.b).config.reservationDaysInAdvance,x=Object(J.a)("hour"),y=Object(c.useState)(0),k=Object(i.a)(y,2),C=k[0],w=k[1],E=Object(c.useState)([]),N=Object(i.a)(E,2),S=N[0],_=N[1],I=Object(c.useState)([]),P=Object(i.a)(I,2),M=P[0],L=P[1],B=Object(c.useMemo)((function(){return Math.abs(h.diff(b,"hour"))}),[b,h]),F=Object(c.useCallback)((function(e){return{courtId:t,from:e,to:e.add(B,"hour")}}),[t,B]),z=Object(c.useCallback)((function(e){return e.isAfter(x.add(g,"day"),"day")}),[x,g]),D=Object(c.useCallback)((function(e){if(!O)return!1;var t=F(e);return O.some((function(e){return Object(A.d)(t,e)}))}),[O,F]),G=Object(c.useCallback)((function(e){L((function(t){var n=e;return"function"===typeof e&&(n=e(t)),n.filter((function(e){return!D(e)}))}))}),[D]);Object(c.useEffect)((function(){v(M.map(F))}),[M,v,F]),Object(c.useEffect)((function(){return G((function(e){return e}))}),[G]),Object(c.useEffect)((function(){var e=[],t=[];if((null===n||void 0===n?void 0:n.length)>1){(e=n.map((function(e){return e.from.hour(b.hour())}))).sort((function(e,t){return e.valueOf()-t.valueOf()}));var a=Number.MAX_SAFE_INTEGER;if(e.length>1)for(var r=1;r<e.length;++r){var c=e[r-1].diff(e[r],"day");a=Math.min(a,Math.abs(c))}a=a.toString();var i=Object.keys(m);i.includes(a)||(a=i[0]),w(a);var l=e[0],s=e[e.length-1],u=Math.abs(l.diff(s,"day")/a);t=[];for(var d=0;d<=u;++d)t.push(l.add(d*a,"day"))}else if(C>0)for(var v=0;v<=o;++v){var f=b.add(v*C,"day");t.push(f),D(f)||e.push(f)}else e=[b],t=[b];_(t),L(e)}),[D,t,n,o,b,C,m,h]);var W=Object(c.useCallback)((function(){_((function(e){var t=e[e.length-1].add(C,"day");return z(t)||G((function(e){return[].concat(Object(f.a)(e),[t])})),[].concat(Object(f.a)(e),[t])}))}),[C,G,z]),K=Object(c.useCallback)((function(e){var t=e.target.value;w(t)}),[]),q=Object(c.useCallback)((function(e,t){G((function(a){var r=a.filter((function(t){return!t.isSame(e,"day")}));return t&&r.push(e),r.sort((function(e,t){return e.valueOf()-t.valueOf()})),_((function(e){for(var t=Object(f.a)(e),a=function(e){if((null===n||void 0===n?void 0:n.some((function(n){return n.from.isSame(t[e],"day")})))||r.some((function(n){return n.isSame(t[e],"day")})))return"break";t.pop()},c=t.length-1;c>0;--c){if("break"===a(c))break}return t})),r}))}),[n,G]),Z=Object(c.useMemo)((function(){return S.map((function(e){var t=F(e),a=null===n||void 0===n?void 0:n.some((function(e){return e.from.isSame(t.from,"hour")&&e.to.isSame(t.to,"hour")})),r=M.some((function(t){return t.isSame(e,"day")}));return{date:e,checked:r,change:!a&&(null===n||void 0===n?void 0:n.some((function(t){return t.from.isSame(e,"day")}))),reserved:a,past:e.isBefore(x,"hour"),notAvailable:D(e),tooFarAhead:z(e),onClick:function(){return q(e,!r)}}}))}),[D,z,n,F,q,x,M,S]);return Object(r.jsxs)("div",{className:Y.a.wrapper,children:[Object(r.jsx)("div",{children:Object(r.jsxs)(R,{disabled:(null===n||void 0===n?void 0:n.length)>1||d,onChange:K,value:C,children:[Object(r.jsx)(u.a.Button,{value:0,children:"Einzeltermin"},0),Object.keys(m).map((function(e){return Object(r.jsx)(u.a.Button,{value:e,children:m[e]},e)}))]})}),C>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:Y.a.dates,children:Z.map((function(e){var t=e.date,n=e.checked,a=e.change,c=e.reserved,i=e.past,o=e.notAvailable,l=e.tooFarAhead,u=e.onClick;return Object(r.jsxs)(s.a,{className:Q({dateButton:!0,unchecked:!n,danger:c&&!n||o}),disabled:!(null===p||void 0===p?void 0:p.admin)&&(i||l)||o||d,onClick:u,type:"link",icon:!(null===p||void 0===p?void 0:p.admin)&&(i||l)||o||d?Object(r.jsx)(H.a,{}):n?Object(r.jsx)(U.a,{}):Object(r.jsx)(V.a,{}),children:[Object(r.jsx)("span",{className:Y.a.date,children:t.format("dd[\xa0]L")}),!i&&c&&n&&Object(r.jsx)("span",{className:Y.a.extra,children:"Aktuell reserviert"}),!i&&c&&!n&&Object(r.jsx)("span",{className:Y.a.extra,children:"Wird storniert"}),!o&&i&&Object(r.jsx)("span",{className:Y.a.extra,children:"Bereits vergangen"}),!o&&l&&Object(r.jsx)("span",{className:Y.a.extra,children:"Zu weit in der Zukunft"}),!o&&a&&Object(r.jsx)("span",{className:Y.a.extra,children:"Wird ge\xe4ndert"}),o&&Object(r.jsx)("span",{className:Y.a.extra,children:"Nicht verf\xfcgbar"})]},t)}))}),Object(r.jsx)("div",{className:Y.a.buttons,children:Object(r.jsx)(s.a,{disabled:d,icon:Object(r.jsx)(V.a,{}),onClick:W,type:"dashed"})})]})]})}var te=n(252);function ne(e){var t=e.disabled,n=void 0!==t&&t,a=e.from,i=e.to,o=e.onFromChange,l=e.onToChange,s=Object(c.useContext)(T.b).config.visibleHours,u=Object(c.useMemo)((function(){return Object(A.e)(s)}),[s]),d=Object(c.useMemo)((function(){return u.reduce((function(e,t){return t>=a.hour()&&e.push(t+1),e}),[])}),[a,u]),b=Object(c.useCallback)((function(e){var t=e+Math.abs(i.diff(a,"hour"));u.includes(t)||(t=u[u.length-1]+1),o(a.hour(e)),l(i.hour(t))}),[a,i,o,l,u]),v=Object(c.useCallback)((function(e){l(i.hour(e))}),[i,l]);return Object(r.jsxs)(te.b,{direction:"horizontal",size:"middle",children:[Object(r.jsx)(h.a,{bordered:!1,disabled:n,onChange:b,size:"large",value:a.hour(),children:u.map((function(e){return Object(r.jsxs)(h.a.Option,{value:e,children:[e," Uhr"]},e)}))}),Object(r.jsx)("span",{children:"bis"}),Object(r.jsx)(h.a,{bordered:!1,disabled:n,onChange:v,size:"large",value:i.hour(),children:d.map((function(e){return Object(r.jsxs)(h.a.Option,{value:e,children:[e%24," Uhr"]},e)}))})]})}var ae=n(296),re=n.n(ae);function ce(e){var t,n,a,o,l=e.courtId,d=e.currentReservations,v=e.disabled,f=e.from,h=e.onCourtIdChange,O=e.onFromChange,p=e.onReservationsChange,g=e.onTextChange,x=e.onToChange,y=e.readOnly,C=e.text,w=e.to,E=e.unavailableReservations,N=Object(c.useContext)(T.b).courts,S=Object(c.useContext)(X.b).user,_=Object(c.useState)(!1),I=Object(i.a)(_,2),P=I[0],M=I[1],L=Object(c.useCallback)((function(){M(!0)}),[]),B=Object(c.useCallback)((function(){M(!1),g(null)}),[g]),F=Object(c.useCallback)((function(e){var t=Math.abs(w.diff(f,"hour")),n=e.hour(f.hour()),a=n.add(t,"hour");O(n),x(a)}),[f,w,O,x]),z=Object(c.useCallback)((function(e){g(e.target.value)}),[g]),D=Object(c.useCallback)((function(e){h(e.target.value)}),[h]);return y?Object(r.jsx)(k.a,{court:Object(r.jsx)("div",{className:re.a.plain,children:Object(A.b)(N,l)}),date:Object(r.jsx)("div",{className:re.a.plain,children:f.format("dd[\xa0]L")}),time:Object(r.jsxs)("div",{className:re.a.plain,children:[f.format("H")," Uhr bis ",w.format("H")," Uhr"]}),name:Object(r.jsx)("div",{className:re.a.plain,children:(null===d||void 0===d||null===(t=d[0])||void 0===t?void 0:t.text)||(null===d||void 0===d||null===(n=d[0])||void 0===n?void 0:n.name)||S.name})}):Object(r.jsx)(k.a,{court:Object(r.jsx)(R,{disabled:v,onChange:D,value:l,children:N.map((function(e){var t=e.courtId,n=e.name;return Object(r.jsx)(u.a.Button,{value:t,children:n},t)}))}),date:Object(r.jsx)(j.a,{allowClear:!1,bordered:!1,className:re.a.datePicker,disabled:(null===d||void 0===d?void 0:d.length)>1||v,format:"L",onChange:F,showToday:!1,suffixIcon:Object(r.jsx)(m.a,{}),value:f}),time:Object(r.jsx)(ne,{disabled:v,from:f,to:w,onFromChange:O,onToChange:x}),name:P?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{className:re.a.nameInput,disabled:v,onChange:z,placeholder:"z.B. Training, ...",value:C,size:"large"}),Object(r.jsx)(s.a,{disabled:v,onClick:B,type:"link",children:"abbrechen"})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:re.a.plain,children:Object(r.jsx)("span",{children:(null===d||void 0===d||null===(a=d[0])||void 0===a?void 0:a.text)||(null===d||void 0===d||null===(o=d[0])||void 0===o?void 0:o.name)||S.name})}),S.admin&&Object(r.jsxs)(s.a,{disabled:v,onClick:L,type:"link",children:[Object(r.jsx)(q.a,{})," bearbeiten"]})]}),repeat:Object(r.jsx)(ee,{courtId:l,currentReservations:d,disabled:v,from:f,onChange:p,to:w,unavailableReservations:E})})}function ie(e){var t,n,a=e.initialFrom,f=e.initialCourtId,j=e.reservation,m=e.onFinish,h=e.setReservations,O=Object(c.useContext)(T.b),p=O.courts,g=O.templates.reservationTos,k=Object(c.useContext)(X.b).user,C=Object(c.useState)(""),w=Object(i.a)(C,2),E=w[0],N=w[1],S=Object(c.useState)(null),_=Object(i.a)(S,2),R=_[0],P=_[1],L=Object(c.useState)(null),z=Object(i.a)(L,2),D=z[0],G=z[1],q=Object(c.useState)((null===j||void 0===j?void 0:j.from)||a),H=Object(i.a)(q,2),U=H[0],V=H[1],Z=Object(c.useState)((function(){return(null===j||void 0===j?void 0:j.to)||a.add(1,"hour")})),Y=Object(i.a)(Z,2),J=Y[0],Q=Y[1],$=Object(c.useState)((null===j||void 0===j?void 0:j.courtId)||f),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ae=Object(c.useRef)({}),re=Object(c.useState)([]),ie=Object(i.a)(re,2),oe=ie[0],le=ie[1],se=Object(F.a)(v.d,le),ue=Object(i.a)(se,2),de=ue[0],be=ue[1],ve=Object(F.a)(v.l,h),fe=Object(i.a)(ve,2),je=fe[0],me=fe[1],he=Object(F.a)(v.g,h),Oe=Object(i.a)(he,2),pe=Oe[0],ge=Oe[1],xe=de.loading||je.loading||pe.loading,ye=j&&k.admin&&(null===j||void 0===j?void 0:j.userId)!==k.userId,ke=k.admin||!j||j.userId===k.userId,Ce=Object(c.useMemo)((function(){return null===D||void 0===D?void 0:D.filter((function(e){return!oe.some((function(t){return t.from.isSame(e.from,"hour")&&t.to.isSame(e.to,"hour")}))}))}),[D,oe]),we=Object(c.useMemo)((function(){return D&&oe.filter((function(e){return!D.some((function(t){return t.from.isSame(e.from,"hour")&&t.to.isSame(e.to,"hour")}))}))}),[D,oe]),Ee=!(!oe||!R),Ne=Object(c.useMemo)((function(){var e,t,n=(null===(e=je.error)||void 0===e?void 0:e.unavailableReservations)||(null===(t=pe.error)||void 0===t?void 0:t.unavailableReservations);return n&&(n=n.map((function(e){var t=e.courtId,n=e.from,a=e.to;return{courtId:t,from:M()(n),to:M()(a)}}))),n}),[null===(t=pe.error)||void 0===t?void 0:t.unavailableReservations,null===(n=je.error)||void 0===n?void 0:n.unavailableReservations]);Object(c.useEffect)((function(){(null===j||void 0===j?void 0:j.groupId)&&be({query:{"group-id":null===j||void 0===j?void 0:j.groupId}})}),[j,be]);var Se=Object(c.useCallback)((function(e){N(e.target.value)}),[]),_e=Object(c.useCallback)((function(){l.a.confirm({icon:!1,okText:"Akzeptieren",width:530,centered:!0,content:Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:g.body}}),onOk:function(){me(null,{reservations:D,text:R,type:y.a.NORMAL},(function(){o.b.success("Reservierung erfolgreich"),m()}))}})}),[m,me,D,g,R]),Re=Object(c.useCallback)((function(){l.a.confirm({title:"Wirklich speichern?",icon:Object(r.jsx)(K.a,{}),centered:!0,content:Object(r.jsxs)("div",{className:B.a.wrapper,children:[Ce.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:B.a.heading,children:"Neue Termine"}),Object(r.jsx)("ul",{children:Ce.map((function(e){var t=e.courtId,n=e.from,a=e.to;return Object(r.jsxs)("li",{children:[n.format("dd[\xa0]L"),", ",n.hour(),"\xa0bis\xa0",a.hour(),"\xa0Uhr, ",Object(A.b)(p,t)]},n)}))})]}),we.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:B.a.heading,children:"Zu Stornieren"}),Object(r.jsx)("ul",{children:we.map((function(e){var t=e.courtId,n=e.from,a=e.to;return Object(r.jsxs)("li",{children:[n.format("dd[\xa0]L"),", ",n.hour(),"\xa0bis\xa0",a.hour(),"\xa0Uhr, ",Object(A.b)(p,t)]},n)}))})]}),Ee&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:B.a.heading,children:"\xc4nderungen"}),Object(r.jsx)("ul",{children:Object(r.jsxs)("li",{children:["Name: ",Object(r.jsx)("strong",{children:R})]})})]})]}),okText:"Best\xe4tigen",okType:"danger",cancelText:"Abbrechen",onOk:function(){ge({path:{groupId:j.groupId}},{reason:ye?E:void 0,reservations:D,text:R},(function(){o.b.success("Speichern erfolgreich"),m()}))}})}),[ye,we,E,Ee,p,Ce,m,ge,j,D,R]),Ie=Object(c.useCallback)((function(){var e="single",t=function(){var t,n={path:{groupId:j.groupId}};t="single"===e?oe.filter((function(e){return!e.from.isSame(j.from,"day")})):"allActive"===e?oe.filter((function(e){return e.from.isBefore(M()(),"hour")})):[],ge(n,{reason:ye?E:void 0,reservations:t},(function(){o.b.success("Stornierung erfolgreich"),m()}))};oe.length<=1?t():l.a.confirm({title:"Termine stornieren",icon:Object(r.jsx)(K.a,{}),centered:!0,content:Object(r.jsxs)(u.a.Group,{className:B.a.cancelRadioGroup,onChange:function(t){return e=t.target.value},defaultValue:e,children:[Object(r.jsx)(u.a,{value:"single",children:"Nur diesen Termin"}),Object(r.jsx)("ul",{children:Object(r.jsxs)("li",{children:[j.from.format("dd[\xa0]L"),", ",j.from.hour(),"\xa0bis\xa0",j.to.hour(),"\xa0Uhr, ",Object(A.b)(p,j.courtId)]},j.from)}),Object(r.jsx)(u.a,{value:"allActive",children:"Alle offenen Termine"}),Object(r.jsx)("ul",{children:oe.filter((function(e){return!e.from.isBefore(M()(),"hour")})).map((function(e){var t=e.courtId,n=e.from,a=e.to;return Object(r.jsxs)("li",{children:[n.format("dd[\xa0]L"),", ",n.hour(),"\xa0bis\xa0",a.hour(),"\xa0Uhr, ",Object(A.b)(p,t)]},n)}))}),(null===k||void 0===k?void 0:k.admin)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,{value:"all",children:"Alle Termine"}),Object(r.jsx)("ul",{children:oe.map((function(e){var t=e.courtId,n=e.from,a=e.to;return Object(r.jsxs)("li",{children:[n.format("dd[\xa0]L"),", ",n.hour(),"\xa0bis\xa0",a.hour(),"\xa0Uhr, ",Object(A.b)(p,t)]},n)}))})]})]}),okText:"Stornieren",okType:"danger",cancelText:"Abbrechen",onOk:t})}),[ye,E,p,oe,m,ge,j,null===k||void 0===k?void 0:k.admin]);return Object(c.useEffect)((function(){var e,t;if(ae.current.post!==je.error||ae.current.patch!==pe.error){ae.current.post=je.error,ae.current.patch=pe.error;var n=(null===(e=je.error)||void 0===e?void 0:e.message)||(null===(t=pe.error)||void 0===t?void 0:t.message);if(Ne)l.a.error({centered:!0,title:"Reservierung fehlgeschlagen",content:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"Folgende Termine sind nicht verf\xfcgbar:"}),Object(r.jsx)("ul",{children:Ne.map((function(e){var t=e.courtId,n=e.from,a=e.to;return Object(r.jsxs)("li",{children:[n.format("dd[\xa0]L"),", ",n.hour(),"\xa0bis\xa0",a.hour(),"\xa0Uhr, ",Object(A.b)(p,t)]},n)}))})]})});else if("too many active reservations"===n){var a,c,i,o,s=(null===(a=je.error)||void 0===a?void 0:a.value)||(null===(c=pe.error)||void 0===c?void 0:c.value),u=(null===(i=je.error)||void 0===i?void 0:i.max)||(null===(o=pe.error)||void 0===o?void 0:o.max),d=Math.abs(s-u);l.a.error({centered:!0,title:"Reservierungslimit erreicht",content:Object(r.jsxs)("div",{children:[(null===D||void 0===D?void 0:D.length)>d?Object(r.jsxs)("p",{children:["Bitte entfernen Sie mindestens ",Object(r.jsx)("strong",{children:d})," Termine."]}):Object(r.jsx)("p",{children:"Sie k\xf6nnen aktuell keine weiteren Termine reservieren."}),Object(r.jsxs)("p",{children:["Es k\xf6nnen maximal ",u," Reservierungen im voraus get\xe4tigt werden. Bereits vergangene Termine werden dabei nicht angerechnet."]})]})})}}}),[p,null===D||void 0===D?void 0:D.length,je.error,pe.error,Ne]),de.error||je.error&&!je.error.unavailableReservations&&"too many active reservations"!==je.error.message||pe.error&&!pe.error.unavailableReservations&&"too many active reservations"!==pe.error.message?Object(r.jsx)(l.a,{title:"Reservierung",visible:!0,centered:!0,onCancel:m,onOk:m,footer:Object(r.jsx)("div",{className:B.a.footer,children:Object(r.jsx)(s.a,{onClick:m,children:"Abbrechen"})}),children:Object(r.jsx)("div",{className:B.a.wrapper,children:Object(r.jsx)(x.a,{})})}):Object(r.jsx)(l.a,{visible:!0,width:530,centered:!0,onCancel:m,onOk:m,footer:xe?Object(r.jsx)(I.a,{loading:!0,text:"Bitte warten..."}):Object(r.jsxs)("div",{className:B.a.footer,children:[Object(r.jsx)(s.a,{onClick:m,children:ke?"Abbrechen":"Schlie\xdfen"}),ke&&(j?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.a,{type:"danger",onClick:Ie,disabled:ye&&!E,children:"Stornieren"}),Object(r.jsx)(s.a,{type:"primary",onClick:Re,disabled:!((null===Ce||void 0===Ce?void 0:Ce.length)||(null===we||void 0===we?void 0:we.length)||Ee)||ye&&!E,children:"Speichern"})]}):Object(r.jsx)(s.a,{disabled:!(null===Ce||void 0===Ce?void 0:Ce.length),type:"primary",onClick:_e,children:"Reservieren"}))]}),children:Object(r.jsxs)("div",{className:B.a.wrapper,children:[de.loading?Object(r.jsx)(W.a,{visible:!0,spin:!0,centered:!0,large:!0}):Object(r.jsx)(ce,{courtId:te,currentReservations:oe,disabled:xe,from:U,onCourtIdChange:ne,onFromChange:V,onReservationsChange:G,onTextChange:P,onToChange:Q,readOnly:!ke,text:R,to:J,unavailableReservations:Ne}),ye&&Object(r.jsx)(d.a,{layout:"vertical",children:Object(r.jsxs)(d.a.Item,{label:"Grund der \xc4nderung",required:!0,children:[Object(r.jsx)(b.a.TextArea,{autoSize:!0,disabled:xe,onChange:Se,placeholder:"Erforderlich",required:!0,value:E}),Object(r.jsx)("div",{className:B.a.changeReasonHint,children:"Der Inhaber der Reservierung wird \xfcber die \xc4nderungen sowie dessen Grund per E-Mail informiert."})]})})]})})}var oe=n(251),le=n(297),se=n.n(le),ue=n(29);function de(e){var t=e.onClose,n=Object(c.useContext)(X.b).user,a=Object(ue.g)(),i=Object(c.useCallback)((function(){a.push("/profile")}),[a]),o=Object(c.useCallback)((function(){a.push("/verify-mail/send")}),[a]);return Object(r.jsx)(l.a,{title:"E-Mail nicht verifiziert",visible:!0,centered:!0,width:580,onCancel:t,onOk:t,footer:null,children:Object(r.jsx)(oe.a,{status:"warning",title:"Bitte best\xe4tigen Sie Ihre E-Mail Adresse",extra:Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["Klicken Sie auf den Best\xe4tigungslink, den Sie bei Ihrer Registrierung an ",Object(r.jsx)("strong",{children:null===n||void 0===n?void 0:n.mail})," erhalten haben."]}),Object(r.jsxs)("div",{className:se.a.buttons,children:[Object(r.jsx)(s.a,{type:"primary",onClick:o,children:"Best\xe4tigungslink erneut senden"}),Object(r.jsx)(s.a,{type:"link",onClick:i,children:"E-Mail Adresse \xe4ndern"})]})]})})})}function be(e){var t=Object(c.useContext)(X.b).user,n=e.onFinish,i=e.reservation,o=e.type;return t?t.verified?(null===i||void 0===i?void 0:i.type)===y.a.DISABLE||o===y.a.DISABLE?Object(r.jsx)(z,Object(a.a)({},e)):Object(r.jsx)(ie,Object(a.a)({},e)):Object(r.jsx)(de,{onClose:n}):Object(r.jsx)(G,{onClose:n})}},302:function(e,t,n){"use strict";var a=n(6),r=n(7),c=n(22),i=n(0),o=n(105),l=n(5),s=n.n(l),u={adjustX:1,adjustY:1},d=[0,0],b={topLeft:{points:["bl","tl"],overflow:u,offset:[0,-4],targetOffset:d},topCenter:{points:["bc","tc"],overflow:u,offset:[0,-4],targetOffset:d},topRight:{points:["br","tr"],overflow:u,offset:[0,-4],targetOffset:d},bottomLeft:{points:["tl","bl"],overflow:u,offset:[0,4],targetOffset:d},bottomCenter:{points:["tc","bc"],overflow:u,offset:[0,4],targetOffset:d},bottomRight:{points:["tr","br"],overflow:u,offset:[0,4],targetOffset:d}};var v=i.forwardRef((function(e,t){var n=e.arrow,l=void 0!==n&&n,u=e.prefixCls,d=void 0===u?"rc-dropdown":u,v=e.transitionName,f=e.animation,j=e.align,m=e.placement,h=void 0===m?"bottomLeft":m,O=e.placements,p=void 0===O?b:O,g=e.getPopupContainer,x=e.showAction,y=e.hideAction,k=e.overlayClassName,C=e.overlayStyle,w=e.visible,E=e.trigger,N=void 0===E?["hover"]:E,S=Object(c.a)(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),_=i.useState(),R=Object(r.a)(_,2),I=R[0],T=R[1],P="visible"in e?w:I,M=i.useRef(null);i.useImperativeHandle(t,(function(){return M.current}));var A=function(){var t=e.overlay;return"function"===typeof t?t():t},L=function(t){var n=e.onOverlayClick,a=A().props;T(!1),n&&n(t),a.onClick&&a.onClick(t)},B=function(){var e=A(),t={prefixCls:"".concat(d,"-menu"),onClick:L};return"string"===typeof e.type&&delete t.prefixCls,i.createElement(i.Fragment,null,l&&i.createElement("div",{className:"".concat(d,"-arrow")}),i.cloneElement(e,t))},F=y;return F||-1===N.indexOf("contextMenu")||(F=["click"]),i.createElement(o.a,Object.assign({},S,{prefixCls:d,ref:M,popupClassName:s()(k,Object(a.a)({},"".concat(d,"-show-arrow"),l)),popupStyle:C,builtinPlacements:p,action:N,showAction:x,hideAction:F||[],popupPlacement:h,popupAlign:j,popupTransitionName:v,popupAnimation:f,popupVisible:P,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?B:B(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;T(t),"function"===typeof n&&n(t)},getPopupContainer:g}),function(){var t=e.children,n=t.props?t.props:{},a=s()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(d,"-open")}());return I&&t?i.cloneElement(t,{className:a}):t}())}));t.a=v},334:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(a=n(335))&&a.__esModule?a:{default:a};t.default=r,e.exports=r},335:function(e,t,n){"use strict";var a=n(21),r=n(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(0)),i=a(n(336)),o=a(n(33)),l=function(e,t){return c.createElement(o.default,Object.assign({},e,{ref:t,icon:i.default}))};l.displayName="PlusOutlined";var s=c.forwardRef(l);t.default=s},336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},342:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(4),i=n.n(c),o=n(0),l=n(6),s=n(7),u=n(23),d=n(22),b=n(1),v=n(5),f=n.n(v),j=n(35),m=n(270),h=n(9),O=n(101),p=n.n(O),g=n(104);function x(e){var t=Object(o.useRef)(),n=Object(o.useRef)(!1);return Object(o.useEffect)((function(){return function(){n.current=!0,p.a.cancel(t.current)}}),[]),function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];n.current||(p.a.cancel(t.current),t.current=p()((function(){e.apply(void 0,r)})))}}var y=n(27);var k=o.forwardRef((function(e,t){var n,a=e.prefixCls,r=e.id,c=e.active,i=e.rtl,s=e.tab,u=s.key,d=s.tab,b=s.disabled,v=s.closeIcon,j=e.tabBarGutter,m=e.tabPosition,h=e.closable,O=e.renderWrapper,p=e.removeAriaLabel,g=e.editable,x=e.onClick,k=e.onRemove,C=e.onFocus,w="".concat(a,"-tab");o.useEffect((function(){return k}),[]);var E={};"top"===m||"bottom"===m?E[i?"marginLeft":"marginRight"]=j:E.marginBottom=j;var N=g&&!1!==h&&!b;function S(e){b||x(e)}var _=o.createElement("div",{key:u,ref:t,className:f()(w,(n={},Object(l.a)(n,"".concat(w,"-with-remove"),N),Object(l.a)(n,"".concat(w,"-active"),c),Object(l.a)(n,"".concat(w,"-disabled"),b),n)),style:E,onClick:S},o.createElement("div",{role:"tab","aria-selected":c,id:r&&"".concat(r,"-tab-").concat(u),className:"".concat(w,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(u),"aria-disabled":b,tabIndex:b?null:0,onClick:function(e){e.stopPropagation(),S(e)},onKeyDown:function(e){[y.a.SPACE,y.a.ENTER].includes(e.which)&&(e.preventDefault(),S(e))},onFocus:C},d),N&&o.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),g.onEdit("remove",{key:u,event:t})}},v||g.removeIcon||"\xd7"));return O&&(_=O(_)),_})),C={width:0,height:0,left:0,top:0};var w={width:0,height:0,left:0,top:0,right:0};var E=n(60),N=n(302);var S=o.forwardRef((function(e,t){var n=e.prefixCls,a=e.editable,r=e.locale,c=e.style;return a&&!1!==a.showAdd?o.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:c,"aria-label":(null===r||void 0===r?void 0:r.addAriaLabel)||"Add tab",onClick:function(e){a.onEdit("add",{event:e})}},a.addIcon||"+"):null}));var _=o.forwardRef((function(e,t){var n=e.prefixCls,a=e.id,r=e.tabs,c=e.locale,i=e.mobile,u=e.moreIcon,d=void 0===u?"More":u,b=e.moreTransitionName,v=e.style,j=e.className,m=e.editable,h=e.tabBarGutter,O=e.rtl,p=e.onTabClick,g=Object(o.useState)(!1),x=Object(s.a)(g,2),k=x[0],C=x[1],w=Object(o.useState)(null),_=Object(s.a)(w,2),R=_[0],I=_[1],T="".concat(a,"-more-popup"),P="".concat(n,"-dropdown"),M=null!==R?"".concat(T,"-").concat(R):null,A=null===c||void 0===c?void 0:c.dropdownAriaLabel,L=o.createElement(E.f,{onClick:function(e){var t=e.key,n=e.domEvent;p(t,n),C(!1)},id:T,tabIndex:-1,role:"listbox","aria-activedescendant":M,selectedKeys:[R],"aria-label":void 0!==A?A:"expanded dropdown"},r.map((function(e){return o.createElement(E.d,{key:e.key,id:"".concat(T,"-").concat(e.key),role:"option","aria-controls":a&&"".concat(a,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function B(e){for(var t=r.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===R}))||0,a=t.length,c=0;c<a;c+=1){var i=t[n=(n+e+a)%a];if(!i.disabled)return void I(i.key)}}Object(o.useEffect)((function(){var e=document.getElementById(M);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[R]),Object(o.useEffect)((function(){k||I(null)}),[k]);var F=Object(l.a)({},O?"marginLeft":"marginRight",h);r.length||(F.visibility="hidden",F.order=1);var z=f()(Object(l.a)({},"".concat(P,"-rtl"),O)),D=i?null:o.createElement(N.a,{prefixCls:P,overlay:L,trigger:["hover"],visible:k,transitionName:b,onVisibleChange:C,overlayClassName:z,mouseEnterDelay:.1,mouseLeaveDelay:.1},o.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:F,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(a,"-more"),"aria-expanded":k,onKeyDown:function(e){var t=e.which;if(k)switch(t){case y.a.UP:B(-1),e.preventDefault();break;case y.a.DOWN:B(1),e.preventDefault();break;case y.a.ESC:C(!1);break;case y.a.SPACE:case y.a.ENTER:null!==R&&p(R,e)}else[y.a.DOWN,y.a.SPACE,y.a.ENTER].includes(t)&&(C(!0),e.preventDefault())}},d));return o.createElement("div",{className:f()("".concat(n,"-nav-operations"),j),style:v,ref:t},D,o.createElement(S,{prefixCls:n,locale:c,editable:m}))})),R=Object(o.createContext)(null),I=Math.pow(.995,20);function T(e,t){var n=o.useRef(e),a=o.useState({}),r=Object(s.a)(a,2)[1];return[n.current,function(e){var a="function"===typeof e?e(n.current):e;a!==n.current&&t(a,n.current),n.current=a,r({})}]}var P=function(e){var t,n=e.position,a=e.prefixCls,r=e.extra;if(!r)return null;var c=r;return"right"===n&&(t=c.right||!c.left&&c||null),"left"===n&&(t=c.left||null),t?o.createElement("div",{className:"".concat(a,"-extra-content")},t):null};var M=o.forwardRef((function(e,t){var n,a=o.useContext(R),r=a.prefixCls,c=a.tabs,i=e.className,u=e.style,d=e.id,v=e.animated,j=e.activeKey,m=e.rtl,O=e.extra,y=e.editable,E=e.locale,N=e.tabPosition,M=e.tabBarGutter,A=e.children,L=e.onTabClick,B=e.onTabScroll,F=Object(o.useRef)(),z=Object(o.useRef)(),D=Object(o.useRef)(),G=Object(o.useRef)(),W=function(){var e=Object(o.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,o.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),K=Object(s.a)(W,2),q=K[0],H=K[1],U="top"===N||"bottom"===N,V=T(0,(function(e,t){U&&B&&B({direction:e>t?"left":"right"})})),X=Object(s.a)(V,2),Z=X[0],Y=X[1],J=T(0,(function(e,t){!U&&B&&B({direction:e>t?"top":"bottom"})})),Q=Object(s.a)(J,2),$=Q[0],ee=Q[1],te=Object(o.useState)(0),ne=Object(s.a)(te,2),ae=ne[0],re=ne[1],ce=Object(o.useState)(0),ie=Object(s.a)(ce,2),oe=ie[0],le=ie[1],se=Object(o.useState)(0),ue=Object(s.a)(se,2),de=ue[0],be=ue[1],ve=Object(o.useState)(0),fe=Object(s.a)(ve,2),je=fe[0],me=fe[1],he=Object(o.useState)(null),Oe=Object(s.a)(he,2),pe=Oe[0],ge=Oe[1],xe=Object(o.useState)(null),ye=Object(s.a)(xe,2),ke=ye[0],Ce=ye[1],we=Object(o.useState)(0),Ee=Object(s.a)(we,2),Ne=Ee[0],Se=Ee[1],_e=Object(o.useState)(0),Re=Object(s.a)(_e,2),Ie=Re[0],Te=Re[1],Pe=function(e){var t=Object(o.useRef)([]),n=Object(o.useState)({}),a=Object(s.a)(n,2)[1],r=Object(o.useRef)("function"===typeof e?e():e),c=x((function(){var e=r.current;t.current.forEach((function(t){e=t(e)})),t.current=[],r.current=e,a({})}));return[r.current,function(e){t.current.push(e),c()}]}(new Map),Me=Object(s.a)(Pe,2),Ae=Me[0],Le=Me[1],Be=function(e,t,n){return Object(o.useMemo)((function(){for(var n,a=new Map,r=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||C,c=r.left+r.width,i=0;i<e.length;i+=1){var o,l=e[i].key,s=t.get(l);s||(s=t.get(null===(o=e[i-1])||void 0===o?void 0:o.key)||C);var u=a.get(l)||Object(b.a)({},s);u.right=c-u.left-u.width,a.set(l,u)}return a}),[e.map((function(e){return e.key})).join("_"),t,n])}(c,Ae,ae),Fe="".concat(r,"-nav-operations-hidden"),ze=0,De=0;function Ge(e){return e<ze?[ze,!1]:e>De?[De,!1]:[e,!0]}U?m?(ze=0,De=Math.max(0,ae-pe)):(ze=Math.min(0,pe-ae),De=0):(ze=Math.min(0,ke-oe),De=0);var We=Object(o.useRef)(),Ke=Object(o.useState)(),qe=Object(s.a)(Ke,2),He=qe[0],Ue=qe[1];function Ve(){Ue(Date.now())}function Xe(){window.clearTimeout(We.current)}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=Be.get(e);if(t)if(U){var n=Z;m?t.right<Z?n=t.right:t.right+t.width>Z+pe&&(n=t.right+t.width-pe):t.left<-Z?n=-t.left:t.left+t.width>-Z+pe&&(n=-(t.left+t.width-pe)),ee(0),Y(Ge(n)[0])}else{var a=$;t.top<-$?a=-t.top:t.top+t.height>-$+ke&&(a=-(t.top+t.height-ke)),Y(0),ee(Ge(a)[0])}}!function(e,t){var n=Object(o.useState)(),a=Object(s.a)(n,2),r=a[0],c=a[1],i=Object(o.useState)(0),l=Object(s.a)(i,2),u=l[0],d=l[1],b=Object(o.useState)(0),v=Object(s.a)(b,2),f=v[0],j=v[1],m=Object(o.useState)(),h=Object(s.a)(m,2),O=h[0],p=h[1],g=Object(o.useRef)(),x=Object(o.useRef)(0),y=Object(o.useRef)(!1),k=Object(o.useRef)(),C=Object(o.useRef)(null);C.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,a=t.screenY;c({x:n,y:a}),window.clearInterval(g.current)},onTouchMove:function(e){if(r){e.preventDefault();var n=e.touches[0],a=n.screenX,i=n.screenY;c({x:a,y:i});var o=a-r.x,l=i-r.y;t(o,l);var s=Date.now();d(s),j(s-u),p({x:o,y:l})}},onTouchEnd:function(){if(r&&(c(null),p(null),O)){var e=O.x/f,n=O.y/f,a=Math.abs(e),i=Math.abs(n);if(Math.max(a,i)<.1)return;var o=e,l=n;g.current=window.setInterval((function(){Math.abs(o)<.01&&Math.abs(l)<.01?window.clearInterval(g.current):t(20*(o*=I),20*(l*=I))}),20)}},onWheel:function(e){var n=e.deltaX,a=e.deltaY,r=0,c=Math.abs(n),i=Math.abs(a);c===i?r="x"===k.current?n:a:c>i?(r=n,k.current="x"):(r=a,k.current="y");var o=Date.now();o-x.current>100&&(y.current=!1),(t(-r,-r)||y.current)&&(e.preventDefault(),y.current=!0),x.current=o}},o.useEffect((function(){function t(e){C.current.onTouchMove(e)}function n(e){C.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){C.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){C.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(F,(function(e,t){var n=!1;function a(e,t){e((function(e){var a=Ge(e+t),r=Object(s.a)(a,2),c=r[0],i=r[1];return n=i,c}))}if(U){if(pe>=ae)return n;a(Y,e)}else{if(ke>=oe)return n;a(ee,t)}return Xe(),Ve(),n})),Object(o.useEffect)((function(){return Xe(),He&&(We.current=window.setTimeout((function(){Ue(0)}),100)),Xe}),[He]);var Ye=function(e,t,n,a,r){var c,i,l,s=r.tabs,u=r.tabPosition,d=r.rtl;["top","bottom"].includes(u)?(c="width",i=d?"right":"left",l=Math.abs(t.left)):(c="height",i="top",l=-t.top);var b=t[c],v=n[c],f=a[c],j=b;return v+f>b&&(j=b-f),Object(o.useMemo)((function(){if(!s.length)return[0,0];for(var t=s.length,n=t,a=0;a<t;a+=1){var r=e.get(s[a].key)||w;if(r[i]+r[c]>l+j){n=a-1;break}}for(var o=0,u=t-1;u>=0;u-=1)if((e.get(s[u].key)||w)[i]<l){o=u+1;break}return[o,n]}),[e,l,j,u,s.map((function(e){return e.key})).join("_"),d])}(Be,{width:pe,height:ke,left:Z,top:$},{width:de,height:je},{width:Ne,height:Ie},Object(b.a)(Object(b.a)({},e),{},{tabs:c})),Je=Object(s.a)(Ye,2),Qe=Je[0],$e=Je[1],et=c.map((function(e){var t=e.key;return o.createElement(k,{id:d,prefixCls:r,key:t,rtl:m,tab:e,closable:e.closable,editable:y,active:t===j,tabPosition:N,tabBarGutter:M,renderWrapper:A,removeAriaLabel:null===E||void 0===E?void 0:E.removeAriaLabel,ref:q(t),onClick:function(e){L(t,e)},onRemove:function(){H(t)},onFocus:function(){Ze(t),Ve(),m||(F.current.scrollLeft=0),F.current.scrollTop=0}})})),tt=x((function(){var e,t,n,a,r,i,o,l,s,u=(null===(e=F.current)||void 0===e?void 0:e.offsetWidth)||0,d=(null===(t=F.current)||void 0===t?void 0:t.offsetHeight)||0,b=(null===(n=G.current)||void 0===n?void 0:n.offsetWidth)||0,v=(null===(a=G.current)||void 0===a?void 0:a.offsetHeight)||0,f=(null===(r=D.current)||void 0===r?void 0:r.offsetWidth)||0,j=(null===(i=D.current)||void 0===i?void 0:i.offsetHeight)||0;ge(u),Ce(d),Se(b),Te(v);var m=((null===(o=z.current)||void 0===o?void 0:o.offsetWidth)||0)-b,h=((null===(l=z.current)||void 0===l?void 0:l.offsetHeight)||0)-v;re(m),le(h);var O=null===(s=D.current)||void 0===s?void 0:s.className.includes(Fe);be(m-(O?0:f)),me(h-(O?0:j)),Le((function(){var e=new Map;return c.forEach((function(t){var n=t.key,a=q(n).current;a&&e.set(n,{width:a.offsetWidth,height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop})})),e}))})),nt=c.slice(0,Qe),at=c.slice($e+1),rt=[].concat(Object(h.a)(nt),Object(h.a)(at)),ct=Object(o.useState)(),it=Object(s.a)(ct,2),ot=it[0],lt=it[1],st=Be.get(j),ut=Object(o.useRef)();function dt(){p.a.cancel(ut.current)}Object(o.useEffect)((function(){var e={};return st&&(U?(m?e.right=st.right:e.left=st.left,e.width=st.width):(e.top=st.top,e.height=st.height)),dt(),ut.current=p()((function(){lt(e)})),dt}),[st,U,m]),Object(o.useEffect)((function(){Ze()}),[j,st,Be,U]),Object(o.useEffect)((function(){tt()}),[m,M,j,c.map((function(e){return e.key})).join("_")]);var bt,vt,ft,jt,mt=!!rt.length,ht="".concat(r,"-nav-wrap");return U?m?(vt=Z>0,bt=Z+pe<ae):(bt=Z<0,vt=-Z+pe<ae):(ft=$<0,jt=-$+ke<oe),o.createElement("div",{ref:t,role:"tablist",className:f()("".concat(r,"-nav"),i),style:u,onKeyDown:function(){Ve()}},o.createElement(P,{position:"left",extra:O,prefixCls:r}),o.createElement(g.a,{onResize:tt},o.createElement("div",{className:f()(ht,(n={},Object(l.a)(n,"".concat(ht,"-ping-left"),bt),Object(l.a)(n,"".concat(ht,"-ping-right"),vt),Object(l.a)(n,"".concat(ht,"-ping-top"),ft),Object(l.a)(n,"".concat(ht,"-ping-bottom"),jt),n)),ref:F},o.createElement(g.a,{onResize:tt},o.createElement("div",{ref:z,className:"".concat(r,"-nav-list"),style:{transform:"translate(".concat(Z,"px, ").concat($,"px)"),transition:He?"none":void 0}},et,o.createElement(S,{ref:G,prefixCls:r,locale:E,editable:y,style:{visibility:mt?"hidden":null}}),o.createElement("div",{className:f()("".concat(r,"-ink-bar"),Object(l.a)({},"".concat(r,"-ink-bar-animated"),v.inkBar)),style:ot}))))),o.createElement(_,Object.assign({},e,{ref:D,prefixCls:r,tabs:rt,className:!mt&&Fe})),o.createElement(P,{position:"right",extra:O,prefixCls:r}))}));function A(e){var t=e.id,n=e.activeKey,a=e.animated,r=e.tabPosition,c=e.rtl,i=e.destroyInactiveTabPane,s=o.useContext(R),u=s.prefixCls,d=s.tabs,b=a.tabPane,v=d.findIndex((function(e){return e.key===n}));return o.createElement("div",{className:f()("".concat(u,"-content-holder"))},o.createElement("div",{className:f()("".concat(u,"-content"),"".concat(u,"-content-").concat(r),Object(l.a)({},"".concat(u,"-content-animated"),b)),style:v&&b?Object(l.a)({},c?"marginRight":"marginLeft","-".concat(v,"00%")):null},d.map((function(e){return o.cloneElement(e.node,{key:e.key,prefixCls:u,tabKey:e.key,id:t,animated:b,active:e.key===n,destroyInactiveTabPane:i})}))))}function L(e){var t=e.prefixCls,n=e.forceRender,a=e.className,r=e.style,c=e.id,i=e.active,l=e.animated,u=e.destroyInactiveTabPane,d=e.tabKey,v=e.children,j=o.useState(n),m=Object(s.a)(j,2),h=m[0],O=m[1];o.useEffect((function(){i?O(!0):u&&O(!1)}),[i,u]);var p={};return i||(l?(p.visibility="hidden",p.height=0,p.overflowY="hidden"):p.display="none"),o.createElement("div",{id:c&&"".concat(c,"-panel-").concat(d),role:"tabpanel",tabIndex:i?0:-1,"aria-labelledby":c&&"".concat(c,"-tab-").concat(d),"aria-hidden":!i,style:Object(b.a)(Object(b.a)({},p),r),className:f()("".concat(t,"-tabpane"),i&&"".concat(t,"-tabpane-active"),a)},(i||h||n)&&v)}var B=0;var F=o.forwardRef((function(e,t){var n,a,r=e.id,c=e.prefixCls,i=void 0===c?"rc-tabs":c,v=e.className,h=e.children,O=e.direction,p=e.activeKey,g=e.defaultActiveKey,x=e.editable,y=e.animated,k=void 0===y?{inkBar:!0,tabPane:!1}:y,C=e.tabPosition,w=void 0===C?"top":C,E=e.tabBarGutter,N=e.tabBarStyle,S=e.tabBarExtraContent,_=e.locale,I=e.moreIcon,T=e.moreTransitionName,P=e.destroyInactiveTabPane,L=e.renderTabBar,F=e.onChange,z=e.onTabClick,D=e.onTabScroll,G=Object(d.a)(e,["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"]),W=function(e){return Object(j.a)(e).map((function(e){if(o.isValidElement(e)){var t=void 0!==e.key?String(e.key):void 0;return Object(b.a)(Object(b.a)({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}(h),K="rtl"===O;a=!1===k?{inkBar:!1,tabPane:!1}:!0===k?{inkBar:!0,tabPane:!0}:Object(b.a)({inkBar:!0,tabPane:!1},"object"===Object(u.a)(k)?k:{});var q=Object(o.useState)(!1),H=Object(s.a)(q,2),U=H[0],V=H[1];Object(o.useEffect)((function(){V(function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))}())}),[]);var X=Object(m.a)((function(){var e;return null===(e=W[0])||void 0===e?void 0:e.key}),{value:p,defaultValue:g}),Z=Object(s.a)(X,2),Y=Z[0],J=Z[1],Q=Object(o.useState)((function(){return W.findIndex((function(e){return e.key===Y}))})),$=Object(s.a)(Q,2),ee=$[0],te=$[1];Object(o.useEffect)((function(){var e,t=W.findIndex((function(e){return e.key===Y}));-1===t&&(t=Math.max(0,Math.min(ee,W.length-1)),J(null===(e=W[t])||void 0===e?void 0:e.key));te(t)}),[W.map((function(e){return e.key})).join("_"),Y,ee]);var ne=Object(m.a)(null,{value:r}),ae=Object(s.a)(ne,2),re=ae[0],ce=ae[1],ie=w;U&&!["left","right"].includes(w)&&(ie="top"),Object(o.useEffect)((function(){r||(ce("rc-tabs-".concat(B)),B+=1)}),[]);var oe,le={id:re,activeKey:Y,animated:a,tabPosition:ie,rtl:K,mobile:U},se=Object(b.a)(Object(b.a)({},le),{},{editable:x,locale:_,moreIcon:I,moreTransitionName:T,tabBarGutter:E,onTabClick:function(e,t){null===z||void 0===z||z(e,t),J(e),null===F||void 0===F||F(e)},onTabScroll:D,extra:S,style:N,panes:h});return oe=L?L(se,M):o.createElement(M,Object.assign({},se)),o.createElement(R.Provider,{value:{tabs:W,prefixCls:i}},o.createElement("div",Object.assign({ref:t,id:r,className:f()(i,"".concat(i,"-").concat(ie),(n={},Object(l.a)(n,"".concat(i,"-mobile"),U),Object(l.a)(n,"".concat(i,"-editable"),x),Object(l.a)(n,"".concat(i,"-rtl"),K),n),v)},G),oe,o.createElement(A,Object.assign({destroyInactiveTabPane:P},le,{animated:a}))))}));F.TabPane=L;var z=F,D=n(298),G=n.n(D),W=n(334),K=n.n(W),q=n(70),H=n.n(q),U=n(24),V=n(47),X=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function Z(e){var t,n,a=e.type,c=e.className,l=e.size,s=e.onEdit,u=e.hideAdd,d=e.centered,b=e.addIcon,v=X(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),j=v.prefixCls,m=o.useContext(V.b),h=m.getPrefixCls,O=m.direction,p=h("tabs",j);return"editable-card"===a&&(n={onEdit:function(e,t){var n=t.key,a=t.event;null===s||void 0===s||s("add"===e?a:n,e)},removeIcon:o.createElement(H.a,null),addIcon:b||o.createElement(K.a,null),showAdd:!0!==u}),Object(U.a)(!("onPrevClick"in v)&&!("onNextClick"in v),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),o.createElement(z,r()({direction:O},v,{moreTransitionName:"slide-up",className:f()((t={},i()(t,"".concat(p,"-").concat(l),l),i()(t,"".concat(p,"-card"),["card","editable-card"].includes(a)),i()(t,"".concat(p,"-editable-card"),"editable-card"===a),i()(t,"".concat(p,"-centered"),d),t),c),editable:n,moreIcon:o.createElement(G.a,null),prefixCls:p}))}Z.TabPane=L;t.a=Z},482:function(e,t,n){e.exports={card:"ReservationDetailsCard_card__2E3HH"}},483:function(e,t,n){e.exports={wrapper:"MyReservationsPage_wrapper__CITu_",content:"MyReservationsPage_content__3mWtJ",cardList:"MyReservationsPage_cardList__2qY8i",empty:"MyReservationsPage_empty__10Nkp"}},531:function(e,t,n){"use strict";var a=n(4),r=n.n(a),c=n(2),i=n.n(c),o=n(0),l=n(5),s=n.n(l),u=n(28),d=n(47),b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},v=function(e){return o.createElement(d.a,null,(function(t){var n=t.getPrefixCls,a=e.prefixCls,c=e.className,l=e.hoverable,u=void 0===l||l,d=b(e,["prefixCls","className","hoverable"]),v=n("card",a),f=s()("".concat(v,"-grid"),c,r()({},"".concat(v,"-grid-hoverable"),u));return o.createElement("div",i()({},d,{className:f}))}))},f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},j=function(e){return o.createElement(d.a,null,(function(t){var n=t.getPrefixCls,a=e.prefixCls,r=e.className,c=e.avatar,l=e.title,u=e.description,d=f(e,["prefixCls","className","avatar","title","description"]),b=n("card",a),v=s()("".concat(b,"-meta"),r),j=c?o.createElement("div",{className:"".concat(b,"-meta-avatar")},c):null,m=l?o.createElement("div",{className:"".concat(b,"-meta-title")},l):null,h=u?o.createElement("div",{className:"".concat(b,"-meta-description")},u):null,O=m||h?o.createElement("div",{className:"".concat(b,"-meta-detail")},m,h):null;return o.createElement("div",i()({},d,{className:v}),j,O)}))},m=n(342),h=n(283),O=n(284),p=n(52),g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var x=function(e){var t,n,a,c=o.useContext(d.b),l=c.getPrefixCls,b=c.direction,f=o.useContext(p.b),j=e.prefixCls,x=e.className,y=e.extra,k=e.headStyle,C=void 0===k?{}:k,w=e.bodyStyle,E=void 0===w?{}:w,N=e.title,S=e.loading,_=e.bordered,R=void 0===_||_,I=e.size,T=e.type,P=e.cover,M=e.actions,A=e.tabList,L=e.children,B=e.activeTabKey,F=e.defaultActiveTabKey,z=e.tabBarExtraContent,D=e.hoverable,G=e.tabProps,W=void 0===G?{}:G,K=g(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),q=l("card",j),H=0===E.padding||"0px"===E.padding?{padding:24}:void 0,U=o.createElement("div",{className:"".concat(q,"-loading-block")}),V=o.createElement("div",{className:"".concat(q,"-loading-content"),style:H},o.createElement(h.a,{gutter:8},o.createElement(O.a,{span:22},U)),o.createElement(h.a,{gutter:8},o.createElement(O.a,{span:8},U),o.createElement(O.a,{span:15},U)),o.createElement(h.a,{gutter:8},o.createElement(O.a,{span:6},U),o.createElement(O.a,{span:18},U)),o.createElement(h.a,{gutter:8},o.createElement(O.a,{span:13},U),o.createElement(O.a,{span:9},U)),o.createElement(h.a,{gutter:8},o.createElement(O.a,{span:4},U),o.createElement(O.a,{span:3},U),o.createElement(O.a,{span:16},U))),X=void 0!==B,Z=i()(i()({},W),(t={},r()(t,X?"activeKey":"defaultActiveKey",X?B:F),r()(t,"tabBarExtraContent",z),t)),Y=A&&A.length?o.createElement(m.a,i()({size:"large"},Z,{className:"".concat(q,"-head-tabs"),onChange:function(t){e.onTabChange&&e.onTabChange(t)}}),A.map((function(e){return o.createElement(m.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(N||y||Y)&&(a=o.createElement("div",{className:"".concat(q,"-head"),style:C},o.createElement("div",{className:"".concat(q,"-head-wrapper")},N&&o.createElement("div",{className:"".concat(q,"-head-title")},N),y&&o.createElement("div",{className:"".concat(q,"-extra")},y)),Y));var J=P?o.createElement("div",{className:"".concat(q,"-cover")},P):null,Q=o.createElement("div",{className:"".concat(q,"-body"),style:E},S?V:L),$=M&&M.length?o.createElement("ul",{className:"".concat(q,"-actions")},function(e){return e.map((function(t,n){return o.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},o.createElement("span",null,t))}))}(M)):null,ee=Object(u.a)(K,["onTabChange"]),te=I||f,ne=s()(q,(n={},r()(n,"".concat(q,"-loading"),S),r()(n,"".concat(q,"-bordered"),R),r()(n,"".concat(q,"-hoverable"),D),r()(n,"".concat(q,"-contain-grid"),function(){var t;return o.Children.forEach(e.children,(function(e){e&&e.type&&e.type===v&&(t=!0)})),t}()),r()(n,"".concat(q,"-contain-tabs"),A&&A.length),r()(n,"".concat(q,"-").concat(te),te),r()(n,"".concat(q,"-type-").concat(T),!!T),r()(n,"".concat(q,"-rtl"),"rtl"===b),n),x);return o.createElement("div",i()({},ee,{className:ne}),a,J,Q,$)};x.Grid=v,x.Meta=j;t.a=x},556:function(e,t,n){"use strict";n.r(t),n.d(t,"MyReservationsPage",(function(){return E}));var a=n(63),r=n(32),c=n(3),i=n(84),o=n(252),l=n(0),s=n(64),u=n(134),d=n(531),b=n(534),v=n(271),f=n(58),j=n(57),m=n(117),h=n(482),O=n.n(h);function p(e){var t=e.reservation,n=e.onEditClick,a=Object(l.useContext)(j.b).user,r=Object(l.useContext)(f.b).courts,i=t.from,o=t.to,s=t.courtId,u=t.name,h=t.text,p=Object(l.useCallback)((function(){n(t)}),[t,n]);return Object(c.jsx)(d.a,{className:O.a.card,actions:[Object(c.jsxs)("div",{onClick:p,children:[Object(c.jsx)(b.a,{})," Bearbeiten"]})],children:Object(c.jsx)(v.a,{court:Object(m.b)(r,s),date:i.format("dd[\xa0]L"),inline:!0,name:h||(null===a||void 0===a?void 0:a.name)!==u&&u,time:"".concat(i.format("H")," Uhr bis ").concat(o.format("H")," Uhr")})})}var g=n(301),x=n(86),y=n(483),k=n.n(y),C=n(87),w=n(266);function E(){var e=Object(l.useContext)(j.b).user.userId,t=Object(w.a)("hour"),n=Object(l.useState)(),d=Object(r.a)(n,2),b=d[0],v=d[1],f=Object(l.useMemo)((function(){return{reqParams:{query:{"user-id":e,start:t.startOf("hour").toISOString()}}}}),[t,e]),m=Object(l.useState)([]),h=Object(r.a)(m,2),O=h[0],y=h[1],E=Object(C.a)(x.d,y,f),N=Object(r.a)(E,1)[0],S=Object(l.useMemo)((function(){var e=Object(a.a)(O);return e.sort((function(e,t){return e.from-t.from})),e}),[O]),_=Object(l.useCallback)((function(e){v(e)}),[]),R=Object(l.useCallback)((function(){v(null)}),[]);return N.error?Object(c.jsx)("div",{className:k.a.wrapper,children:Object(c.jsx)(u.a,{})}):N.loading&&!(null===S||void 0===S?void 0:S.length)?Object(c.jsx)("div",{className:k.a.wrapper,children:Object(c.jsx)(s.a,{visible:!0,spin:!0,large:!0,centered:!0})}):Object(c.jsxs)("div",{className:k.a.wrapper,children:[!(null===S||void 0===S?void 0:S.length)&&Object(c.jsx)("div",{className:k.a.content,children:Object(c.jsx)(i.a,{className:k.a.empty,description:"Keine Reservierungen"})}),(null===S||void 0===S?void 0:S.length)>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"N\xe4chste Reservierung"}),Object(c.jsx)("div",{className:k.a.content,children:Object(c.jsx)(p,{reservation:S[0],onEditClick:_})})]}),(null===S||void 0===S?void 0:S.length)>1&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Weitere Reservierungen"}),Object(c.jsx)("div",{className:k.a.content,children:Object(c.jsx)(o.b,{className:k.a.cardList,direction:"vertical",children:S.map((function(e,t){return 0===t?null:Object(c.jsx)(p,{reservation:e,onEditClick:_},e.id)}))})})]}),b&&Object(c.jsx)(g.a,{reservation:b,onFinish:R,setReservations:y})]})}}}]);
//# sourceMappingURL=11.b0d4fdeb.chunk.js.map