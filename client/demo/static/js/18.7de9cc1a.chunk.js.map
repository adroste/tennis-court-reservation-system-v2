{"version":3,"sources":["admin/SubmitButtons.js","../node_modules/antd/es/alert/ErrorBoundary.js","../node_modules/antd/es/alert/index.js","../node_modules/antd/es/_util/getDataOrAriaProps.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js","user/RegisterForm.js","user/RegisterForm.module.css","user/RegisterPage.module.css","user/RegisterPage.js"],"names":["SubmitButtonsState","apiState","success","loading","error","text","SubmitButtons","disableReset","onSave","onReset","gutter","align","disabled","onClick","type","htmlType","ErrorBoundary","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","apply","arguments","state","undefined","info","componentStack","_createClass","key","value","setState","_this$props","props","message","description","children","_this$state","errorMessage","toString","errorDescription","React","Alert","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","iconMapFilled","CheckCircleFilled","InfoCircleFilled","CloseCircleFilled","warning","ExclamationCircleFilled","iconMapOutlined","CheckCircleOutlined","InfoCircleOutlined","CloseCircleOutlined","ExclamationCircleOutlined","_a","_classNames2","customizePrefixCls","prefixCls","banner","_a$className","className","style","onMouseEnter","onMouseLeave","afterClose","showIcon","closable","closeText","_React$useState","_React$useState2","_slicedToArray","closed","setClosed","ref","_React$useContext","ConfigContext","getPrefixCls","direction","handleClose","onClose","isClosable","getType","isShowIcon","alertCls","classNames","concat","_defineProperty","dataOrAriaProps","keys","reduce","prev","substr","getDataOrAriaProps","CSSMotion","visible","motionName","motionAppear","motionEnter","onLeaveStart","node","maxHeight","offsetHeight","onLeaveEnd","_ref","motionClassName","motionStyle","_extends","role","icon","iconType","replaceElement","renderIconNode","tabIndex","CloseOutlined","Row","Col","RegisterForm","onFinish","user","systemTos","useContext","appContext","templates","Form","useForm","form","useState","setDisableReset","errorMailValueRef","useRef","resetForm","useCallback","resetFields","useEffect","current","getFieldValue","validateFields","handleFieldsChange","styles","layout","onFieldsChange","Item","label","name","initialValue","rules","required","pattern","autoComplete","mail","validator","_","status","Promise","reject","resolve","Password","placeholder","dependencies","pwVal","dangerouslySetInnerHTML","__html","body","valuePropName","module","exports","RegisterPage","setUser","authContext","useApi","postRegisterApi","register","history","useHistory","handleFinishUser","password","push","wrapper","loginItem","to"],"mappings":"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","file":"static/js/18.7de9cc1a.chunk.js","sourcesContent":["import { Button, Col, Row } from 'antd';\n\nimport { StatusText } from './StatusText';\n\nfunction SubmitButtonsState({ apiState }) {\n    const { success, loading, error } = apiState;\n\n    if (loading)\n        return (\n            <StatusText\n                loading\n                text=\"Speichern...\"\n            />\n        );\n\n    if (error)\n        return (\n            <StatusText\n                error\n                text=\"Konnte nicht gespeichert werden\"\n            />\n        );\n\n    if (success)\n        return (\n            <StatusText\n                success\n                text=\"Gespeichert\"\n            />\n        );\n\n    return null;\n}\n\nexport function SubmitButtons({\n    apiState = {},\n    disableReset,\n    onSave,\n    onReset,\n}) {\n    return (\n        <Row gutter={[16, 16]} align=\"middle\">\n            <Col>\n                <Button \n                    disabled={apiState.loading}\n                    onClick={onSave}\n                    type=\"primary\" \n                    htmlType=\"submit\"\n                >\n                    Speichern\n                </Button>\n            </Col>\n            <Col>\n                <Button \n                    disabled={apiState.loading || disableReset}\n                    onClick={onReset}\n                    htmlType=\"reset\"\n                >\n                    Zurücksetzen\n                </Button>\n            </Col>\n            <Col>\n                <SubmitButtonsState apiState={apiState} />\n            </Col>\n        </Row>\n    );\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport * as React from 'react';\nimport Alert from '.';\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  var _super = _createSuper(ErrorBoundary);\n\n  function ErrorBoundary() {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      error: undefined,\n      info: {\n        componentStack: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      this.setState({\n        error: error,\n        info: info\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          description = _this$props.description,\n          children = _this$props.children;\n      var _this$state = this.state,\n          error = _this$state.error,\n          info = _this$state.info;\n      var componentStack = info && info.componentStack ? info.componentStack : null;\n      var errorMessage = typeof message === 'undefined' ? (error || '').toString() : message;\n      var errorDescription = typeof description === 'undefined' ? componentStack : description;\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(Alert, {\n          type: \"error\",\n          message: errorMessage,\n          description: /*#__PURE__*/React.createElement(\"pre\", null, errorDescription)\n        });\n      }\n\n      return children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexport { ErrorBoundary as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport InfoCircleFilled from '@ant-design/icons/InfoCircleFilled';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport getDataOrAriaProps from '../_util/getDataOrAriaProps';\nimport ErrorBoundary from './ErrorBoundary';\nimport { replaceElement } from '../_util/reactNode';\nvar iconMapFilled = {\n  success: CheckCircleFilled,\n  info: InfoCircleFilled,\n  error: CloseCircleFilled,\n  warning: ExclamationCircleFilled\n};\nvar iconMapOutlined = {\n  success: CheckCircleOutlined,\n  info: InfoCircleOutlined,\n  error: CloseCircleOutlined,\n  warning: ExclamationCircleOutlined\n};\n\nvar Alert = function Alert(_a) {\n  var _classNames2;\n\n  var description = _a.description,\n      customizePrefixCls = _a.prefixCls,\n      message = _a.message,\n      banner = _a.banner,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      style = _a.style,\n      onMouseEnter = _a.onMouseEnter,\n      onMouseLeave = _a.onMouseLeave,\n      onClick = _a.onClick,\n      afterClose = _a.afterClose,\n      showIcon = _a.showIcon,\n      closable = _a.closable,\n      closeText = _a.closeText,\n      props = __rest(_a, [\"description\", \"prefixCls\", \"message\", \"banner\", \"className\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"afterClose\", \"showIcon\", \"closable\", \"closeText\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      closed = _React$useState2[0],\n      setClosed = _React$useState2[1];\n\n  var ref = React.useRef();\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('alert', customizePrefixCls);\n\n  var handleClose = function handleClose(e) {\n    var _a;\n\n    setClosed(true);\n    (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  var getType = function getType() {\n    var type = props.type;\n\n    if (type !== undefined) {\n      return type;\n    } // banner 模式默认为警告\n\n\n    return banner ? 'warning' : 'info';\n  }; // closeable when closeText is assigned\n\n\n  var isClosable = closeText ? true : closable;\n  var type = getType();\n\n  var renderIconNode = function renderIconNode() {\n    var icon = props.icon; // use outline icon in alert with description\n\n    var iconType = (description ? iconMapOutlined : iconMapFilled)[type] || null;\n\n    if (icon) {\n      return replaceElement(icon, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-icon\")\n      }, icon), function () {\n        return {\n          className: classNames(\"\".concat(prefixCls, \"-icon\"), _defineProperty({}, icon.props.className, icon.props.className))\n        };\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(iconType, {\n      className: \"\".concat(prefixCls, \"-icon\")\n    });\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    return isClosable ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: handleClose,\n      className: \"\".concat(prefixCls, \"-close-icon\"),\n      tabIndex: 0\n    }, closeText ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-close-text\")\n    }, closeText) : /*#__PURE__*/React.createElement(CloseOutlined, null)) : null;\n  }; // banner 模式默认有 Icon\n\n\n  var isShowIcon = banner && showIcon === undefined ? true : showIcon;\n  var alertCls = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-with-description\"), !!description), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-no-icon\"), !isShowIcon), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-banner\"), !!banner), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-closable\"), isClosable), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2), className);\n  var dataOrAriaProps = getDataOrAriaProps(props);\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: !closed,\n    motionName: \"\".concat(prefixCls, \"-motion\"),\n    motionAppear: false,\n    motionEnter: false,\n    onLeaveStart: function onLeaveStart(node) {\n      return {\n        maxHeight: node.offsetHeight\n      };\n    },\n    onLeaveEnd: afterClose\n  }, function (_ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: ref,\n      \"data-show\": !closed,\n      className: classNames(alertCls, motionClassName),\n      style: _extends(_extends({}, style), motionStyle),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      role: \"alert\"\n    }, dataOrAriaProps), isShowIcon ? renderIconNode() : null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, message), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-description\")\n    }, description), renderCloseIcon());\n  });\n};\n\nAlert.ErrorBoundary = ErrorBoundary;\nexport default Alert;","export default function getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') && key.substr(0, 7) !== 'data-__') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;","import { Alert, Button, Checkbox, Form, Input } from 'antd';\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\n\nimport { StatusText } from '../admin/StatusText';\nimport { SubmitButtons } from '../admin/SubmitButtons';\nimport { appContext } from '../AppContext';\nimport styles from './RegisterForm.module.css';\n\nexport function RegisterForm({\n    apiState = {},\n    onFinish,\n    user,\n}) {\n    const { templates: { systemTos } } = useContext(appContext);\n\n    const [form] = Form.useForm();\n    const [disableReset, setDisableReset] = useState(true);\n    const loading = apiState.loading;\n    const errorMailValueRef = useRef(null);\n\n    const resetForm = useCallback(() => {\n        form.resetFields();\n        setDisableReset(true);\n    }, [form]);\n\n    useEffect(() => {\n        resetForm();\n    }, [resetForm, user]);\n\n    useEffect(() => {\n        if (apiState.success)\n            resetForm();\n        if (apiState.error) {\n            errorMailValueRef.current = form.getFieldValue('mail');\n            form.validateFields();\n        }\n    }, [form, apiState, resetForm]);\n\n    const handleFieldsChange = useCallback(() => {\n        if (disableReset)\n            setDisableReset(false);\n    }, [disableReset]);\n\n    return (\n        <Form\n            form={form}\n            className={styles.form}\n            layout=\"vertical\"\n            onFinish={onFinish}\n            onFieldsChange={handleFieldsChange}\n        >\n            {apiState.error &&\n                <Form.Item>\n                    <Alert\n                        type=\"error\"\n                        message=\"Registrierung fehlgeschlagen.\"\n                    />\n                </Form.Item>\n            }\n\n            <Form.Item\n                label=\"Anzeigename\"\n                name=\"name\"\n                initialValue={user?.name}\n                rules={[\n                    // { max: 20, message: 'Maximal 20 Zeichen erlaubt' },\n                    // { min: 5, message: 'Mindestens 5 Zeichen erforderlich' },\n                    { required: true, message: 'Der Anzeigename darf nicht leer sein' },\n                    {\n                        pattern: /^[\\u00c0-\\u017eA-Za-z0-9.]{1}[\\u00c0-\\u017eA-Za-z0-9\\s.]{3,18}[\\u00c0-\\u017eA-Za-z0-9.]{1}$/,\n                        message: 'Zwischen 5 und 20 Zeichen bestehend aus: Buchstaben, Zahlen, Punkten sowie Leerzeichen (außer am Anfang / Ende)'\n                    },\n                ]}\n            >\n                <Input \n                    autoComplete=\"name\" \n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                name=\"mail\"\n                label=\"E-Mail\"\n                initialValue={user?.mail}\n                rules={[\n                    { type: 'email', message: 'Beispiel: mustermann@web.de' },\n                    { required: true, message: 'E-Mail Adresse ist erforderlich' },\n                    {\n                        required: true,\n                        validator(_, value) {\n                            if (apiState.status === 400 \n                                && apiState.error?.message === 'mail already registered'\n                                && value === errorMailValueRef.current)\n                                return Promise.reject('E-Mail ist bereits registriert');\n                            return Promise.resolve();\n                        },\n                    }\n                ]}\n            >\n                <Input \n                    autoComplete=\"email\" \n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                label={user ? \"Neues Passwort\" : \"Passwort\"}\n                name=\"password\"\n                rules={[\n                    {\n                        required: true,\n                        validator(_, value) {\n                            if (\n                                (value?.length > 0 && value?.length < 8)\n                                || (!user && !value)\n                            )\n                                return Promise.reject('Mindestens 8 Zeichen erforderlich');\n                            return Promise.resolve();\n                        },\n                    }\n                ]}\n            >\n                <Input.Password \n                    autoComplete=\"new-password\" \n                    placeholder={user ? \"Nicht ändern\" : \"Mind. 8 Zeichen\"} \n                    disabled={loading}\n                />\n            </Form.Item>\n\n            <Form.Item\n                label=\"Passwort bestätigen\"\n                name=\"password-confirm\"\n                dependencies={['password']}\n                rules={[\n                    ({ getFieldValue }) => ({\n                        required: true,\n                        validator(_, value) {\n                            const pwVal = getFieldValue('password');\n                            if (pwVal === value || (!pwVal && !value))\n                                return Promise.resolve();\n                            return Promise.reject('Passwörter stimmen nicht überein!');\n                        },\n                    })\n                ]}\n            >\n                <Input.Password \n                    autoComplete=\"new-password\" \n                    placeholder={user ? \"Nicht ändern\" : \"Mind. 8 Zeichen\"} \n                    disabled={loading}\n                />\n            </Form.Item>\n\n            {!user &&\n                <>\n                    <div>\n                        <h1>Nutzungsbedingungen</h1>\n                        <div dangerouslySetInnerHTML={{ __html: systemTos.body }} />\n                    </div>\n\n                    <Form.Item\n                        name=\"tos-accept\"\n                        valuePropName=\"checked\"\n                        rules={[\n                            {\n                                validator: (_, value) =>\n                                    value ? Promise.resolve() : Promise.reject('Erforderlich'),\n                            },\n                        ]}\n                    >\n                        <Checkbox \n                            disabled={loading}\n                        >\n                            Ich akzeptiere die Nutzungsbedingungen\n                        </Checkbox>\n                    </Form.Item>\n                </>\n            }\n\n            <Form.Item>\n                {!user ?\n                    (\n                        <Button\n                            type=\"primary\"\n                            htmlType=\"submit\"\n                            disabled={loading}\n                        >\n                            <StatusText\n                                loading={loading}\n                                text={loading ? 'Registrierung...' : 'Registrieren'}\n                            />\n                        </Button>\n                    ): (\n                        <SubmitButtons\n                            apiState={apiState}\n                            disableReset={disableReset}\n                            onReset={resetForm}\n                        />\n                    )\n                }\n            </Form.Item>\n        </Form>\n    );\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"RegisterForm_form__34nyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cta\":\"RegisterPage_cta__1Q2zL\",\"wrapper\":\"RegisterPage_wrapper__1jLwT\",\"loginItem\":\"RegisterPage_loginItem__3bhw_\"};","import { Link, useHistory } from 'react-router-dom';\nimport React, { useCallback, useContext } from 'react';\n\nimport { RegisterForm } from './RegisterForm';\nimport { authContext } from '../AuthContext';\nimport { postRegisterApi } from '../api';\nimport styles from './RegisterPage.module.css';\nimport { useApi } from '../useApi';\n\nexport function RegisterPage() {\n\n    const { setUser } = useContext(authContext);\n    const [state, register] = useApi(postRegisterApi, setUser);\n    const history = useHistory();\n\n    const handleFinishUser = useCallback(({ name, mail, password }) => {\n        register(null, {\n            name,\n            mail,\n            password,\n        }, () => { \n            history.push('/verify-mail/send');\n        });\n    }, [register, history]);\n\n    return (\n        <div className={styles.wrapper}>\n\n            <h1>\n                Registrieren\n                <div className={styles.loginItem}>\n                    <span>Bereits registriert? </span>\n                    <Link to=\"/login\">Anmelden</Link>\n                </div>\n            </h1>\n\n            <RegisterForm\n                apiState={state}\n                onFinish={handleFinishUser}\n            />\n        </div>\n    );\n}"],"sourceRoot":""}