(this["webpackJsonpreservierungssystem-tennis"]=this["webpackJsonpreservierungssystem-tennis"]||[]).push([[20],{298:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),a=n(309),c=n(310),s=n(72),i=n(137);function l(e){var t=e.apiState,n=t.success,a=t.loading,c=t.error;return a?Object(r.jsx)(i.a,{loading:!0,text:"Speichern..."}):c?Object(r.jsx)(i.a,{error:!0,text:"Konnte nicht gespeichert werden"}):n?Object(r.jsx)(i.a,{success:!0,text:"Gespeichert"}):null}function j(e){var t=e.apiState,n=void 0===t?{}:t,i=e.disableReset,j=e.onSave,b=e.onReset;return Object(r.jsxs)(a.a,{gutter:[16,16],align:"middle",children:[Object(r.jsx)(c.a,{children:Object(r.jsx)(s.a,{disabled:n.loading,onClick:j,type:"primary",htmlType:"submit",children:"Speichern"})}),Object(r.jsx)(c.a,{children:Object(r.jsx)(s.a,{disabled:n.loading||i,onClick:b,htmlType:"reset",children:"Zur\xfccksetzen"})}),Object(r.jsx)(c.a,{children:Object(r.jsx)(l,{apiState:n})})]})}},497:function(e,t,n){e.exports={court:"CourtConfigForm_court__1U5H_",courtIdInput:"CourtConfigForm_courtIdInput__26kkp"}},501:function(e,t,n){e.exports={wrapper:"GeneralSettingsPage_wrapper__2CalC"}},577:function(e,t,n){"use strict";n.r(t),n.d(t,"GeneralSettingsPage",(function(){return T}));var r=n(3),a=n(387),c=n(283),s=n(33),i=n(573),l=n(401),j=n(556),b=n(0),u=n(298),o=n(58),d=n(85),O=n(86);function m(){var e=Object(b.useContext)(o.b),t=e.config.announcement,n=e.setConfig,a=Object(b.useState)(),c=Object(s.a)(a,2),m=c[0],x=c[1],h=Object(b.useState)(!0),f=Object(s.a)(h,2),g=f[0],v=f[1],p=Object(O.a)(d.f,n),k=Object(s.a)(p,2),C=k[0],I=k[1],y=i.a.useForm(),A=Object(s.a)(y,1)[0],z=Object(b.useCallback)((function(e){A.resetFields(),x(!!e),v(!0)}),[A]);Object(b.useEffect)((function(){z(t)}),[z,t]);var S=Object(b.useCallback)((function(e){x(e.target.checked)}),[]),F=Object(b.useCallback)((function(){g&&v(!1)}),[g]),R=Object(b.useCallback)((function(e){var t=e.announcement;I(null,{announcement:m?t:""},(function(){return z(m&&t)}))}),[m,I,z]);return Object(r.jsxs)(i.a,{form:A,layout:"vertical",onFinish:R,onFieldsChange:F,children:[Object(r.jsx)(i.a.Item,{name:"announcement",label:Object(r.jsx)(l.a,{checked:m,onChange:S,children:"Ank\xfcndigung ver\xf6ffentlichen"}),initialValue:t,children:Object(r.jsx)(j.a.TextArea,{disabled:!m})}),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(u.a,{apiState:C,disableReset:g,onReset:z})})]})}var x=n(18),h=n(63),f=n(284),g=n(278),v=n(72),p=n(405),k=n(587),C=n(588),I=n(404),y=n(559),A=n(497),z=n.n(A);function S(){var e=Object(b.useContext)(o.b),t=e.courts,n=e.setCourts,a=Object(b.useState)(!0),c=Object(s.a)(a,2),l=c[0],m=c[1],A=Object(O.a)(d.o,n),S=Object(s.a)(A,2),F=S[0],R=S[1],_=i.a.useForm(),w=Object(s.a)(_,1)[0],P=Object(b.useMemo)((function(){return{courts:t}}),[t]),E=Object(b.useCallback)((function(){w.resetFields(),m(!0)}),[w]);Object(b.useEffect)((function(){w.resetFields()}),[w,t]);var N=Object(b.useCallback)((function(){for(var e=w.getFieldValue("courts")||[],n=0,r=0,a=[].concat(Object(h.a)(t),Object(h.a)(e));r<a.length;r++){var c=a[r];n=Math.max(c.courtId,n)}return n+1}),[t,w]),T=Object(b.useCallback)((function(){l&&m(!1)}),[l]),q=Object(b.useCallback)((function(e){var t=e.courts;f.a.confirm({title:"Achtung!",icon:Object(r.jsx)(p.a,{}),centered:!0,content:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Durch das \xc4ndern von Pl\xe4tzen k\xf6nnen bestehende Reservierungen verloren gehen."}),Object(r.jsx)("p",{children:"Alle Reservierungen, die im Zeitraum einer Sperrung liegen, werden automatisch storniert."}),Object(r.jsx)("p",{children:"Dies gilt auch f\xfcr das Entfernen eines Platzes."}),Object(r.jsx)("p",{children:"Alle Nutzer, die von einer Stornierung betroffen sind, werden per E-Mail informiert."})]}),okText:"Best\xe4tigen",okType:"danger",cancelText:"Abbrechen",onOk:function(){R(null,t,E)}})}),[R,E]);return Object(r.jsxs)(i.a,{autoComplete:"off",form:w,initialValues:P,layout:"vertical",onFieldsChange:T,onFinish:q,children:[Object(r.jsx)(i.a.List,{name:"courts",children:function(e,t){var n=t.add,a=t.remove,c=t.move;return Object(r.jsxs)(r.Fragment,{children:[e.map((function(e,t){return Object(r.jsx)("div",{className:z.a.court,children:Object(r.jsxs)(g.b,{children:[Object(b.createElement)(i.a.Item,Object(x.a)(Object(x.a)({},e),{},{key:"courtId",label:"ID",name:[e.name,"courtId"],fieldKey:[e.fieldKey,"courtId"]}),Object(r.jsx)(j.a,{disabled:!0,bordered:!1,className:z.a.courtIdInput})),Object(b.createElement)(i.a.Item,Object(x.a)(Object(x.a)({},e),{},{key:"name",label:"Name",name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"Name erforderlich"}]}),Object(r.jsx)(j.a,{placeholder:"z.B.: Platz 1"})),Object(r.jsx)(i.a.Item,{label:"Aktionen",children:Object(r.jsxs)(g.b,{children:[Object(r.jsx)(v.a,{onClick:function(){return c(t,t-1)},icon:Object(r.jsx)(k.a,{})}),Object(r.jsx)(v.a,{onClick:function(){return c(t,t+1)},icon:Object(r.jsx)(C.a,{})}),Object(r.jsx)(v.a,{onClick:function(){return a(e.name)},danger:!0,icon:Object(r.jsx)(I.a,{})})]})})]})},e.key)})),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(v.a,{type:"dashed",onClick:function(){return n({courtId:N()})},block:!0,icon:Object(r.jsx)(y.a,{}),children:"Platz anlegen"})},"add")]})}}),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(u.a,{apiState:F,disableReset:l,onReset:E})})]})}var F=n(579),R=n(572),_=n(121),w=Array.from(Array(25)).reduce((function(e,t,n){return e[n]=n%24,e}),{});function P(){var e=Object(b.useContext)(o.b),t=e.config,n=e.setConfig,a=Object(b.useState)(!0),c=Object(s.a)(a,2),l=c[0],m=c[1],x=Object(O.a)(d.f,n),h=Object(s.a)(x,2),f=h[0],g=h[1],v=i.a.useForm(),p=Object(s.a)(v,1)[0],k=Object(b.useCallback)((function(){p.resetFields(),m(!0)}),[p]);Object(b.useEffect)((function(){k()}),[t,k]);var C=Object(b.useCallback)((function(){l&&m(!1)}),[l]),I=Object(b.useCallback)((function(e){g(null,e,k)}),[g,k]);return Object(r.jsxs)(i.a,{form:p,layout:"vertical",initialValues:t,onFinish:I,onFieldsChange:C,children:[Object(r.jsx)(i.a.Item,{name:"url",label:"URL des Reservierungssystems",rules:[{required:!0,message:"URL ist erforderlich"}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"orgName",label:"Vereinsname",rules:[{required:!0,message:"Vereinsname ist erforderlich"}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"timeZone",label:Object(r.jsxs)("span",{children:["Zeitzone (",Object(r.jsx)("a",{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",target:"_blank",rel:"noreferrer",children:"IANA TZ name"}),")"]}),rules:[{required:!0,message:"Zeitzone ist erforderlich"},{validator:function(e,t){return Object(_.c)(t)?Promise.resolve():Promise.reject("Zeitzone ung\xfcltig")}}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"serverMail",label:"E-Mail Adresse, die zum Senden benutzt wird",rules:[{type:"email",message:"Beispiel: mustermann@web.de"},{required:!0,message:"E-Mail Adresse ist erforderlich"}],children:Object(r.jsx)(j.a,{})}),Object(r.jsx)(i.a.Item,{name:"reservationDaysInAdvance",label:"Anzahl der Tage, die Pl\xe4tze im voraus reservierbar sind",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(F.a,{min:1,max:1825})}),Object(r.jsx)(i.a.Item,{name:"reservationMaxActiveCount",label:"Maximale Anzahl an offenen Reservierungen, die ein Nutzer t\xe4tigen darf",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(F.a,{min:1})}),Object(r.jsx)(i.a.Item,{name:"visibleHours",label:"Angezeigte Uhrzeiten im Kalender",rules:[{required:!0,message:"Angabe ist erforderlich"}],children:Object(r.jsx)(R.a,{marks:w,range:!0,min:0,max:24})}),Object(r.jsx)(i.a.Item,{children:Object(r.jsx)(u.a,{apiState:f,disableReset:l,onReset:k})})]})}var E=n(501),N=n.n(E);function T(){return Object(r.jsxs)("div",{className:N.a.wrapper,children:[Object(r.jsx)("h1",{children:"Ank\xfcndigung"}),Object(r.jsx)(m,{}),Object(r.jsx)(a.a,{}),Object(r.jsx)("h1",{children:"Platzverwaltung"}),Object(r.jsx)(c.a.Text,{children:"Die Reihenfolge gibt die Darstellung im Reservierungskalender vor."}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(S,{}),Object(r.jsx)(a.a,{}),Object(r.jsx)("h1",{children:"Basiseinstellungen"}),Object(r.jsx)(P,{})]})}}}]);
//# sourceMappingURL=20.54369880.chunk.js.map