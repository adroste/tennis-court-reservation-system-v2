{"version":3,"sources":["Ball.module.css","navigation/MainMenu.module.css","admin/StatusText.js","ErrorResult.js","updateIntervals.js","useUpdateEffect.js","serviceWorker.js","CookieNotice.js","Footer.js","navigation/MainMenu.js","navigation/NavBar.js","navigation/ProtectedRoute.js","navigation/RouterSwitch.js","App.js","index.js","AuthContext.js","AppContext.js","Ball.js","navigation/NavBar.module.css","api.js","useApi.js","App.module.css"],"names":["module","exports","StatusText","className","loading","error","success","text","visible","spin","style","color","ErrorResult","margin","status","title","extra","type","onClick","window","location","reload","DEFAULT_UPDATE_INTERVALS_SEC","BASE_DATA","RESERVATIONS","UPDATE_INTERVALS_SEC","setDefaultUpdateIntervals","Object","assign","useUpdateEffect","callback","seconds","useEffect","update","document","hidden","addEventListener","int","setInterval","removeEventListener","clearInterval","Boolean","hostname","match","CookieNotice","localStorage","getItem","close","notification","setItem","info","key","message","duration","placement","description","onClose","btn","size","closeIcon","Footer","noLinks","orgName","useContext","appContext","config","to","dayjs","format","process","target","rel","href","cn","classNames","bind","styles","MainMenu","horizontal","authContext","autoLoginState","user","pathname","useLocation","history","useHistory","handleClick","useCallback","push","handleLoginClick","handleRegisterClick","handleLogoutClick","menu","mode","theme","selectedKeys","Item","icon","CalendarOutlined","CarryOutOutlined","BulbOutlined","admin","SubMenu","SettingOutlined","stretch","UserOutlined","menuButton","NavBar","useState","drawerOpen","setDrawerOpen","openMenu","closeDrawer","Header","header","Text","horizontalMenuWrapper","drawerMenuWrapper","MenuOutlined","width","drawer","ProtectedRoute","children","rest","render","state","from","CalendarPage","lazy","then","m","default","GeneralSettingsPage","InfoPage","LegalPrivacyPage","LoginPage","LogoutPage","VerifyMailPage","MyAccountPage","MyReservationsPage","RegisterPage","StatsPage","EditTemplatesPage","UserManagementPage","RouterSwitch","fallback","Ball","large","centered","exact","path","KioskPage","DemoControls","App","basename","preloader","Content","content","footer","locale","extend","weekOfYear","weekYear","localizedFormat","isBetween","isSameOrAfter","isSameOrBefore","mockApi","patchFetch","ReactDOM","AppContext","AuthContext","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","TOKEN_NAME","React","createContext","AuthContextProvider","_setUser","rememberLoginRef","useRef","setUser","getResult","data","newData","token","current","sessionStorage","useApi","postLoginApi","postLogin","postLogoutApi","postLogout","removeItem","setRememberLogin","rememberLogin","logout","userId","value","useMemo","Provider","AppContextProvider","setConfig","courts","setCourts","templates","setTemplates","setBaseData","getBaseDataApi","getBaseDataState","getBaseData","wrapper","ballWrapper","ball","BASE_PATH","url","setFunc","res","map","c","disabledFromTil","t","patchConfigApi","method","cur","req","putCourtsApi","getMailTemplatesApi","putMailTemplateApi","id","postRegisterApi","getReservationsApi","r","date","postReservationGroupApi","patchReservationGroupApi","groupId","params","reference","find","filter","dates","customName","deleteReservationGroupApi","postSendVerifyMailApi","putTemplateApi","getUsersApi","lastActivity","patchUserApi","Array","isArray","u","verified","mail","deleteUserApi","postVerifyMailApi","defaultSetFunc","setData","autoFetch","userToken","setSuccess","setStatus","setLoading","setError","lastCallRef","call","reqParams","reqData","successCallback","cancel","cancelled","task","a","is401","parameterizedUrl","keys","reduce","acc","param","replace","queryString","query","encodeURIComponent","join","headers","fetch","body","JSON","stringify","undefined","response","json","resData","ok","doFetch"],"mappings":"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","file":"static/js/main.c4b1428a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Ball_wrapper__2ZIuN\",\"ballWrapper\":\"Ball_ballWrapper__3raqu\",\"large\":\"Ball_large__2_bXH\",\"preloader\":\"Ball_preloader__38zDy\",\"visible\":\"Ball_visible__1j9MH\",\"centered\":\"Ball_centered__2X2XD\",\"ball\":\"Ball_ball__3Ysq4\",\"spin\":\"Ball_spin__3tWSR\",\"jump\":\"Ball_jump__3yJc4\",\"rotate\":\"Ball_rotate__uVyFJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MainMenu_menu__1Ez4Z\",\"horizontal\":\"MainMenu_horizontal__jNPXA\",\"stretch\":\"MainMenu_stretch__3BpF9\",\"menuButton\":\"MainMenu_menuButton__3Ujw0\"};","import { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\n\nimport { Ball } from '../Ball';\nimport { Space } from 'antd';\n\nexport function StatusText({ \n    className,\n    loading,\n    error,\n    success,\n    text\n}) {\n    return (\n        <Space className={className}>\n            {loading && <Ball visible spin />}\n            {error && <CloseCircleOutlined style={{ color: '#ff4d4f' }} />}\n            {success && <CheckCircleOutlined style={{ color: '#52c41a' }} />}\n            <span>{text}</span>\n        </Space>\n    );\n}","import { Button, Result } from 'antd';\n\nexport function ErrorResult() {\n\n    return (\n        <Result\n            style={{ margin: '0 auto' }}\n            status=\"warning\"\n            title=\"Etwas ist schiefgelaufen.\"\n            extra={\n                <Button type=\"primary\" onClick={() => window.location.reload()} >\n                    Erneut versuchen\n                </Button>\n            }\n        />\n    )\n\n}","const DEFAULT_UPDATE_INTERVALS_SEC = { \n    BASE_DATA: 120,\n    RESERVATIONS: 30,\n};\n\nexport const UPDATE_INTERVALS_SEC = DEFAULT_UPDATE_INTERVALS_SEC;\n\nexport function setDefaultUpdateIntervals() {\n    Object.assign(UPDATE_INTERVALS_SEC, DEFAULT_UPDATE_INTERVALS_SEC);\n}","import { useEffect } from 'react';\n\nexport function useUpdateEffect(callback, seconds) {\n    useEffect(() => {\n        const update = () => {\n            if (!document.hidden)\n                callback();\n        };\n\n        document.addEventListener('visibilitychange', update);\n        const int = setInterval(update, seconds * 1000);\n\n        return () => {\n            document.removeEventListener('visibilitychange', update);\n            clearInterval(int);\n        }\n    }, [callback, seconds]);\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { Button, notification } from 'antd';\nimport React, { useEffect } from 'react';\n\nexport function CookieNotice() {\n\n    useEffect(() => {\n        const closed = localStorage.getItem('notice-closed');\n\n        if (closed)\n            return;\n\n        const close = () => {\n            notification.close('cookie-notice');\n            localStorage.setItem('notice-closed', 'true');\n        };\n\n        notification.info({\n            key: 'cookie-notice',\n            message: 'Cookie Hinweis',\n            duration: 0,\n            placement: 'bottomRight',\n            description: (\n                <>\n                    <div>\n                        Funktionsbedingt wird eine zu Cookies alternative Technologie verwendet.\n                    </div>\n                    <div>\n                        Es werden keine 3rd-Party oder Tracking Cookies gesetzt.\n                    </div>\n                </>\n            ),\n            onClose: close,\n            btn: (\n                <Button type=\"primary\" size=\"middle\" onClick={close}>\n                    OK\n                </Button>\n            ),\n            closeIcon: ' ',\n        });\n    }, []);\n\n    return null;\n}","import React, { useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { appContext } from './AppContext';\nimport dayjs from 'dayjs';\n\nexport function Footer({\n    noLinks,\n}) {\n    const { config: { orgName } } = useContext(appContext);\n\n    const version = process.env.REACT_APP_VERSION;\n\n    return (\n        <>\n            {!noLinks &&\n                <p>\n                    <Link to=\"/legalnotice-privacy\">Impressum / Datenschutz</Link>\n                </p>\n            }\n            <p>\n                {`Â©${dayjs().format('YYYY')} ${orgName} - v${version} - entwickelt von `}\n                {noLinks \n                    ? <span>Alexander&nbsp;Droste</span>\n                    : <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/alexdroste/reservierungssystem-tennis-v2\">Alexander&nbsp;Droste</a>\n                }\n            </p>\n        </>\n    );\n}","import { BulbOutlined, CalendarOutlined, CarryOutOutlined, SettingOutlined, UserOutlined } from '@ant-design/icons';\nimport { Button, Menu } from 'antd';\nimport React, { useCallback, useContext } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { StatusText } from '../admin/StatusText';\nimport { authContext } from '../AuthContext';\nimport classNames from 'classnames/bind';\nimport styles from './MainMenu.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function MainMenu({\n    horizontal = false,\n    onClick,\n}) {\n    const { autoLoginState, user } = useContext(authContext);\n    const { pathname } = useLocation();\n    const history = useHistory();\n\n    const handleClick = useCallback(({ key }) => {\n        if (onClick)\n            onClick(key);\n        if (pathname !== key)\n            history.push(key);\n    }, [history, pathname, onClick]);\n\n    const handleLoginClick = useCallback(() => {\n        handleClick({ key: '/login' });\n    }, [handleClick]);\n\n    const handleRegisterClick = useCallback(() => {\n        handleClick({ key: '/register' });\n    }, [handleClick]);\n\n    const handleLogoutClick = useCallback(() => {\n        handleClick({ key: '/logout' });\n    }, [handleClick]);\n\n    /* Keys of Menu.Items match with the corresponding routes\n     * in RouterSwitch to be able to map location.pathname directly\n     * with the Menu.Item for that route => used to highlight the current item\n     * via selectedKeys prop\n     */\n    return (\n        <>\n            <Menu\n                className={cn({\n                    menu: true,\n                    horizontal\n                })}\n                mode={horizontal ? 'horizontal' : 'inline'}\n                theme='light'\n                selectedKeys={[pathname]}\n                onClick={handleClick}\n            >\n                <Menu.Item key=\"/\" icon={<CalendarOutlined />}>\n                    Reservierungskalender\n                </Menu.Item>\n\n                {user &&\n                    <Menu.Item key=\"/my-reservations\" icon={<CarryOutOutlined />}>\n                        Meine Reservierungen\n                    </Menu.Item>\n                }\n\n                <Menu.Item key=\"/info\" icon={<BulbOutlined />}>\n                    Hinweise\n                </Menu.Item>\n\n                {user?.admin &&\n                    <Menu.SubMenu\n                        key=\"/admin\"\n                        title=\"Verwaltung\"\n                        icon={<SettingOutlined />}\n                    >\n                        <Menu.Item key=\"/admin/general\">\n                            Allgemein\n                        </Menu.Item>\n                        <Menu.Item key=\"/admin/stats\">\n                            Statistiken\n                        </Menu.Item>\n                        <Menu.Item key=\"/admin/users\">\n                            Nutzerverwaltung\n                        </Menu.Item>\n                        <Menu.Item key=\"/admin/templates\">\n                            Textvorlagen\n                        </Menu.Item>\n                    </Menu.SubMenu>\n                }\n\n                <span key=\"stretch\" className={styles.stretch} />\n\n                {user &&\n                    <Menu.Item key=\"/profile\" icon={<UserOutlined />}>\n                        Mein Benutzerkonto\n                    </Menu.Item>\n                }\n            </Menu>\n\n            {autoLoginState.loading &&\n                <StatusText \n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    loading\n                    text=\"Anmeldung...\"\n                />\n            }\n\n            {user &&\n                <Button\n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    onClick={handleLogoutClick}\n                >\n                    Abmelden\n                </Button>\n            }\n\n            {!user && !autoLoginState.loading &&\n                <Button\n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    onClick={handleLoginClick}\n                >\n                    Anmelden\n                </Button>\n            }\n\n            {!user && !autoLoginState.loading &&\n                <Button\n                    className={cn({\n                        menuButton: true,\n                        horizontal,\n                    })}\n                    type=\"primary\"\n                    onClick={handleRegisterClick}\n                >\n                    Kostenlos Registrieren\n                </Button>\n            }\n        </>\n    );\n}","import { Button, Drawer, Layout, Typography } from 'antd';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { MainMenu } from './MainMenu';\nimport { MenuOutlined } from '@ant-design/icons';\nimport { appContext } from '../AppContext';\nimport styles from './NavBar.module.css';\n\nexport function NavBar() {\n    const { config: { orgName } } = useContext(appContext);\n\n    const [drawerOpen, setDrawerOpen] = useState(false);\n\n    const openMenu = useCallback(() => setDrawerOpen(true), []);\n    const closeDrawer = useCallback(() => setDrawerOpen(false), []);\n\n    return (\n        <Layout.Header className={styles.header}>\n            <div className={styles.title}>\n                <div className={styles.orgName}>\n                    {orgName}\n                </div>\n                <Typography.Text type=\"secondary\">\n                    Reservierungssystem\n                </Typography.Text>\n            </div>\n            <div className={styles.horizontalMenuWrapper}>\n                <MainMenu horizontal />\n            </div>\n            <div className={styles.drawerMenuWrapper}>\n                <Button\n                    type=\"text\"\n                    icon={<MenuOutlined />}\n                    onClick={openMenu}\n                />\n                <Drawer\n                    title={`${orgName}\\nReservierungssystem`}\n                    visible={drawerOpen}\n                    width={300}\n                    className={styles.drawer}\n                    onClose={closeDrawer}\n                >\n                    <MainMenu onClick={closeDrawer} />\n                </Drawer>\n            </div>\n        </Layout.Header>\n    );\n}","import React, { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nimport { authContext } from '../AuthContext';\n\nexport function ProtectedRoute({ admin, children, ...rest }) {\n\n    const { user } = useContext(authContext);\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                if (!user)\n                    return <Redirect to={{ pathname: \"/login\", state: { from: location } }} />;\n                else if (admin && !user.admin)\n                    return <Redirect to=\"/\" />;\n                return children;\n            }}\n        />\n    );\n}","import React, { Suspense, lazy, useContext } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport { Ball } from '../Ball';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport { authContext } from '../AuthContext';\n\nconst CalendarPage = lazy(() => import('../calendar/CalendarPage').then(m => ({ default: m.CalendarPage })));\nconst GeneralSettingsPage = lazy(() => import('../admin/GeneralSettingsPage').then(m => ({ default: m.GeneralSettingsPage })));\nconst InfoPage = lazy(() => import('../other/InfoPage').then(m => ({ default: m.InfoPage })));\nconst LegalPrivacyPage = lazy(() => import('../other/LegalPrivacyPage').then(m => ({ default: m.LegalPrivacyPage })));\nconst LoginPage = lazy(() => import('../user/LoginPage').then(m => ({ default: m.LoginPage })));\nconst LogoutPage = lazy(() => import('../user/LogoutPage').then(m => ({ default: m.LogoutPage })));\nconst VerifyMailPage = lazy(() => import('../user/VerifyMailPage').then(m => ({ default: m.VerifyMailPage })));\nconst MyAccountPage = lazy(() => import('../user/MyAccountPage').then(m => ({ default: m.MyAccountPage })));\nconst MyReservationsPage = lazy(() => import('../calendar/MyReservationsPage').then(m => ({ default: m.MyReservationsPage })));\nconst RegisterPage = lazy(() => import('../user/RegisterPage').then(m => ({ default: m.RegisterPage })));\nconst StatsPage = lazy(() => import('../admin/StatsPage').then(m => ({ default: m.StatsPage })));\nconst EditTemplatesPage = lazy(() => import('../admin/EditTemplatesPage').then(m => ({ default: m.EditTemplatesPage })));\nconst UserManagementPage = lazy(() => import('../admin/UserManagementPage').then(m => ({ default: m.UserManagementPage })));\n\nexport function RouterSwitch() {\n\n    const { user } = useContext(authContext);\n\n    return (\n        <Suspense fallback={<Ball visible large centered spin />}>\n            <Switch>\n\n                <Route exact path=\"/\">\n                    <CalendarPage />\n                </Route>\n\n                <Route exact path=\"/info\">\n                    <InfoPage />\n                </Route>\n\n                <Route exact path=\"/legalnotice-privacy\">\n                    <LegalPrivacyPage />\n                </Route>\n\n                <Route exact path=\"/logout\">\n                    <LogoutPage />\n                </Route>\n\n                <Route exact path=\"/login\">\n                    <LoginPage />\n                </Route>\n\n                <Route exact path=\"/register\">\n                    <RegisterPage />\n                </Route>\n\n                <ProtectedRoute path=\"/verify-mail/:verifyToken\">\n                    <VerifyMailPage />\n                </ProtectedRoute>\n\n                <ProtectedRoute admin exact path=\"/admin/general\">\n                    <GeneralSettingsPage />\n                </ProtectedRoute>\n\n                <ProtectedRoute admin exact path=\"/admin/stats\">\n                    <StatsPage />\n                </ProtectedRoute>\n\n                <ProtectedRoute admin exact path=\"/admin/users\">\n                    <UserManagementPage />\n                </ProtectedRoute>\n\n                <ProtectedRoute admin exact path=\"/admin/templates\">\n                    <EditTemplatesPage />\n                </ProtectedRoute>\n\n                <ProtectedRoute admin exact path=\"/my-reservations\">\n                    <MyReservationsPage />\n                </ProtectedRoute>\n\n                <ProtectedRoute exact path=\"/profile\">\n                    <MyAccountPage />\n                </ProtectedRoute>\n\n                <Route path=\"*\">\n                    <Redirect to=\"/\" />\n                </Route>\n\n            </Switch>\n        </Suspense>\n    );\n}","import React, { Suspense, lazy, useContext } from 'react';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\n\nimport { Ball } from './Ball';\nimport { CookieNotice } from './CookieNotice';\nimport { ErrorResult } from './ErrorResult';\nimport { Footer } from './Footer';\nimport { Layout } from 'antd';\nimport { NavBar } from './navigation/NavBar';\nimport { RouterSwitch } from './navigation/RouterSwitch';\nimport { appContext } from './AppContext';\nimport styles from './App.module.css';\n\nconst KioskPage = lazy(() => import('./kiosk/KioskPage').then(m => ({ default: m.KioskPage })));\nconst DemoControls = lazy(() => import('./demo/DemoControls').then(m => ({ default: m.DemoControls })));\n\nfunction App() {\n    const { config, state } = useContext(appContext);\n\n    const basename = process.env.PUBLIC_URL;\n    const demoMode = process.env.REACT_APP_DEMO;\n\n    if (state.error)\n        return <ErrorResult />;\n\n    if (!config)\n        return <Ball visible preloader spin />;\n\n    return (\n        <Router basename={basename}>\n            <Layout>\n                <Suspense fallback={<Ball visible preloader spin />}>\n\n                    <Switch>\n                        <Route exact path=\"/kiosk\">\n                            <Layout.Content className={styles.content}>\n                                <KioskPage />\n                            </Layout.Content>\n\n                            <Layout.Footer className={styles.footer}>\n                                <Footer noLinks />\n                            </Layout.Footer>\n                        </Route>\n\n                        <Route path=\"*\">\n                            <NavBar />\n\n                            <Layout.Content className={styles.content}>\n                                <RouterSwitch />\n                            </Layout.Content>\n\n                            <Layout.Footer className={styles.footer}>\n                                <Footer />\n                            </Layout.Footer>\n\n                            <CookieNotice />\n                        </Route>\n                    </Switch>\n\n                    {demoMode && <DemoControls />}\n\n                </Suspense>\n            </Layout>\n        </Router>\n    );\n}\n\nexport default App;\n","import 'antd/dist/antd.css';\nimport './index.css';\nimport 'dayjs/locale/de';\nimport 'fontsource-inter/latin-400.css';\nimport 'fontsource-inter/latin-600.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './App';\nimport { AppContextProvider } from './AppContext';\nimport { AuthContextProvider } from './AuthContext';\nimport { ConfigProvider } from 'antd';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport dayjs from 'dayjs';\nimport isBetween from 'dayjs/plugin/isBetween';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport locale from 'antd/lib/locale/de_DE';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\nimport weekYear from 'dayjs/plugin/weekYear';\n\ndayjs.locale('de');\ndayjs.extend(weekOfYear);\ndayjs.extend(weekYear);\ndayjs.extend(localizedFormat);\ndayjs.extend(isBetween);\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\n\nfunction renderApp() {\n    ReactDOM.render((\n        <ConfigProvider locale={locale}>\n            <AppContextProvider>\n                <AuthContextProvider>\n                    <App />\n                </AuthContextProvider>\n            </AppContextProvider>\n        </ConfigProvider>\n    ), document.getElementById('root'));\n}\n\nif (process.env.REACT_APP_DEMO) {\n    import('./demo/mockApi').then(mockApi => {\n        mockApi.patchFetch();\n        renderApp();\n    });\n} else {\n    renderApp();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { postLoginApi, postLogoutApi } from './api';\n\nimport { useApi } from './useApi';\n\nconst TOKEN_NAME = 'usertoken';\n\nexport const authContext = React.createContext();\n\nexport function AuthContextProvider({ children }) {\n\n    const [user, _setUser] = useState(null);\n    const rememberLoginRef = useRef(false);\n\n    const setUser = useCallback(getResult => {\n        _setUser(data => {\n            const newData = getResult(data);\n            if (newData?.token) {\n                if (rememberLoginRef.current)\n                    localStorage.setItem(TOKEN_NAME, newData.token);\n                else\n                    sessionStorage.setItem(TOKEN_NAME, newData.token);\n            }\n            return newData;\n        });\n    }, []);\n\n    const [autoLoginState, postLogin] = useApi(postLoginApi, setUser);\n    const [, postLogout] = useApi(postLogoutApi);\n\n    useEffect(() => {\n        const token = sessionStorage.getItem(TOKEN_NAME) || localStorage.getItem(TOKEN_NAME);\n        if (token && !user)\n            postLogin(null, {\n                type: 'token',\n                token,\n            });\n    }, [postLogin, user]);\n\n    useEffect(() => {\n        if (autoLoginState.error) {\n            sessionStorage.removeItem(TOKEN_NAME);\n            localStorage.removeItem(TOKEN_NAME);\n        }\n    }, [autoLoginState]);\n\n    const setRememberLogin = useCallback(rememberLogin => {\n        rememberLoginRef.current = rememberLogin;\n    }, []);\n\n    const logout = useCallback(() => {\n        postLogout(null, {\n            userId: user?.userId,\n        });\n        _setUser(null);\n        sessionStorage.removeItem(TOKEN_NAME);\n        localStorage.removeItem(TOKEN_NAME);\n    }, [postLogout, user?.userId]);\n\n    const value = useMemo(() => ({\n        autoLoginState,\n        logout,\n        setRememberLogin,\n        setUser,\n        user,\n    }), [\n        autoLoginState,\n        logout,\n        setRememberLogin,\n        setUser,\n        user,\n    ]);\n\n    return (\n        <authContext.Provider value={value}>\n            {children}\n        </authContext.Provider>\n    );\n}","import React, { useCallback, useMemo, useState } from 'react';\n\nimport { UPDATE_INTERVALS_SEC } from './updateIntervals';\nimport { getBaseDataApi } from './api';\nimport { useApi } from './useApi';\nimport { useUpdateEffect } from './useUpdateEffect';\n\nexport const appContext = React.createContext();\n\nexport function AppContextProvider({ children }) {\n\n    const [config, setConfig] = useState();\n    const [courts, setCourts] = useState();\n    const [templates, setTemplates] = useState();\n\n    const setBaseData = useCallback(getResult => {\n        const { config, courts, templates } = getResult(null);\n        setConfig(config);\n        setTemplates(templates);\n        setCourts(courts);\n    }, []);\n\n    const [getBaseDataState, getBaseData] = useApi(getBaseDataApi, setBaseData, true); \n    useUpdateEffect(getBaseData, UPDATE_INTERVALS_SEC.BASE_DATA);\n\n    const value = useMemo(() => ({\n        config,\n        courts,\n        templates,\n        setConfig,\n        setCourts,\n        setTemplates,\n        state: getBaseDataState,\n        reload: getBaseData,\n    }), [\n        config,\n        courts,\n        templates,\n        getBaseDataState,\n        getBaseData,\n    ]);\n\n    return (\n        <appContext.Provider value={value}>\n            {children}\n        </appContext.Provider>\n    );\n}","import React from 'react';\nimport classNames from 'classnames/bind';\nimport styles from './Ball.module.css';\n\nconst cn = classNames.bind(styles);\n\nexport function Ball({\n    centered,\n    large,\n    preloader,\n    spin,\n    visible,\n}) {\n    return (\n        <div className={cn({\n            centered,\n            preloader,\n            spin,\n            visible,\n            wrapper: true,\n        })}>\n            <div className={cn({\n                ballWrapper: true,\n                large,\n            })}>\n                <div className={styles.ball}>\n                </div>\n            </div>\n        </div>\n    )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"NavBar_header__3EbUr\",\"title\":\"NavBar_title__2Ydj-\",\"orgName\":\"NavBar_orgName__3TDkX\",\"horizontalMenuWrapper\":\"NavBar_horizontalMenuWrapper__pOr71\",\"drawerMenuWrapper\":\"NavBar_drawerMenuWrapper__15WnD\",\"drawer\":\"NavBar_drawer__2Jr7L\"};","import dayjs from 'dayjs';\n\nconst BASE_PATH = '/api';\n\nexport const getBaseDataApi = {\n    url: `${BASE_PATH}/base-data`,\n    setFunc: ({ res }) => ({\n        ...res,\n        courts: res.courts?.map(c => ({\n            ...c,\n            disabledFromTil: c.disabledFromTil?.map(t => dayjs(t)),\n        })),\n    }),\n};\n\nexport const patchConfigApi = {\n    url: `${BASE_PATH}/config`,\n    method: 'PATCH',\n    setFunc: ({ cur, req }) => ({\n        ...cur,\n        ...req,\n    }),\n};\n\nexport const putCourtsApi = {\n    url: `${BASE_PATH}/courts`,\n    method: 'PUT',\n    setFunc: ({ req }) => req,\n};\n\nexport const postLoginApi = {\n    url: `${BASE_PATH}/login`,\n    method: 'POST',\n};\n\nexport const postLogoutApi = {\n    url: `${BASE_PATH}/logout`,\n    method: 'POST',\n};\n\nexport const getMailTemplatesApi = {\n    url: `${BASE_PATH}/mail-templates`,\n};\n\nexport const putMailTemplateApi = {\n    url: `${BASE_PATH}/mail-template/:id`,\n    method: 'PUT',\n    setFunc: ({ cur, req }) => ({\n        ...cur,\n        [req.id]: req,\n    }),\n};\n\nexport const postRegisterApi = {\n    url: `${BASE_PATH}/register`,\n    method: 'POST',\n};\n\nexport const getReservationsApi = {\n    url: `${BASE_PATH}/reservations`,\n    method: 'POST',\n    setFunc: ({ res }) => res.map(r => ({\n        ...r,\n        date: dayjs(r.date),\n    })),\n};\n\nexport const postReservationGroupApi = {\n    url: `${BASE_PATH}/reservation-group`,\n    method: 'POST',\n    setFunc: ({ cur, res }) => ([\n        ...cur,\n        ...res.map(r => ({\n            ...r,\n            date: dayjs(r.date),\n        })),\n    ]),\n};\n\nexport const patchReservationGroupApi = {\n    url: `${BASE_PATH}/reservation-group/:groupId`,\n    method: 'PATCH',\n    setFunc: ({ cur, req, params }) => {\n        const groupId = params.path.groupId;\n        const reference = cur.find(r => r.groupId === groupId);\n        return [\n            ...cur.filter(r => r.groupId !== groupId),\n            ...req.dates.map(date => ({\n                ...reference,\n                date,\n                customName: req.customName || reference.customName,\n            }))\n        ];\n    },\n};\n\nexport const deleteReservationGroupApi = {\n    url: `${BASE_PATH}/reservation-group/:groupId`,\n    method: 'DELETE',\n    setFunc: ({ cur, params }) => (\n        cur.filter(r => r.groupId !== params.path.groupId)\n    ),\n};\n\nexport const postSendVerifyMailApi = {\n    url: `${BASE_PATH}/send-verify-mail`,\n    method: 'POST',\n};\n\nexport const putTemplateApi = {\n    url: `${BASE_PATH}/template/:id`,\n    method: 'PUT',\n    setFunc: ({ cur, req }) => ({\n        ...cur,\n        [req.id]: req,\n    }),\n};\n\nexport const getUsersApi = {\n    url: `${BASE_PATH}/users`,\n    setFunc: ({ res }) => res.map(user => ({\n        ...user,\n        lastActivity: user.lastActivity && dayjs(user.lastActivity)\n    })),\n};\n\nexport const patchUserApi = {\n    url: `${BASE_PATH}/user/:userId`,\n    method: 'PATCH',\n    setFunc: ({ cur, req }) => {\n        if (Array.isArray(cur)) {\n            return cur.map(u => {\n                if (u.userId === req.userId)\n                    return {\n                        ...u,\n                        ...req,\n                        verified: (!req.mail || u.mail === req.mail)\n                            ? u.verified : false,\n                    };\n                return u;\n            });\n        } else {\n            return {\n                ...cur,\n                ...req,\n                verified: (!req.mail || cur.mail === req.mail)\n                    ? cur.verified : false,\n            };\n        }\n    },\n};\n\nexport const deleteUserApi = {\n    url: `${BASE_PATH}/user/:userId`,\n    method: 'DELETE',\n    setFunc: ({ cur, params }) => (\n        cur.filter(u => u.userId !== params.path.userId)\n    ),\n};\n\nexport const postVerifyMailApi = {\n    url: `${BASE_PATH}/verify-mail`,\n    method: 'POST',\n    setFunc: ({ cur }) => ({\n        ...cur,\n        verified: true,\n    }),\n};\n","import { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { authContext } from './AuthContext';\n\nconst defaultSetFunc = ({ res }) => res;\n\n// WARNING: function reference to 'call' changes when \n// user.token or user.userId changes\nexport function useApi(\n    {\n        url,\n        method = 'GET',\n        // res must return new state\n        // signature: ({ cur, params, req, res }) => updatedData\n        setFunc = defaultSetFunc,\n    },\n    // setData is called in any case after fetch was successful\n    // even if call was cancelled \n    setData,\n    // autoFetch can be boolean or object like { reqParams, reqData }\n    // will trigger refetch when instance changes\n    autoFetch = false,\n) {\n    const { user, logout } = useContext(authContext) || {};\n    const userToken = user?.token;\n    const [success, setSuccess] = useState(false);\n    const [status, setStatus] = useState(null);\n    const [loading, setLoading] = useState(!!autoFetch);\n    const [error, setError] = useState(null);\n    const lastCallRef = useRef(null);\n\n    // reqParams like { query: { example: 1 }, path: { id: 4 }}\n    const call = useCallback((reqParams, reqData, successCallback) => {\n        if (lastCallRef.current)\n            lastCallRef.current.cancel();\n\n        let cancelled = false;\n\n        const doFetch = async () => {\n            setSuccess(false);\n            setStatus(null);\n            setLoading(true);\n            let is401 = false;\n            try {\n                let parameterizedUrl = Object.keys(reqParams?.path || {})\n                    .reduce((acc, param) => acc.replace(`:${param}`, reqParams.path[param]), url);\n                const queryString = Object.keys(reqParams?.query || {})\n                    .map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(reqParams.query[key])}`)\n                    .join('&');\n                if (queryString)\n                    parameterizedUrl += `?${queryString}`;\n                \n                const headers = {};\n                if (userToken)\n                    headers['Authorization'] = `Bearer ${userToken}`;\n                if (reqData)\n                    headers['Content-Type'] = 'application/json';\n                \n                if (cancelled) \n                    return;\n\n                const response = await fetch(parameterizedUrl, {\n                    method,\n                    headers,\n                    body: reqData ? JSON.stringify(reqData) : undefined,\n                });\n\n                if (!cancelled)\n                    setStatus(response.status);\n\n                const resData = await response.json();\n\n                if (response.ok) {\n                    if (setData)\n                        setData(cur => setFunc({\n                            cur, \n                            params: reqParams,\n                            req: reqData, \n                            res: resData,\n                        }));\n                    if (!cancelled) {\n                        setSuccess(true);\n                        if (successCallback)\n                            successCallback();\n                    }\n                } else {\n                    if (!cancelled)\n                        setError(resData);\n                    is401 = response.status === 401;\n                }\n            } catch (err) {\n                if (!cancelled)\n                    setError(err);\n            } finally {\n                if (!cancelled)\n                    setLoading(false);\n                if (is401)\n                    logout?.();\n            }\n        };\n\n        const task = doFetch();\n        task.cancel = () => cancelled = true;\n        lastCallRef.current = task;\n        return task.cancel;\n    }, [\n        logout, // changes when user.userId changes\n        method,\n        setData,\n        setFunc,\n        url,\n        userToken,\n    ]);\n\n    useEffect(() => {\n        if (autoFetch)\n            call(autoFetch?.reqParams, autoFetch?.reqData);\n    }, [autoFetch, call])\n\n    useEffect(() => {\n        return () => lastCallRef.current?.cancel?.();\n    }, []);\n\n    return useMemo(() => ([\n        {\n            success,\n            loading,\n            error,\n            status,\n        },\n        call, // see hint at top of file\n    ]), [\n        success,\n        loading,\n        error,\n        status,\n        call,\n    ]);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__3La4L\",\"footer\":\"App_footer__29Fsv\"};"],"sourceRoot":""}